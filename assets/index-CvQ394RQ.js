(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var zm={exports:{}},Ql={};var I0;function X2(){if(I0)return Ql;I0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var D0;function J2(){return D0||(D0=1,zm.exports=X2()),zm.exports}var y=J2(),Bm={exports:{}},Re={};var M0;function W2(){if(M0)return Re;M0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,O={};function V(U,te,le){this.props=U,this.context=te,this.refs=O,this.updater=le||C}V.prototype.isReactComponent={},V.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=V.prototype;function Q(U,te,le){this.props=U,this.context=te,this.refs=O,this.updater=le||C}var se=Q.prototype=new F;se.constructor=Q,L(se,V.prototype),se.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(U,te,le){var he=le.ref;return{$$typeof:t,type:U,key:te,ref:he!==void 0?he:null,props:le}}function z(U,te){return N(U.type,te,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function H(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return te[le]})}var D=/\/+/g;function it(U,te){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):te.toString(36)}function re(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ge,ge):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,te,le,he,we){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var Be=!1;if(U===null)Be=!0;else switch(De){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(U.$$typeof){case t:case e:Be=!0;break;case v:return Be=U._init,K(Be(U._payload),te,le,he,we)}}if(Be)return we=we(U),Be=he===""?"."+it(U,0):he,de(we)?(le="",Be!=null&&(le=Be.replace(D,"$&/")+"/"),K(we,te,le,"",function(Ds){return Ds})):we!=null&&(k(we)&&(we=z(we,le+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(D,"$&/")+"/")+Be)),te.push(we)),1;Be=0;var jt=he===""?".":he+":";if(de(U))for(var ut=0;ut<U.length;ut++)he=U[ut],De=jt+it(he,ut),Be+=K(he,te,le,De,we);else if(ut=w(U),typeof ut=="function")for(U=ut.call(U),ut=0;!(he=U.next()).done;)he=he.value,De=jt+it(he,ut++),Be+=K(he,te,le,De,we);else if(De==="object"){if(typeof U.then=="function")return K(re(U),te,le,he,we);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function oe(U,te,le){if(U==null)return U;var he=[],we=0;return K(U,he,"","",function(De){return te.call(le,De,we++)}),he}function _e(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Qe={map:oe,forEach:function(U,te,le){oe(U,function(){te.apply(this,arguments)},le)},count:function(U){var te=0;return oe(U,function(){te++}),te},toArray:function(U){return oe(U,function(te){return te})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Re.Activity=E,Re.Children=Qe,Re.Component=V,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=Q,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Re.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},Re.cache=function(U){return function(){return U.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(U,te,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=L({},U.props),we=U.key;if(te!=null)for(De in te.key!==void 0&&(we=""+te.key),te)!A.call(te,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&te.ref===void 0||(he[De]=te[De]);var De=arguments.length-2;if(De===1)he.children=le;else if(1<De){for(var Be=Array(De),jt=0;jt<De;jt++)Be[jt]=arguments[jt+2];he.children=Be}return N(U.type,we,he)},Re.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Re.createElement=function(U,te,le){var he,we={},De=null;if(te!=null)for(he in te.key!==void 0&&(De=""+te.key),te)A.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(we[he]=te[he]);var Be=arguments.length-2;if(Be===1)we.children=le;else if(1<Be){for(var jt=Array(Be),ut=0;ut<Be;ut++)jt[ut]=arguments[ut+2];we.children=jt}if(U&&U.defaultProps)for(he in Be=U.defaultProps,Be)we[he]===void 0&&(we[he]=Be[he]);return N(U,De,we)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:f,render:U}},Re.isValidElement=k,Re.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:_e}},Re.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},Re.startTransition=function(U){var te=I.T,le={};I.T=le;try{var he=U(),we=I.S;we!==null&&we(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ge,Fe)}catch(De){Fe(De)}finally{te!==null&&le.types!==null&&(te.types=le.types),I.T=te}},Re.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Re.use=function(U){return I.H.use(U)},Re.useActionState=function(U,te,le){return I.H.useActionState(U,te,le)},Re.useCallback=function(U,te){return I.H.useCallback(U,te)},Re.useContext=function(U){return I.H.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U,te){return I.H.useDeferredValue(U,te)},Re.useEffect=function(U,te){return I.H.useEffect(U,te)},Re.useEffectEvent=function(U){return I.H.useEffectEvent(U)},Re.useId=function(){return I.H.useId()},Re.useImperativeHandle=function(U,te,le){return I.H.useImperativeHandle(U,te,le)},Re.useInsertionEffect=function(U,te){return I.H.useInsertionEffect(U,te)},Re.useLayoutEffect=function(U,te){return I.H.useLayoutEffect(U,te)},Re.useMemo=function(U,te){return I.H.useMemo(U,te)},Re.useOptimistic=function(U,te){return I.H.useOptimistic(U,te)},Re.useReducer=function(U,te,le){return I.H.useReducer(U,te,le)},Re.useRef=function(U){return I.H.useRef(U)},Re.useState=function(U){return I.H.useState(U)},Re.useSyncExternalStore=function(U,te,le){return I.H.useSyncExternalStore(U,te,le)},Re.useTransition=function(){return I.H.useTransition()},Re.version="19.2.3",Re}var O0;function ep(){return O0||(O0=1,Bm.exports=W2()),Bm.exports}var P=ep(),Hm={exports:{}},Xl={},Fm={exports:{}},qm={};var V0;function Z2(){return V0||(V0=1,(function(t){function e(K,oe){var _e=K.length;K.push(oe);e:for(;0<_e;){var Fe=_e-1>>>1,Qe=K[Fe];if(0<a(Qe,oe))K[Fe]=oe,K[_e]=Qe,_e=Fe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var oe=K[0],_e=K.pop();if(_e!==oe){K[0]=_e;e:for(var Fe=0,Qe=K.length,U=Qe>>>1;Fe<U;){var te=2*(Fe+1)-1,le=K[te],he=te+1,we=K[he];if(0>a(le,_e))he<Qe&&0>a(we,le)?(K[Fe]=we,K[he]=_e,Fe=he):(K[Fe]=le,K[te]=_e,Fe=te);else if(he<Qe&&0>a(we,_e))K[Fe]=we,K[he]=_e,Fe=he;else break e}}return oe}function a(K,oe){var _e=K.sortIndex-oe.sortIndex;return _e!==0?_e:K.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var g=[],p=[],v=1,E=null,b=3,w=!1,C=!1,L=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function se(K){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=K)r(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function de(K){if(L=!1,se(K),!C)if(n(g)!==null)C=!0,ge||(ge=!0,H());else{var oe=n(p);oe!==null&&re(de,oe.startTime-K)}}var ge=!1,I=-1,A=5,N=-1;function z(){return O?!0:!(t.unstable_now()-N<A)}function k(){if(O=!1,ge){var K=t.unstable_now();N=K;var oe=!0;try{e:{C=!1,L&&(L=!1,F(I),I=-1),w=!0;var _e=b;try{t:{for(se(K),E=n(g);E!==null&&!(E.expirationTime>K&&z());){var Fe=E.callback;if(typeof Fe=="function"){E.callback=null,b=E.priorityLevel;var Qe=Fe(E.expirationTime<=K);if(K=t.unstable_now(),typeof Qe=="function"){E.callback=Qe,se(K),oe=!0;break t}E===n(g)&&r(g),se(K)}else r(g);E=n(g)}if(E!==null)oe=!0;else{var U=n(p);U!==null&&re(de,U.startTime-K),oe=!1}}break e}finally{E=null,b=_e,w=!1}oe=void 0}}finally{oe?H():ge=!1}}}var H;if(typeof Q=="function")H=function(){Q(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,it=D.port2;D.port1.onmessage=k,H=function(){it.postMessage(null)}}else H=function(){V(k,0)};function re(K,oe){I=V(function(){K(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var _e=b;b=oe;try{return K()}finally{b=_e}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _e=b;b=K;try{return oe()}finally{b=_e}},t.unstable_scheduleCallback=function(K,oe,_e){var Fe=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Fe+_e:Fe):_e=Fe,K){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=_e+Qe,K={id:v++,callback:oe,priorityLevel:K,startTime:_e,expirationTime:Qe,sortIndex:-1},_e>Fe?(K.sortIndex=_e,e(p,K),n(g)===null&&K===n(p)&&(L?(F(I),I=-1):L=!0,re(de,_e-Fe))):(K.sortIndex=Qe,e(g,K),C||w||(C=!0,ge||(ge=!0,H()))),K},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(K){var oe=b;return function(){var _e=b;b=oe;try{return K.apply(this,arguments)}finally{b=_e}}}})(qm)),qm}var P0;function ex(){return P0||(P0=1,Fm.exports=Z2()),Fm.exports}var $m={exports:{}},tn={};var k0;function tx(){if(k0)return tn;k0=1;var t=ep();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},tn.flushSync=function(g){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=v,r.d.f()}},tn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},tn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},tn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:w}):v==="script"&&r.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},tn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},tn.requestFormReset=function(g){r.d.r(g)},tn.unstable_batchedUpdates=function(g,p){return g(p)},tn.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var j0;function nx(){if(j0)return $m.exports;j0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=tx(),$m.exports}var L0;function ix(){if(L0)return Xl;L0=1;var t=ex(),e=ep(),n=nx();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return g(d),i;if(m===u)return g(d),s;m=m.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=m;else{for(var T=!1,x=d.child;x;){if(x===o){T=!0,o=d,u=m;break}if(x===u){T=!0,u=d,o=m;break}x=x.sibling}if(!T){for(x=m.child;x;){if(x===o){T=!0,o=m,u=d;break}if(x===u){T=!0,u=m,o=d;break}x=x.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function it(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case V:return"Profiler";case O:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case Q:return i.displayName||"Context";case F:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:it(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return it(i(s))}catch{}}return null}var re=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Fe=[],Qe=-1;function U(i){return{current:i}}function te(i){0>Qe||(i.current=Fe[Qe],Fe[Qe]=null,Qe--)}function le(i,s){Qe++,Fe[Qe]=i.current,i.current=s}var he=U(null),we=U(null),De=U(null),Be=U(null);function jt(i,s){switch(le(De,s),le(we,i),le(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Zv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Zv(s),i=e0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(he),le(he,i)}function ut(){te(he),te(we),te(De)}function Ds(i){i.memoizedState!==null&&le(Be,i);var s=he.current,o=e0(s,i.type);s!==o&&(le(we,i),le(he,o))}function xa(i){we.current===i&&(te(he),te(we)),Be.current===i&&(te(Be),$l._currentValue=_e)}var Ra,Aa;function fi(i){if(Ra===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ra=s&&s[1]||"",Aa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+i+Aa}var $o=!1;function Ms(i,s){if(!i||$o)return"";$o=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(J){var Y=J}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(J){Y=J}i.call(ee.prototype)}}else{try{throw Error()}catch(J){Y=J}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],x=m[1];if(T&&x){var M=T.split(`
`),G=x.split(`
`);for(d=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===M.length||d===G.length)for(u=M.length-1,d=G.length-1;1<=u&&0<=d&&M[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(M[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||M[u]!==G[d]){var W=`
`+M[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=d);break}}}finally{$o=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?fi(o):""}function Go(i,s){switch(i.tag){case 26:case 27:case 5:return fi(i.type);case 16:return fi("Lazy");case 13:return i.child!==s&&s!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ms(i.type,!1);case 11:return Ms(i.type.render,!1);case 1:return Ms(i.type,!0);case 31:return fi("Activity");default:return""}}function Ko(i){try{var s="",o=null;do s+=Go(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,Lt=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,Bd=t.unstable_shouldYield,Bu=t.unstable_requestPaint,ln=t.unstable_now,Os=t.unstable_getCurrentPriorityLevel,Yo=t.unstable_ImmediatePriority,Qo=t.unstable_UserBlockingPriority,Cr=t.unstable_NormalPriority,Hd=t.unstable_LowPriority,Hu=t.unstable_IdlePriority,Fu=t.log,qu=t.unstable_setDisableYieldValue,Qn=null,Gt=null;function Dn(i){if(typeof Fu=="function"&&qu(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Qn,i)}catch{}}var yt=Math.clz32?Math.clz32:Gu,$u=Math.log,Ca=Math.LN2;function Gu(i){return i>>>=0,i===0?32:31-($u(i)/Ca|0)|0}var mi=256,Vs=262144,xt=4194304;function gi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pi(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~m,u!==0?d=gi(u):(T&=x,T!==0?d=gi(T):o||(o=x&~i,o!==0&&(d=gi(o))))):(x=u&~m,x!==0?d=gi(x):T!==0?d=gi(T):o||(o=u&~i,o!==0&&(d=gi(o)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:d}function Xn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Fd(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function yi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ps(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qd(i,s,o,u,d,m){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,M=i.expirationTimes,G=i.hiddenUpdates;for(o=T&~o;0<o;){var W=31-yt(o),ee=1<<W;x[W]=0,M[W]=-1;var Y=G[W];if(Y!==null)for(G[W]=null,W=0;W<Y.length;W++){var J=Y[W];J!==null&&(J.lane&=-536870913)}o&=~ee}u!==0&&ks(i,u,0),m!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~s))}function ks(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-yt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Xo(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-yt(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Jo(i,s){var o=s&-s;return o=(o&42)!==0?1:js(o),(o&(i.suspendedLanes|s))!==0?0:o}function js(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yu(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:b0(i.type))}function Jn(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var Wn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wn,Ht="__reactProps$"+Wn,_i="__reactContainer$"+Wn,Na="__reactEvents$"+Wn,$d="__reactListeners$"+Wn,Qu="__reactHandles$"+Wn,Xu="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function Ia(i){delete i[Rt],delete i[Ht],delete i[Na],delete i[$d],delete i[Qu]}function Ti(i){var s=i[Rt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[_i]||o[Rt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=o0(i);i!==null;){if(o=i[Rt])return o;i=o0(i)}return s}i=o,o=i.parentNode}return null}function Mn(i){if(i=i[Rt]||i[_i]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Tn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ei(i){var s=i[Xu];return s||(s=i[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(i){i[vi]=!0}var Wo=new Set,Zo={};function Si(i,s){bi(i,s),bi(i+"Capture",s)}function bi(i,s){for(Zo[i]=s,i=0;i<s.length;i++)Wo.add(s[i])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function Ju(i){return wt.call(nl,i)?!0:wt.call(tl,i)?!1:el.test(i)?nl[i]=!0:(tl[i]=!0,!1)}function Da(i,s,o){if(Ju(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function En(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ct(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Ft(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Nr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function il(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,m=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=Nr(i)?"checked":"value";i._valueTracker=il(i,s,""+i[s])}}function Ls(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Nr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Us=/[\n"\\]/g;function hn(i){return i.replace(Us,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ma(i,s,o,u,d,m,T,x){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ft(s)):i.value!==""+Ft(s)&&(i.value=""+Ft(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?rl(i,T,Ft(s)):o!=null?rl(i,T,Ft(o)):u!=null&&i.removeAttribute("value"),d==null&&m!=null&&(i.defaultChecked=!!m),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+Ft(x):i.removeAttribute("name")}function Wu(i,s,o,u,d,m,T,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Xe(i);return}o=o!=null?""+Ft(o):"",s=s!=null?""+Ft(s):o,x||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xe(i)}function rl(i,s,o){s==="number"&&wi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ir(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Ft(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Zu(i,s,o){if(s!=null&&(s=""+Ft(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Ft(o):""}function Dr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(re(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ft(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Xe(i)}function dn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var ec=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||ec.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function al(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&sl(i,d,u)}else for(var m in s)s.hasOwnProperty(m)&&sl(i,m,s[m])}function Oa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(i){return Mr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zn(){}var ol=null;function On(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Or=null,xi=null;function zs(i){var s=Mn(i);if(s&&(i=s.stateNode)){var o=i[Ht]||null;e:switch(i=s.stateNode,s.type){case"input":if(Ma(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Ht]||null;if(!d)throw Error(r(90));Ma(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Ls(u)}break e;case"textarea":Zu(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ir(i,!!o.multiple,s,!1)}}}var Pa=!1;function Vr(i,s,o){if(Pa)return i(s,o);Pa=!0;try{var u=i(s);return u}finally{if(Pa=!1,(Or!==null||xi!==null)&&(Yc(),Or&&(s=Or,i=xi,xi=Or=null,zs(s),i)))for(s=0;s<i.length;s++)zs(i[s])}}function ei(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Vn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Bs=!1}var Ri=null,ll=null,Hs=null;function ul(){if(Hs)return Hs;var i,s=ll,o=s.length,u,d="value"in Ri?Ri.value:Ri.textContent,m=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[m-u];u++);return Hs=d.slice(i,1<u?1-u:void 0)}function Fs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ji(){return!0}function ti(){return!1}function Kt(i){function s(o,u,d,m,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ji:ti,this.isPropagationStopped=ti,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Kt(Wi),Pr=E({},Wi,{view:0,detail:0}),cl=Kt(Pr),kr,ka,Ci,ja=E({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(kr=i.screenX-Ci.screenX,ka=i.screenY-Ci.screenY):ka=kr=0,Ci=i),kr)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),hl=Kt(ja),qs=E({},ja,{dataTransfer:0}),nc=Kt(qs),ic=E({},Pr,{relatedTarget:0}),$s=Kt(ic),dl=E({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Kt(dl),La=E({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sc=Kt(La),ac=E({},Wi,{data:0}),Ni=Kt(ac),oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=uc[i])?!!s[i]:!1}function jr(){return cc}var un=E({},Pr,{key:function(i){if(i.key){var s=oc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Fs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(i){return i.type==="keypress"?Fs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Fs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hc=Kt(un),dc=E({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Kt(dc),h=E({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),_=Kt(h),S=E({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Kt(S),q=E({},ja,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),X=Kt(q),ae=E({},Wi,{newState:0,oldState:0}),Ce=Kt(ae),_t=[9,13,27,32],Ge=Vn&&"CompositionEvent"in window,ct=null;Vn&&"documentMode"in document&&(ct=document.documentMode);var Pn=Vn&&"TextEvent"in window&&!ct,Ii=Vn&&(!Ge||ct&&8<ct&&11>=ct),ni=" ",ii=!1;function Gs(i,s){switch(i){case"keyup":return _t.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var za=!1;function Tw(i,s){switch(i){case"compositionend":return Ua(s);case"keypress":return s.which!==32?null:(ii=!0,ni);case"textInput":return i=s.data,i===ni&&ii?null:i;default:return null}}function Ew(i,s){if(za)return i==="compositionend"||!Ge&&Gs(i,s)?(i=ul(),Hs=ll=Ri=null,za=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ii&&s.locale!=="ko"?null:s.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Sw[i.type]:s==="textarea"}function hy(i,s,o,u){Or?xi?xi.push(u):xi=[u]:Or=u,s=th(s,"onChange"),0<s.length&&(o=new Ai("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var fl=null,ml=null;function bw(i){Kv(i,0)}function fc(i){var s=Tn(i);if(Ls(s))return i}function dy(i,s){if(i==="change")return s}var fy=!1;if(Vn){var Gd;if(Vn){var Kd="oninput"in document;if(!Kd){var my=document.createElement("div");my.setAttribute("oninput","return;"),Kd=typeof my.oninput=="function"}Gd=Kd}else Gd=!1;fy=Gd&&(!document.documentMode||9<document.documentMode)}function gy(){fl&&(fl.detachEvent("onpropertychange",py),ml=fl=null)}function py(i){if(i.propertyName==="value"&&fc(ml)){var s=[];hy(s,ml,i,On(i)),Vr(bw,s)}}function ww(i,s,o){i==="focusin"?(gy(),fl=s,ml=o,fl.attachEvent("onpropertychange",py)):i==="focusout"&&gy()}function xw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fc(ml)}function Rw(i,s){if(i==="click")return fc(s)}function Aw(i,s){if(i==="input"||i==="change")return fc(s)}function Cw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Sn=typeof Object.is=="function"?Object.is:Cw;function gl(i,s){if(Sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!wt.call(s,d)||!Sn(i[d],s[d]))return!1}return!0}function yy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _y(i,s){var o=yy(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yy(o)}}function vy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?vy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ty(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=wi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=wi(i.document)}return s}function Yd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Nw=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,Qd=null,pl=null,Xd=!1;function Ey(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xd||Ba==null||Ba!==wi(u)||(u=Ba,"selectionStart"in u&&Yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&gl(pl,u)||(pl=u,u=th(Qd,"onSelect"),0<u.length&&(s=new Ai("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ba)))}function Ks(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ha={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Jd={},Sy={};Vn&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Ys(i){if(Jd[i])return Jd[i];if(!Ha[i])return i;var s=Ha[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Sy)return Jd[i]=s[o];return i}var by=Ys("animationend"),wy=Ys("animationiteration"),xy=Ys("animationstart"),Iw=Ys("transitionrun"),Dw=Ys("transitionstart"),Mw=Ys("transitioncancel"),Ry=Ys("transitionend"),Ay=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function ri(i,s){Ay.set(i,s),Si(s,[i])}var mc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],Fa=0,Zd=0;function gc(){for(var i=Fa,s=Zd=Fa=0;s<i;){var o=kn[s];kn[s++]=null;var u=kn[s];kn[s++]=null;var d=kn[s];kn[s++]=null;var m=kn[s];if(kn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}m!==0&&Cy(o,d,m)}}function pc(i,s,o,u){kn[Fa++]=i,kn[Fa++]=s,kn[Fa++]=o,kn[Fa++]=u,Zd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ef(i,s,o,u){return pc(i,s,o,u),yc(i)}function Qs(i,s){return pc(i,null,null,s),yc(i)}function Cy(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(d=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,d&&s!==null&&(d=31-yt(o),i=m.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),m):null}function yc(i){if(50<Ll)throw Ll=0,cm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var qa={};function Ow(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,o,u){return new Ow(i,s,o,u)}function tf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function er(i,s){var o=i.alternate;return o===null?(o=bn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ny(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function _c(i,s,o,u,d,m){var T=0;if(u=i,typeof i=="function")tf(i)&&(T=1);else if(typeof i=="string")T=L2(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=bn(31,o,s,d),i.elementType=N,i.lanes=m,i;case L:return Xs(o.children,d,m,s);case O:T=8,d|=24;break;case V:return i=bn(12,o,s,d|2),i.elementType=V,i.lanes=m,i;case de:return i=bn(13,o,s,d),i.elementType=de,i.lanes=m,i;case ge:return i=bn(19,o,s,d),i.elementType=ge,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Q:T=10;break e;case F:T=9;break e;case se:T=11;break e;case I:T=14;break e;case A:T=16,u=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=bn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=m,s}function Xs(i,s,o,u){return i=bn(7,i,u,s),i.lanes=o,i}function nf(i,s,o){return i=bn(6,i,null,s),i.lanes=o,i}function Iy(i){var s=bn(18,null,null,0);return s.stateNode=i,s}function rf(i,s,o){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Dy=new WeakMap;function jn(i,s){if(typeof i=="object"&&i!==null){var o=Dy.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ko(s)},Dy.set(i,s),s)}return{value:i,source:s,stack:Ko(s)}}var $a=[],Ga=0,vc=null,yl=0,Ln=[],Un=0,Lr=null,Di=1,Mi="";function tr(i,s){$a[Ga++]=yl,$a[Ga++]=vc,vc=i,yl=s}function My(i,s,o){Ln[Un++]=Di,Ln[Un++]=Mi,Ln[Un++]=Lr,Lr=i;var u=Di;i=Mi;var d=32-yt(u)-1;u&=~(1<<d),o+=1;var m=32-yt(s)+d;if(30<m){var T=d-d%5;m=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Di=1<<32-yt(s)+d|o<<d|u,Mi=m+i}else Di=1<<m|o<<d|u,Mi=i}function sf(i){i.return!==null&&(tr(i,1),My(i,1,0))}function af(i){for(;i===vc;)vc=$a[--Ga],$a[Ga]=null,yl=$a[--Ga],$a[Ga]=null;for(;i===Lr;)Lr=Ln[--Un],Ln[Un]=null,Mi=Ln[--Un],Ln[Un]=null,Di=Ln[--Un],Ln[Un]=null}function Oy(i,s){Ln[Un++]=Di,Ln[Un++]=Mi,Ln[Un++]=Lr,Di=s.id,Mi=s.overflow,Lr=i}var Yt=null,at=null,ze=!1,Ur=null,zn=!1,of=Error(r(519));function zr(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(jn(s,i)),of}function Vy(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Rt]=i,s[Ht]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<zl.length;o++)Ve(zl[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Wu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Dr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||Jv(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||zr(i,!0)}function Py(i){for(Yt=i.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Yt=Yt.return}}function Ka(i){if(i!==Yt)return!1;if(!ze)return Py(i),ze=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||xm(i.type,i.memoizedProps)),o=!o),o&&at&&zr(i),Py(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=a0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=a0(i)}else s===27?(s=at,es(i.type)?(i=Im,Im=null,at=i):at=s):at=Yt?Hn(i.stateNode.nextSibling):null;return!0}function Js(){at=Yt=null,ze=!1}function lf(){var i=Ur;return i!==null&&(pn===null?pn=i:pn.push.apply(pn,i),Ur=null),i}function _l(i){Ur===null?Ur=[i]:Ur.push(i)}var uf=U(null),Ws=null,nr=null;function Br(i,s,o){le(uf,s._currentValue),s._currentValue=o}function ir(i){i._currentValue=uf.current,te(uf)}function cf(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function hf(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var M=0;M<s.length;M++)if(x.context===s[M]){m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),cf(m.return,o,i),u||(T=null);break e}m=x.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),cf(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Ya(i,s,o,u){i=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var x=d.type;Sn(d.pendingProps.value,T.value)||(i!==null?i.push(x):i=[x])}}else if(d===Be.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push($l):i=[$l])}d=d.return}i!==null&&hf(s,i,o,u),s.flags|=262144}function Tc(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zs(i){Ws=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return ky(Ws,i)}function Ec(i,s){return Ws===null&&Zs(i),ky(i,s)}function ky(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},nr===null){if(i===null)throw Error(r(308));nr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else nr=nr.next=s;return o}var Vw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Pw=t.unstable_scheduleCallback,kw=t.unstable_NormalPriority,Nt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new Vw,data:new Map,refCount:0}}function vl(i){i.refCount--,i.refCount===0&&Pw(kw,function(){i.controller.abort()})}var Tl=null,ff=0,Qa=0,Xa=null;function jw(i,s){if(Tl===null){var o=Tl=[];ff=0,Qa=pm(),Xa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ff++,s.then(jy,jy),s}function jy(){if(--ff===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var i=Tl;Tl=null,Qa=0,Xa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Lw(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Ly=K.S;K.S=function(i,s){Ev=ln(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&jw(i,s),Ly!==null&&Ly(i,s)};var ea=U(null);function mf(){var i=ea.current;return i!==null?i:rt.pooledCache}function Sc(i,s){s===null?le(ea,ea.current):le(ea,s.pool)}function Uy(){var i=mf();return i===null?null:{parent:Nt._currentValue,pool:i}}var Ja=Error(r(460)),gf=Error(r(474)),bc=Error(r(542)),wc={then:function(){}};function zy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function By(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Zn,Zn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fy(i),i;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Fy(i),i}throw na=s,Ja}}function ta(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(na=o,Ja):o}}var na=null;function Hy(){if(na===null)throw Error(r(459));var i=na;return na=null,i}function Fy(i){if(i===Ja||i===bc)throw Error(r(483))}var Wa=null,El=0;function xc(i){var s=El;return El+=1,Wa===null&&(Wa=[]),By(Wa,i,s)}function Sl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Rc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function qy(i){function s(B,j){if(i){var $=B.deletions;$===null?(B.deletions=[j],B.flags|=16):$.push(j)}}function o(B,j){if(!i)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function d(B,j){return B=er(B,j),B.index=0,B.sibling=null,B}function m(B,j,$){return B.index=$,i?($=B.alternate,$!==null?($=$.index,$<j?(B.flags|=67108866,j):$):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function x(B,j,$,Z){return j===null||j.tag!==6?(j=nf($,B.mode,Z),j.return=B,j):(j=d(j,$),j.return=B,j)}function M(B,j,$,Z){var pe=$.type;return pe===L?W(B,j,$.props.children,Z,$.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ta(pe)===j.type)?(j=d(j,$.props),Sl(j,$),j.return=B,j):(j=_c($.type,$.key,$.props,null,B.mode,Z),Sl(j,$),j.return=B,j)}function G(B,j,$,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=rf($,B.mode,Z),j.return=B,j):(j=d(j,$.children||[]),j.return=B,j)}function W(B,j,$,Z,pe){return j===null||j.tag!==7?(j=Xs($,B.mode,Z,pe),j.return=B,j):(j=d(j,$),j.return=B,j)}function ee(B,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=nf(""+j,B.mode,$),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return $=_c(j.type,j.key,j.props,null,B.mode,$),Sl($,j),$.return=B,$;case C:return j=rf(j,B.mode,$),j.return=B,j;case A:return j=ta(j),ee(B,j,$)}if(re(j)||H(j))return j=Xs(j,B.mode,$,null),j.return=B,j;if(typeof j.then=="function")return ee(B,xc(j),$);if(j.$$typeof===Q)return ee(B,Ec(B,j),$);Rc(B,j)}return null}function Y(B,j,$,Z){var pe=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return pe!==null?null:x(B,j,""+$,Z);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===pe?M(B,j,$,Z):null;case C:return $.key===pe?G(B,j,$,Z):null;case A:return $=ta($),Y(B,j,$,Z)}if(re($)||H($))return pe!==null?null:W(B,j,$,Z,null);if(typeof $.then=="function")return Y(B,j,xc($),Z);if($.$$typeof===Q)return Y(B,j,Ec(B,$),Z);Rc(B,$)}return null}function J(B,j,$,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get($)||null,x(j,B,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return B=B.get(Z.key===null?$:Z.key)||null,M(j,B,Z,pe);case C:return B=B.get(Z.key===null?$:Z.key)||null,G(j,B,Z,pe);case A:return Z=ta(Z),J(B,j,$,Z,pe)}if(re(Z)||H(Z))return B=B.get($)||null,W(j,B,Z,pe,null);if(typeof Z.then=="function")return J(B,j,$,xc(Z),pe);if(Z.$$typeof===Q)return J(B,j,$,Ec(j,Z),pe);Rc(j,Z)}return null}function fe(B,j,$,Z){for(var pe=null,qe=null,me=j,Me=j=0,ke=null;me!==null&&Me<$.length;Me++){me.index>Me?(ke=me,me=null):ke=me.sibling;var $e=Y(B,me,$[Me],Z);if($e===null){me===null&&(me=ke);break}i&&me&&$e.alternate===null&&s(B,me),j=m($e,j,Me),qe===null?pe=$e:qe.sibling=$e,qe=$e,me=ke}if(Me===$.length)return o(B,me),ze&&tr(B,Me),pe;if(me===null){for(;Me<$.length;Me++)me=ee(B,$[Me],Z),me!==null&&(j=m(me,j,Me),qe===null?pe=me:qe.sibling=me,qe=me);return ze&&tr(B,Me),pe}for(me=u(me);Me<$.length;Me++)ke=J(me,B,Me,$[Me],Z),ke!==null&&(i&&ke.alternate!==null&&me.delete(ke.key===null?Me:ke.key),j=m(ke,j,Me),qe===null?pe=ke:qe.sibling=ke,qe=ke);return i&&me.forEach(function(ss){return s(B,ss)}),ze&&tr(B,Me),pe}function ve(B,j,$,Z){if($==null)throw Error(r(151));for(var pe=null,qe=null,me=j,Me=j=0,ke=null,$e=$.next();me!==null&&!$e.done;Me++,$e=$.next()){me.index>Me?(ke=me,me=null):ke=me.sibling;var ss=Y(B,me,$e.value,Z);if(ss===null){me===null&&(me=ke);break}i&&me&&ss.alternate===null&&s(B,me),j=m(ss,j,Me),qe===null?pe=ss:qe.sibling=ss,qe=ss,me=ke}if($e.done)return o(B,me),ze&&tr(B,Me),pe;if(me===null){for(;!$e.done;Me++,$e=$.next())$e=ee(B,$e.value,Z),$e!==null&&(j=m($e,j,Me),qe===null?pe=$e:qe.sibling=$e,qe=$e);return ze&&tr(B,Me),pe}for(me=u(me);!$e.done;Me++,$e=$.next())$e=J(me,B,Me,$e.value,Z),$e!==null&&(i&&$e.alternate!==null&&me.delete($e.key===null?Me:$e.key),j=m($e,j,Me),qe===null?pe=$e:qe.sibling=$e,qe=$e);return i&&me.forEach(function(Q2){return s(B,Q2)}),ze&&tr(B,Me),pe}function nt(B,j,$,Z){if(typeof $=="object"&&$!==null&&$.type===L&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:e:{for(var pe=$.key;j!==null;){if(j.key===pe){if(pe=$.type,pe===L){if(j.tag===7){o(B,j.sibling),Z=d(j,$.props.children),Z.return=B,B=Z;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ta(pe)===j.type){o(B,j.sibling),Z=d(j,$.props),Sl(Z,$),Z.return=B,B=Z;break e}o(B,j);break}else s(B,j);j=j.sibling}$.type===L?(Z=Xs($.props.children,B.mode,Z,$.key),Z.return=B,B=Z):(Z=_c($.type,$.key,$.props,null,B.mode,Z),Sl(Z,$),Z.return=B,B=Z)}return T(B);case C:e:{for(pe=$.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){o(B,j.sibling),Z=d(j,$.children||[]),Z.return=B,B=Z;break e}else{o(B,j);break}else s(B,j);j=j.sibling}Z=rf($,B.mode,Z),Z.return=B,B=Z}return T(B);case A:return $=ta($),nt(B,j,$,Z)}if(re($))return fe(B,j,$,Z);if(H($)){if(pe=H($),typeof pe!="function")throw Error(r(150));return $=pe.call($),ve(B,j,$,Z)}if(typeof $.then=="function")return nt(B,j,xc($),Z);if($.$$typeof===Q)return nt(B,j,Ec(B,$),Z);Rc(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,j!==null&&j.tag===6?(o(B,j.sibling),Z=d(j,$),Z.return=B,B=Z):(o(B,j),Z=nf($,B.mode,Z),Z.return=B,B=Z),T(B)):o(B,j)}return function(B,j,$,Z){try{El=0;var pe=nt(B,j,$,Z);return Wa=null,pe}catch(me){if(me===Ja||me===bc)throw me;var qe=bn(29,me,null,B.mode);return qe.lanes=Z,qe.return=B,qe}}}var ia=qy(!0),$y=qy(!1),Hr=!1;function pf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=yc(i),Cy(i,null,o),s}return pc(i,u,s,o),yc(i)}function bl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Xo(i,o)}}function _f(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?d=m=s:m=m.next=s}else d=m=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var vf=!1;function wl(){if(vf){var i=Xa;if(i!==null)throw i}}function xl(i,s,o,u){vf=!1;var d=i.updateQueue;Hr=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var M=x,G=M.next;M.next=null,T===null?m=G:T.next=G,T=M;var W=i.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==T&&(x===null?W.firstBaseUpdate=G:x.next=G,W.lastBaseUpdate=M))}if(m!==null){var ee=d.baseState;T=0,W=G=M=null,x=m;do{var Y=x.lane&-536870913,J=Y!==x.lane;if(J?(Pe&Y)===Y:(u&Y)===Y){Y!==0&&Y===Qa&&(vf=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var fe=i,ve=x;Y=s;var nt=o;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ee=fe.call(nt,ee,Y);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,Y=typeof fe=="function"?fe.call(nt,ee,Y):fe,Y==null)break e;ee=E({},ee,Y);break e;case 2:Hr=!0}}Y=x.callback,Y!==null&&(i.flags|=64,J&&(i.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(G=W=J,M=ee):W=W.next=J,T|=Y;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;J=x,x=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);W===null&&(M=ee),d.baseState=M,d.firstBaseUpdate=G,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),Qr|=T,i.lanes=T,i.memoizedState=ee}}function Gy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ky(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Gy(o[i],s)}var Za=U(null),Ac=U(0);function Yy(i,s){i=dr,le(Ac,i),le(Za,s),dr=i|s.baseLanes}function Tf(){le(Ac,dr),le(Za,Za.current)}function Ef(){dr=Ac.current,te(Za),te(Ac)}var wn=U(null),Bn=null;function $r(i){var s=i.alternate;le(vt,vt.current&1),le(wn,i),Bn===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(Bn=i)}function Sf(i){le(vt,vt.current),le(wn,i),Bn===null&&(Bn=i)}function Qy(i){i.tag===22?(le(vt,vt.current),le(wn,i),Bn===null&&(Bn=i)):Gr()}function Gr(){le(vt,vt.current),le(wn,wn.current)}function xn(i){te(wn),Bn===i&&(Bn=null),te(vt)}var vt=U(0);function Cc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cm(o)||Nm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var rr=0,Ne=null,et=null,It=null,Nc=!1,eo=!1,ra=!1,Ic=0,Rl=0,to=null,Uw=0;function gt(){throw Error(r(321))}function bf(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Sn(i[o],s[o]))return!1;return!0}function wf(i,s,o,u,d,m){return rr=m,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?M_:Uf,ra=!1,m=o(u,d),ra=!1,eo&&(m=Jy(s,o,u,d)),Xy(i),m}function Xy(i){K.H=Nl;var s=et!==null&&et.next!==null;if(rr=0,It=et=Ne=null,Nc=!1,Rl=0,to=null,s)throw Error(r(300));i===null||Dt||(i=i.dependencies,i!==null&&Tc(i)&&(Dt=!0))}function Jy(i,s,o,u){Ne=i;var d=0;do{if(eo&&(to=null),Rl=0,eo=!1,25<=d)throw Error(r(301));if(d+=1,It=et=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=O_,m=s(o,u)}while(eo);return m}function zw(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Al(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ne.flags|=1024),s}function xf(){var i=Ic!==0;return Ic=0,i}function Rf(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Af(i){if(Nc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Nc=!1}rr=0,It=et=Ne=null,eo=!1,Rl=Ic=0,to=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ne.memoizedState=It=i:It=It.next=i,It}function Tt(){if(et===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=It===null?Ne.memoizedState:It.next;if(s!==null)It=s,et=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?Ne.memoizedState=It=i:It=It.next=i}return It}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(i){var s=Rl;return Rl+=1,to===null&&(to=[]),i=By(to,i,s),s=Ne,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?M_:Uf),i}function Mc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Al(i);if(i.$$typeof===Q)return Qt(i)}throw Error(r(438,String(i)))}function Cf(i){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dc(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=z;return s.index++,o}function sr(i,s){return typeof s=="function"?s(i):s}function Oc(i){var s=Tt();return Nf(s,et,i)}function Nf(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,m=u.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}s.baseQueue=d=m,u.pending=null}if(m=i.baseState,d===null)i.memoizedState=m;else{s=d.next;var x=T=null,M=null,G=s,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Pe&ee)===ee:(rr&ee)===ee){var Y=G.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Qa&&(W=!0);else if((rr&Y)===Y){G=G.next,Y===Qa&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(x=M=ee,T=m):M=M.next=ee,Ne.lanes|=Y,Qr|=Y;ee=G.action,ra&&o(m,ee),m=G.hasEagerState?G.eagerState:o(m,ee)}else Y={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(x=M=Y,T=m):M=M.next=Y,Ne.lanes|=ee,Qr|=ee;G=G.next}while(G!==null&&G!==s);if(M===null?T=m:M.next=x,!Sn(m,i.memoizedState)&&(Dt=!0,W&&(o=Xa,o!==null)))throw o;i.memoizedState=m,i.baseState=T,i.baseQueue=M,u.lastRenderedState=m}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function If(i){var s=Tt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,m=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do m=i(m,T.action),T=T.next;while(T!==d);Sn(m,s.memoizedState)||(Dt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Wy(i,s,o){var u=Ne,d=Tt(),m=ze;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!Sn((et||d).memoizedState,o);if(T&&(d.memoizedState=o,Dt=!0),d=d.queue,Of(t_.bind(null,u,d,i),[i]),d.getSnapshot!==s||T||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,no(9,{destroy:void 0},e_.bind(null,u,d,o,s),null),rt===null)throw Error(r(349));m||(rr&127)!==0||Zy(u,s,o)}return o}function Zy(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=Dc(),Ne.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function e_(i,s,o,u){s.value=o,s.getSnapshot=u,n_(s)&&i_(i)}function t_(i,s,o){return o(function(){n_(s)&&i_(i)})}function n_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Sn(i,o)}catch{return!0}}function i_(i){var s=Qs(i,2);s!==null&&yn(s,i,2)}function Df(i){var s=cn();if(typeof i=="function"){var o=i;if(i=o(),ra){Dn(!0);try{o()}finally{Dn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:i},s}function r_(i,s,o,u){return i.baseState=o,Nf(i,et,typeof u=="function"?u:sr)}function Bw(i,s,o,u,d){if(kc(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,s_(s,m)):(m.next=o.next,s.pending=o.next=m)}}function s_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var x=o(d,u),M=K.S;M!==null&&M(T,x),a_(i,s,x)}catch(G){Mf(i,s,G)}finally{m!==null&&T.types!==null&&(m.types=T.types),K.T=m}}else try{m=o(d,u),a_(i,s,m)}catch(G){Mf(i,s,G)}}function a_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){o_(i,s,u)},function(u){return Mf(i,s,u)}):o_(i,s,o)}function o_(i,s,o){s.status="fulfilled",s.value=o,l_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,s_(i,o)))}function Mf(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,l_(s),s=s.next;while(s!==u)}i.action=null}function l_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function u_(i,s){return s}function c_(i,s){if(ze){var o=rt.formState;if(o!==null){e:{var u=Ne;if(ze){if(at){t:{for(var d=at,m=zn;d.nodeType!==8;){if(!m){d=null;break t}if(d=Hn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){at=Hn(d.nextSibling),u=d.data==="F!";break e}}zr(u)}u=!1}u&&(s=o[0])}}return o=cn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u_,lastRenderedState:s},o.queue=u,o=N_.bind(null,Ne,u),u.dispatch=o,u=Df(!1),m=Lf.bind(null,Ne,!1,u.queue),u=cn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=Bw.bind(null,Ne,d,m,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function h_(i){var s=Tt();return d_(s,et,i)}function d_(i,s,o){if(s=Nf(i,s,u_)[0],i=Oc(sr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Al(s)}catch(T){throw T===Ja?bc:T}else u=s;s=Tt();var d=s.queue,m=d.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,no(9,{destroy:void 0},Hw.bind(null,d,o),null)),[u,m,i]}function Hw(i,s){i.action=s}function f_(i){var s=Tt(),o=et;if(o!==null)return d_(s,o,i);Tt(),s=s.memoizedState,o=Tt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function no(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Dc(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function m_(){return Tt().memoizedState}function Vc(i,s,o,u){var d=cn();Ne.flags|=i,d.memoizedState=no(1|s,{destroy:void 0},o,u===void 0?null:u)}function Pc(i,s,o,u){var d=Tt();u=u===void 0?null:u;var m=d.memoizedState.inst;et!==null&&u!==null&&bf(u,et.memoizedState.deps)?d.memoizedState=no(s,m,o,u):(Ne.flags|=i,d.memoizedState=no(1|s,m,o,u))}function g_(i,s){Vc(8390656,8,i,s)}function Of(i,s){Pc(2048,8,i,s)}function Fw(i){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=Dc(),Ne.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function p_(i){var s=Tt().memoizedState;return Fw({ref:s,nextImpl:i}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function y_(i,s){return Pc(4,2,i,s)}function __(i,s){return Pc(4,4,i,s)}function v_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function T_(i,s,o){o=o!=null?o.concat([i]):null,Pc(4,4,v_.bind(null,s,i),o)}function Vf(){}function E_(i,s){var o=Tt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&bf(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function S_(i,s){var o=Tt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&bf(s,u[1]))return u[0];if(u=i(),ra){Dn(!0);try{i()}finally{Dn(!1)}}return o.memoizedState=[u,s],u}function Pf(i,s,o){return o===void 0||(rr&1073741824)!==0&&(Pe&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=bv(),Ne.lanes|=i,Qr|=i,o)}function b_(i,s,o,u){return Sn(o,s)?o:Za.current!==null?(i=Pf(i,o,u),Sn(i,s)||(Dt=!0),i):(rr&42)===0||(rr&1073741824)!==0&&(Pe&261930)===0?(Dt=!0,i.memoizedState=o):(i=bv(),Ne.lanes|=i,Qr|=i,s)}function w_(i,s,o,u,d){var m=oe.p;oe.p=m!==0&&8>m?m:8;var T=K.T,x={};K.T=x,Lf(i,!1,s,o);try{var M=d(),G=K.S;if(G!==null&&G(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=Lw(M,u);Cl(i,s,W,Cn(i))}else Cl(i,s,u,Cn(i))}catch(ee){Cl(i,s,{then:function(){},status:"rejected",reason:ee},Cn())}finally{oe.p=m,T!==null&&x.types!==null&&(T.types=x.types),K.T=T}}function qw(){}function kf(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=x_(i).queue;w_(i,d,s,_e,o===null?qw:function(){return R_(i),o(u)})}function x_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:_e},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function R_(i){var s=x_(i);s.next===null&&(s=i.alternate.memoizedState),Cl(i,s.next.queue,{},Cn())}function jf(){return Qt($l)}function A_(){return Tt().memoizedState}function C_(){return Tt().memoizedState}function $w(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Cn();i=Fr(o);var u=qr(s,i,o);u!==null&&(yn(u,s,o),bl(u,s,o)),s={cache:df()},i.payload=s;return}s=s.return}}function Gw(i,s,o){var u=Cn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kc(i)?I_(s,o):(o=ef(i,s,o,u),o!==null&&(yn(o,i,u),D_(o,s,u)))}function N_(i,s,o){var u=Cn();Cl(i,s,o,u)}function Cl(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(kc(i))I_(s,d);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,x=m(T,o);if(d.hasEagerState=!0,d.eagerState=x,Sn(x,T))return pc(i,s,d,0),rt===null&&gc(),!1}catch{}if(o=ef(i,s,d,u),o!==null)return yn(o,i,u),D_(o,s,u),!0}return!1}function Lf(i,s,o,u){if(u={lane:2,revertLane:pm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},kc(i)){if(s)throw Error(r(479))}else s=ef(i,o,u,2),s!==null&&yn(s,i,2)}function kc(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function I_(i,s){eo=Nc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function D_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Xo(i,o)}}var Nl={readContext:Qt,use:Mc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Nl.useEffectEvent=gt;var M_={readContext:Qt,use:Mc,useCallback:function(i,s){return cn().memoizedState=[i,s===void 0?null:s],i},useContext:Qt,useEffect:g_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Vc(4194308,4,v_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Vc(4194308,4,i,s)},useInsertionEffect:function(i,s){Vc(4,2,i,s)},useMemo:function(i,s){var o=cn();s=s===void 0?null:s;var u=i();if(ra){Dn(!0);try{i()}finally{Dn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=cn();if(o!==void 0){var d=o(s);if(ra){Dn(!0);try{o(s)}finally{Dn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=Gw.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var s=cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Df(i);var s=i.queue,o=N_.bind(null,Ne,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Vf,useDeferredValue:function(i,s){var o=cn();return Pf(o,i,s)},useTransition:function(){var i=Df(!1);return i=w_.bind(null,Ne,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ne,d=cn();if(ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),rt===null)throw Error(r(349));(Pe&127)!==0||Zy(u,s,o)}d.memoizedState=o;var m={value:o,getSnapshot:s};return d.queue=m,g_(t_.bind(null,u,m,i),[i]),u.flags|=2048,no(9,{destroy:void 0},e_.bind(null,u,m,o,s),null),o},useId:function(){var i=cn(),s=rt.identifierPrefix;if(ze){var o=Mi,u=Di;o=(u&~(1<<32-yt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ic++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Uw++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:jf,useFormState:c_,useActionState:c_,useOptimistic:function(i){var s=cn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Lf.bind(null,Ne,!0,o),o.dispatch=s,[i,s]},useMemoCache:Cf,useCacheRefresh:function(){return cn().memoizedState=$w.bind(null,Ne)},useEffectEvent:function(i){var s=cn(),o={impl:i};return s.memoizedState=o,function(){if((Ke&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Uf={readContext:Qt,use:Mc,useCallback:E_,useContext:Qt,useEffect:Of,useImperativeHandle:T_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:S_,useReducer:Oc,useRef:m_,useState:function(){return Oc(sr)},useDebugValue:Vf,useDeferredValue:function(i,s){var o=Tt();return b_(o,et.memoizedState,i,s)},useTransition:function(){var i=Oc(sr)[0],s=Tt().memoizedState;return[typeof i=="boolean"?i:Al(i),s]},useSyncExternalStore:Wy,useId:A_,useHostTransitionStatus:jf,useFormState:h_,useActionState:h_,useOptimistic:function(i,s){var o=Tt();return r_(o,et,i,s)},useMemoCache:Cf,useCacheRefresh:C_};Uf.useEffectEvent=p_;var O_={readContext:Qt,use:Mc,useCallback:E_,useContext:Qt,useEffect:Of,useImperativeHandle:T_,useInsertionEffect:y_,useLayoutEffect:__,useMemo:S_,useReducer:If,useRef:m_,useState:function(){return If(sr)},useDebugValue:Vf,useDeferredValue:function(i,s){var o=Tt();return et===null?Pf(o,i,s):b_(o,et.memoizedState,i,s)},useTransition:function(){var i=If(sr)[0],s=Tt().memoizedState;return[typeof i=="boolean"?i:Al(i),s]},useSyncExternalStore:Wy,useId:A_,useHostTransitionStatus:jf,useFormState:f_,useActionState:f_,useOptimistic:function(i,s){var o=Tt();return et!==null?r_(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:C_};O_.useEffectEvent=p_;function zf(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Bf={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Cn(),d=Fr(u);d.payload=s,o!=null&&(d.callback=o),s=qr(i,d,u),s!==null&&(yn(s,i,u),bl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Cn(),d=Fr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=qr(i,d,u),s!==null&&(yn(s,i,u),bl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Cn(),u=Fr(o);u.tag=2,s!=null&&(u.callback=s),s=qr(i,u,o),s!==null&&(yn(s,i,o),bl(s,i,o))}};function V_(i,s,o,u,d,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,T):s.prototype&&s.prototype.isPureReactComponent?!gl(o,u)||!gl(d,m):!0}function P_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Bf.enqueueReplaceState(s,s.state,null)}function sa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=E({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function k_(i){mc(i)}function j_(i){console.error(i)}function L_(i){mc(i)}function jc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function U_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hf(i,s,o){return o=Fr(o),o.tag=3,o.payload={element:null},o.callback=function(){jc(i,s)},o}function z_(i){return i=Fr(i),i.tag=3,i}function B_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;i.payload=function(){return d(m)},i.callback=function(){U_(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){U_(s,o,u),typeof d!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function Kw(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ya(s,o,d,!0),o=wn.current,o!==null){switch(o.tag){case 31:case 13:return Bn===null?Qc():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===wc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),fm(i,u,d)),!1;case 22:return o.flags|=65536,u===wc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),fm(i,u,d)),!1}throw Error(r(435,o.tag))}return fm(i,u,d),Qc(),!1}if(ze)return s=wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==of&&(i=Error(r(422),{cause:u}),_l(jn(i,o)))):(u!==of&&(s=Error(r(423),{cause:u}),_l(jn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=jn(u,o),d=Hf(i.stateNode,u,d),_f(i,d),pt!==4&&(pt=2)),!1;var m=Error(r(520),{cause:u});if(m=jn(m,o),jl===null?jl=[m]:jl.push(m),pt!==4&&(pt=2),s===null)return!0;u=jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Hf(o.stateNode,u,i),_f(o,i),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xr===null||!Xr.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=z_(d),B_(d,i,o,u),_f(o,d),!1}o=o.return}while(o!==null);return!1}var Ff=Error(r(461)),Dt=!1;function Xt(i,s,o,u){s.child=i===null?$y(s,null,o,u):ia(s,i.child,o,u)}function H_(i,s,o,u,d){o=o.render;var m=s.ref;if("ref"in u){var T={};for(var x in u)x!=="ref"&&(T[x]=u[x])}else T=u;return Zs(s),u=wf(i,s,o,T,m,d),x=xf(),i!==null&&!Dt?(Rf(i,s,d),ar(i,s,d)):(ze&&x&&sf(s),s.flags|=1,Xt(i,s,u,d),s.child)}function F_(i,s,o,u,d){if(i===null){var m=o.type;return typeof m=="function"&&!tf(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,q_(i,s,m,u,d)):(i=_c(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Jf(i,d)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:gl,o(T,u)&&i.ref===s.ref)return ar(i,s,d)}return s.flags|=1,i=er(m,u),i.ref=s.ref,i.return=s,s.child=i}function q_(i,s,o,u,d){if(i!==null){var m=i.memoizedProps;if(gl(m,u)&&i.ref===s.ref)if(Dt=!1,s.pendingProps=u=m,Jf(i,d))(i.flags&131072)!==0&&(Dt=!0);else return s.lanes=i.lanes,ar(i,s,d)}return qf(i,s,o,u,d)}function $_(i,s,o,u){var d=u.children,m=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~m}else u=0,s.child=null;return G_(i,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sc(s,m!==null?m.cachePool:null),m!==null?Yy(s,m):Tf(),Qy(s);else return u=s.lanes=536870912,G_(i,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Sc(s,m.cachePool),Yy(s,m),Gr(),s.memoizedState=null):(i!==null&&Sc(s,null),Tf(),Gr());return Xt(i,s,d,o),s.child}function Il(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function G_(i,s,o,u,d){var m=mf();return m=m===null?null:{parent:Nt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Sc(s,null),Tf(),Qy(s),i!==null&&Ya(i,s,u,!0),s.childLanes=d,null}function Lc(i,s){return s=zc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function K_(i,s,o){return ia(s,i.child,null,o),i=Lc(s,s.pendingProps),i.flags|=2,xn(s),s.memoizedState=null,i}function Yw(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ze){if(u.mode==="hidden")return i=Lc(s,u),s.lanes=536870912,Il(null,i);if(Sf(s),(i=at)?(i=s0(i,zn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=Iy(i),o.return=s,s.child=o,Yt=s,at=null)):i=null,i===null)throw zr(s);return s.lanes=536870912,null}return Lc(s,u)}var m=i.memoizedState;if(m!==null){var T=m.dehydrated;if(Sf(s),d)if(s.flags&256)s.flags&=-257,s=K_(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Dt||Ya(i,s,o,!1),d=(o&i.childLanes)!==0,Dt||d){if(u=rt,u!==null&&(T=Jo(u,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,Qs(i,T),yn(u,i,T),Ff;Qc(),s=K_(i,s,o)}else i=m.treeContext,at=Hn(T.nextSibling),Yt=s,ze=!0,Ur=null,zn=!1,i!==null&&Oy(s,i),s=Lc(s,u),s.flags|=4096;return s}return i=er(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Uc(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function qf(i,s,o,u,d){return Zs(s),o=wf(i,s,o,u,void 0,d),u=xf(),i!==null&&!Dt?(Rf(i,s,d),ar(i,s,d)):(ze&&u&&sf(s),s.flags|=1,Xt(i,s,o,d),s.child)}function Y_(i,s,o,u,d,m){return Zs(s),s.updateQueue=null,o=Jy(s,u,o,d),Xy(i),u=xf(),i!==null&&!Dt?(Rf(i,s,m),ar(i,s,m)):(ze&&u&&sf(s),s.flags|=1,Xt(i,s,o,m),s.child)}function Q_(i,s,o,u,d){if(Zs(s),s.stateNode===null){var m=qa,T=o.contextType;typeof T=="object"&&T!==null&&(m=Qt(T)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},pf(s),T=o.contextType,m.context=typeof T=="object"&&T!==null?Qt(T):qa,m.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(zf(s,o,T,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Bf.enqueueReplaceState(m,m.state,null),xl(s,u,m,d),wl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var x=s.memoizedProps,M=sa(o,x);m.props=M;var G=m.context,W=o.contextType;T=qa,typeof W=="object"&&W!==null&&(T=Qt(W));var ee=o.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||G!==T)&&P_(s,m,u,T),Hr=!1;var Y=s.memoizedState;m.state=Y,xl(s,u,m,d),wl(),G=s.memoizedState,x||Y!==G||Hr?(typeof ee=="function"&&(zf(s,o,ee,u),G=s.memoizedState),(M=Hr||V_(s,o,M,u,Y,G,T))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),m.props=u,m.state=G,m.context=T,u=M):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,yf(i,s),T=s.memoizedProps,W=sa(o,T),m.props=W,ee=s.pendingProps,Y=m.context,G=o.contextType,M=qa,typeof G=="object"&&G!==null&&(M=Qt(G)),x=o.getDerivedStateFromProps,(G=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ee||Y!==M)&&P_(s,m,u,M),Hr=!1,Y=s.memoizedState,m.state=Y,xl(s,u,m,d),wl();var J=s.memoizedState;T!==ee||Y!==J||Hr||i!==null&&i.dependencies!==null&&Tc(i.dependencies)?(typeof x=="function"&&(zf(s,o,x,u),J=s.memoizedState),(W=Hr||V_(s,o,W,u,Y,J,M)||i!==null&&i.dependencies!==null&&Tc(i.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,J,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,J,M)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),m.props=u,m.state=J,m.context=M,u=W):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,Uc(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=ia(s,i.child,null,d),s.child=ia(s,null,o,d)):Xt(i,s,o,d),s.memoizedState=m.state,i=s.child):i=ar(i,s,d),i}function X_(i,s,o,u){return Js(),s.flags|=256,Xt(i,s,o,u),s.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(i){return{baseLanes:i,cachePool:Uy()}}function Kf(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=An),i}function J_(i,s,o){var u=s.pendingProps,d=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(vt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(d?$r(s):Gr(),(i=at)?(i=s0(i,zn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=Iy(i),o.return=s,s.child=o,Yt=s,at=null)):i=null,i===null)throw zr(s);return Nm(i)?s.lanes=32:s.lanes=536870912,null}var x=u.children;return u=u.fallback,d?(Gr(),d=s.mode,x=zc({mode:"hidden",children:x},d),u=Xs(u,d,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,u=s.child,u.memoizedState=Gf(o),u.childLanes=Kf(i,T,o),s.memoizedState=$f,Il(null,u)):($r(s),Yf(s,x))}var M=i.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(m)s.flags&256?($r(s),s.flags&=-257,s=Qf(i,s,o)):s.memoizedState!==null?(Gr(),s.child=i.child,s.flags|=128,s=null):(Gr(),x=u.fallback,d=s.mode,u=zc({mode:"visible",children:u.children},d),x=Xs(x,d,o,null),x.flags|=2,u.return=s,x.return=s,u.sibling=x,s.child=u,ia(s,i.child,null,o),u=s.child,u.memoizedState=Gf(o),u.childLanes=Kf(i,T,o),s.memoizedState=$f,s=Il(null,u));else if($r(s),Nm(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(r(419)),u.stack="",u.digest=T,_l({value:u,source:null,stack:null}),s=Qf(i,s,o)}else if(Dt||Ya(i,s,o,!1),T=(o&i.childLanes)!==0,Dt||T){if(T=rt,T!==null&&(u=Jo(T,o),u!==0&&u!==M.retryLane))throw M.retryLane=u,Qs(i,u),yn(T,i,u),Ff;Cm(x)||Qc(),s=Qf(i,s,o)}else Cm(x)?(s.flags|=192,s.child=i.child,s=null):(i=M.treeContext,at=Hn(x.nextSibling),Yt=s,ze=!0,Ur=null,zn=!1,i!==null&&Oy(s,i),s=Yf(s,u.children),s.flags|=4096);return s}return d?(Gr(),x=u.fallback,d=s.mode,M=i.child,G=M.sibling,u=er(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,G!==null?x=er(G,x):(x=Xs(x,d,o,null),x.flags|=2),x.return=s,u.return=s,u.sibling=x,s.child=u,Il(null,u),u=s.child,x=i.child.memoizedState,x===null?x=Gf(o):(d=x.cachePool,d!==null?(M=Nt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Uy(),x={baseLanes:x.baseLanes|o,cachePool:d}),u.memoizedState=x,u.childLanes=Kf(i,T,o),s.memoizedState=$f,Il(i.child,u)):($r(s),o=i.child,i=o.sibling,o=er(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function Yf(i,s){return s=zc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function zc(i,s){return i=bn(22,i,null,s),i.lanes=0,i}function Qf(i,s,o){return ia(s,i.child,null,o),i=Yf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function W_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),cf(i.return,s,o)}function Xf(i,s,o,u,d,m){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:m}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=m)}function Z_(i,s,o){var u=s.pendingProps,d=u.revealOrder,m=u.tail;u=u.children;var T=vt.current,x=(T&2)!==0;if(x?(T=T&1|2,s.flags|=128):T&=1,le(vt,T),Xt(i,s,u,o),u=ze?yl:0,!x&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&W_(i,o,s);else if(i.tag===19)W_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Cc(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Xf(s,!1,d,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Cc(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Xf(s,!0,o,null,m,u);break;case"together":Xf(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ar(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Qr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ya(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=er(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=er(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Jf(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Tc(i)))}function Qw(i,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Br(s,Nt,i.memoizedState.cache),Js();break;case 27:case 5:Ds(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Br(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?($r(s),s.flags|=128,null):(o&s.child.childLanes)!==0?J_(i,s,o):($r(s),i=ar(i,s,o),i!==null?i.sibling:null);$r(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ya(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return Z_(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(vt,vt.current),u)break;return null;case 22:return s.lanes=0,$_(i,s,o,s.pendingProps);case 24:Br(s,Nt,i.memoizedState.cache)}return ar(i,s,o)}function ev(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Dt=!0;else{if(!Jf(i,o)&&(s.flags&128)===0)return Dt=!1,Qw(i,s,o);Dt=(i.flags&131072)!==0}else Dt=!1,ze&&(s.flags&1048576)!==0&&My(s,yl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ta(s.elementType),s.type=i,typeof i=="function")tf(i)?(u=sa(i,u),s.tag=1,s=Q_(null,s,i,u,o)):(s.tag=0,s=qf(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===se){s.tag=11,s=H_(null,s,i,u,o);break e}else if(d===I){s.tag=14,s=F_(null,s,i,u,o);break e}}throw s=it(i)||i,Error(r(306,s,""))}}return s;case 0:return qf(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=sa(u,s.pendingProps),Q_(i,s,u,d,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var m=s.memoizedState;d=m.element,yf(i,s),xl(s,u,null,o);var T=s.memoizedState;if(u=T.cache,Br(s,Nt,u),u!==m.cache&&hf(s,[Nt],o,!0),wl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=X_(i,s,u,o);break e}else if(u!==d){d=jn(Error(r(424)),s),_l(d),s=X_(i,s,u,o);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,at=Hn(i.firstChild),Yt=s,ze=!0,Ur=null,zn=!0,o=$y(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Js(),u===d){s=ar(i,s,o);break e}Xt(i,s,u,o)}s=s.child}return s;case 26:return Uc(i,s),i===null?(o=h0(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,i=s.pendingProps,u=nh(De.current).createElement(o),u[Rt]=s,u[Ht]=i,Jt(u,o,i),At(u),s.stateNode=u):s.memoizedState=h0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ds(s),i===null&&ze&&(u=s.stateNode=l0(s.type,s.pendingProps,De.current),Yt=s,zn=!0,d=at,es(s.type)?(Im=d,at=Hn(u.firstChild)):at=d),Xt(i,s,s.pendingProps.children,o),Uc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((d=u=at)&&(u=x2(u,s.type,s.pendingProps,zn),u!==null?(s.stateNode=u,Yt=s,at=Hn(u.firstChild),zn=!1,d=!0):d=!1),d||zr(s)),Ds(s),d=s.type,m=s.pendingProps,T=i!==null?i.memoizedProps:null,u=m.children,xm(d,m)?u=null:T!==null&&xm(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=wf(i,s,zw,null,null,o),$l._currentValue=d),Uc(i,s),Xt(i,s,u,o),s.child;case 6:return i===null&&ze&&((i=o=at)&&(o=R2(o,s.pendingProps,zn),o!==null?(s.stateNode=o,Yt=s,at=null,i=!0):i=!1),i||zr(s)),null;case 13:return J_(i,s,o);case 4:return jt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ia(s,null,u,o):Xt(i,s,u,o),s.child;case 11:return H_(i,s,s.type,s.pendingProps,o);case 7:return Xt(i,s,s.pendingProps,o),s.child;case 8:return Xt(i,s,s.pendingProps.children,o),s.child;case 12:return Xt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Br(s,s.type,u.value),Xt(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Zs(s),d=Qt(d),u=u(d),s.flags|=1,Xt(i,s,u,o),s.child;case 14:return F_(i,s,s.type,s.pendingProps,o);case 15:return q_(i,s,s.type,s.pendingProps,o);case 19:return Z_(i,s,o);case 31:return Yw(i,s,o);case 22:return $_(i,s,o,s.pendingProps);case 24:return Zs(s),u=Qt(Nt),i===null?(d=mf(),d===null&&(d=rt,m=df(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),s.memoizedState={parent:u,cache:d},pf(s),Br(s,Nt,d)):((i.lanes&o)!==0&&(yf(i,s),xl(s,null,null,o),wl()),d=i.memoizedState,m=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Br(s,Nt,u)):(u=m.cache,Br(s,Nt,u),u!==d.cache&&hf(s,[Nt],o,!0))),Xt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function or(i){i.flags|=4}function Wf(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(Av())i.flags|=8192;else throw na=wc,gf}else i.flags&=-16777217}function tv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!p0(s))if(Av())i.flags|=8192;else throw na=wc,gf}function Bc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ku():536870912,i.lanes|=s,ao|=s)}function Dl(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function Xw(i,s,o){var u=s.pendingProps;switch(af(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ir(Nt),ut(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ka(s)?or(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lf())),ot(s),null;case 26:var d=s.type,m=s.memoizedState;return i===null?(or(s),m!==null?(ot(s),tv(s,m)):(ot(s),Wf(s,d,null,u,o))):m?m!==i.memoizedState?(or(s),ot(s),tv(s,m)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&or(s),ot(s),Wf(s,d,i,u,o)),null;case 27:if(xa(s),o=De.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}i=he.current,Ka(s)?Vy(s):(i=l0(d,u,o),s.stateNode=i,or(s))}return ot(s),null;case 5:if(xa(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(m=he.current,Ka(s))Vy(s);else{var T=nh(De.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}m[Rt]=s,m[Ht]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=m;e:switch(Jt(m,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&or(s)}}return ot(s),Wf(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&or(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=De.current,Ka(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Rt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jv(i.nodeValue,o)),i||zr(s,!0)}else i=nh(i).createTextNode(u),i[Rt]=s,s.stateNode=i}return ot(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=Ka(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Rt]=s}else Js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else o=lf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(xn(s),s):(xn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ka(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Rt]=s}else Js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),d=!1}else d=lf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(xn(s),s):(xn(s),null)}return xn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Bc(s,s.updateQueue),ot(s),null);case 4:return ut(),i===null&&Tm(s.stateNode.containerInfo),ot(s),null;case 10:return ir(s.type),ot(s),null;case 19:if(te(vt),u=s.memoizedState,u===null)return ot(s),null;if(d=(s.flags&128)!==0,m=u.rendering,m===null)if(d)Dl(u,!1);else{if(pt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Cc(i),m!==null){for(s.flags|=128,Dl(u,!1),i=m.updateQueue,s.updateQueue=i,Bc(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Ny(o,i),o=o.sibling;return le(vt,vt.current&1|2),ze&&tr(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&ln()>Gc&&(s.flags|=128,d=!0,Dl(u,!1),s.lanes=4194304)}else{if(!d)if(i=Cc(m),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Bc(s,i),Dl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!ze)return ot(s),null}else 2*ln()-u.renderingStartTime>Gc&&o!==536870912&&(s.flags|=128,d=!0,Dl(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(i=u.last,i!==null?i.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=ln(),i.sibling=null,o=vt.current,le(vt,d?o&1|2:o&1),ze&&tr(s,u.treeForkCount),i):(ot(s),null);case 22:case 23:return xn(s),Ef(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),o=s.updateQueue,o!==null&&Bc(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&te(ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ir(Nt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Jw(i,s){switch(af(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ir(Nt),ut(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return xa(s),null;case 31:if(s.memoizedState!==null){if(xn(s),s.alternate===null)throw Error(r(340));Js()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(xn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Js()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(vt),null;case 4:return ut(),null;case 10:return ir(s.type),null;case 22:case 23:return xn(s),Ef(),i!==null&&te(ea),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return ir(Nt),null;case 25:return null;default:return null}}function nv(i,s){switch(af(s),s.tag){case 3:ir(Nt),ut();break;case 26:case 27:case 5:xa(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&xn(s);break;case 13:xn(s);break;case 19:te(vt);break;case 10:ir(s.type);break;case 22:case 23:xn(s),Ef(),i!==null&&te(ea);break;case 24:ir(Nt)}}function Ml(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var m=o.create,T=o.inst;u=m(),T.destroy=u}o=o.next}while(o!==d)}}catch(x){We(s,s.return,x)}}function Kr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&i)===i){var T=u.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,d=s;var M=o,G=x;try{G()}catch(W){We(d,M,W)}}}u=u.next}while(u!==m)}}catch(W){We(s,s.return,W)}}function iv(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Ky(s,o)}catch(u){We(i,i.return,u)}}}function rv(i,s,o){o.props=sa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){We(i,s,u)}}function Ol(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){We(i,s,d)}}function Oi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){We(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){We(i,s,d)}else o.current=null}function sv(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){We(i,i.return,d)}}function Zf(i,s,o){try{var u=i.stateNode;v2(u,i.type,o,s),u[Ht]=s}catch(d){We(i,i.return,d)}}function av(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&es(i.type)||i.tag===4}function em(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||av(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&es(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Zn));else if(u!==4&&(u===27&&es(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(tm(i,s,o),i=i.sibling;i!==null;)tm(i,s,o),i=i.sibling}function Hc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&es(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Hc(i,s,o),i=i.sibling;i!==null;)Hc(i,s,o),i=i.sibling}function ov(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Jt(s,u,o),s[Rt]=i,s[Ht]=o}catch(m){We(i,i.return,m)}}var lr=!1,Mt=!1,nm=!1,lv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Ww(i,s){if(i=i.containerInfo,bm=uh,i=Ty(i),Yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,x=-1,M=-1,G=0,W=0,ee=i,Y=null;t:for(;;){for(var J;ee!==o||d!==0&&ee.nodeType!==3||(x=T+d),ee!==m||u!==0&&ee.nodeType!==3||(M=T+u),ee.nodeType===3&&(T+=ee.nodeValue.length),(J=ee.firstChild)!==null;)Y=ee,ee=J;for(;;){if(ee===i)break t;if(Y===o&&++G===d&&(x=T),Y===m&&++W===u&&(M=T),(J=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=J}o=x===-1||M===-1?null:{start:x,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(wm={focusedElem:i,selectionRange:o},uh=!1,qt=s;qt!==null;)if(s=qt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qt=i;else for(;qt!==null;){switch(s=qt,m=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=s,d=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var fe=sa(o.type,d);i=u.getSnapshotBeforeUpdate(fe,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(ve){We(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Am(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Am(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qt=i;break}qt=s.return}}function uv(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:cr(i,o),u&4&&Ml(5,o);break;case 1:if(cr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var d=sa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}u&64&&iv(o),u&512&&Ol(o,o.return);break;case 3:if(cr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Ky(i,s)}catch(T){We(o,o.return,T)}}break;case 27:s===null&&u&4&&ov(o);case 26:case 5:cr(i,o),s===null&&u&4&&sv(o),u&512&&Ol(o,o.return);break;case 12:cr(i,o);break;case 31:cr(i,o),u&4&&dv(i,o);break;case 13:cr(i,o),u&4&&fv(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=o2.bind(null,o),A2(i,o))));break;case 22:if(u=o.memoizedState!==null||lr,!u){s=s!==null&&s.memoizedState!==null||Mt,d=lr;var m=Mt;lr=u,(Mt=s)&&!m?hr(i,o,(o.subtreeFlags&8772)!==0):cr(i,o),lr=d,Mt=m}break;case 30:break;default:cr(i,o)}}function cv(i){var s=i.alternate;s!==null&&(i.alternate=null,cv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ia(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,fn=!1;function ur(i,s,o){for(o=o.child;o!==null;)hv(i,s,o),o=o.sibling}function hv(i,s,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Qn,o)}catch{}switch(o.tag){case 26:Mt||Oi(o,s),ur(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Mt||Oi(o,s);var u=ht,d=fn;es(o.type)&&(ht=o.stateNode,fn=!1),ur(i,s,o),Hl(o.stateNode),ht=u,fn=d;break;case 5:Mt||Oi(o,s);case 6:if(u=ht,d=fn,ht=null,ur(i,s,o),ht=u,fn=d,ht!==null)if(fn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(m){We(o,s,m)}else try{ht.removeChild(o.stateNode)}catch(m){We(o,s,m)}break;case 18:ht!==null&&(fn?(i=ht,i0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),go(i)):i0(ht,o.stateNode));break;case 4:u=ht,d=fn,ht=o.stateNode.containerInfo,fn=!0,ur(i,s,o),ht=u,fn=d;break;case 0:case 11:case 14:case 15:Kr(2,o,s),Mt||Kr(4,o,s),ur(i,s,o);break;case 1:Mt||(Oi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&rv(o,s,u)),ur(i,s,o);break;case 21:ur(i,s,o);break;case 22:Mt=(u=Mt)||o.memoizedState!==null,ur(i,s,o),Mt=u;break;default:ur(i,s,o)}}function dv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{go(i)}catch(o){We(s,s.return,o)}}}function fv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{go(i)}catch(o){We(s,s.return,o)}}function Zw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new lv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new lv),s;default:throw Error(r(435,i.tag))}}function Fc(i,s){var o=Zw(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=l2.bind(null,i,u);u.then(d,d)}})}function mn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],m=i,T=s,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(es(x.type)){ht=x.stateNode,fn=!1;break e}break;case 5:ht=x.stateNode,fn=!1;break e;case 3:case 4:ht=x.stateNode.containerInfo,fn=!0;break e}x=x.return}if(ht===null)throw Error(r(160));hv(m,T,d),ht=null,fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)mv(s,i),s=s.sibling}var si=null;function mv(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(s,i),gn(i),u&4&&(Kr(3,i,i.return),Ml(3,i),Kr(5,i,i.return));break;case 1:mn(s,i),gn(i),u&512&&(Mt||o===null||Oi(o,o.return)),u&64&&lr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=si;if(mn(s,i),gn(i),u&512&&(Mt||o===null||Oi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[vi]||m[Rt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),Jt(m,u,o),m[Rt]=i,At(m),u=m;break e;case"link":var T=m0("link","href",d).get(u+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(m=T[x],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}m=d.createElement(u),Jt(m,u,o),d.head.appendChild(m);break;case"meta":if(T=m0("meta","content",d).get(u+(o.content||""))){for(x=0;x<T.length;x++)if(m=T[x],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}m=d.createElement(u),Jt(m,u,o),d.head.appendChild(m);break;default:throw Error(r(468,u))}m[Rt]=i,At(m),u=m}i.stateNode=u}else g0(d,i.type,i.stateNode);else i.stateNode=f0(d,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?g0(d,i.type,i.stateNode):f0(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Zf(i,i.memoizedProps,o.memoizedProps)}break;case 27:mn(s,i),gn(i),u&512&&(Mt||o===null||Oi(o,o.return)),o!==null&&u&4&&Zf(i,i.memoizedProps,o.memoizedProps);break;case 5:if(mn(s,i),gn(i),u&512&&(Mt||o===null||Oi(o,o.return)),i.flags&32){d=i.stateNode;try{dn(d,"")}catch(fe){We(i,i.return,fe)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Zf(i,d,o!==null?o.memoizedProps:d)),u&1024&&(nm=!0);break;case 6:if(mn(s,i),gn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(fe){We(i,i.return,fe)}}break;case 3:if(sh=null,d=si,si=ih(s.containerInfo),mn(s,i),si=d,gn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{go(s.containerInfo)}catch(fe){We(i,i.return,fe)}nm&&(nm=!1,gv(i));break;case 4:u=si,si=ih(i.stateNode.containerInfo),mn(s,i),gn(i),si=u;break;case 12:mn(s,i),gn(i);break;case 31:mn(s,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fc(i,u)));break;case 13:mn(s,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($c=ln()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fc(i,u)));break;case 22:d=i.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,G=lr,W=Mt;if(lr=G||d,Mt=W||M,mn(s,i),Mt=W,lr=G,gn(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||M||lr||Mt||aa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(m=M.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=M.stateNode;var ee=M.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){We(M,M.return,fe)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(fe){We(M,M.return,fe)}}}else if(s.tag===18){if(o===null){M=s;try{var J=M.stateNode;d?r0(J,!0):r0(M.stateNode,!1)}catch(fe){We(M,M.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fc(i,o))));break;case 19:mn(s,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fc(i,u)));break;case 30:break;case 21:break;default:mn(s,i),gn(i)}}function gn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(av(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,m=em(i);Hc(i,m,d);break;case 5:var T=o.stateNode;o.flags&32&&(dn(T,""),o.flags&=-33);var x=em(i);Hc(i,x,T);break;case 3:case 4:var M=o.stateNode.containerInfo,G=em(i);tm(i,G,M);break;default:throw Error(r(161))}}catch(W){We(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function gv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;gv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function cr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uv(i,s.alternate,s),s=s.sibling}function aa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Kr(4,s,s.return),aa(s);break;case 1:Oi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&rv(s,s.return,o),aa(s);break;case 27:Hl(s.stateNode);case 26:case 5:Oi(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}i=i.sibling}}function hr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:hr(d,m,o),Ml(4,m);break;case 1:if(hr(d,m,o),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){We(u,u.return,G)}if(u=m,d=u.updateQueue,d!==null){var x=u.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Gy(M[d],x)}catch(G){We(u,u.return,G)}}o&&T&64&&iv(m),Ol(m,m.return);break;case 27:ov(m);case 26:case 5:hr(d,m,o),o&&u===null&&T&4&&sv(m),Ol(m,m.return);break;case 12:hr(d,m,o);break;case 31:hr(d,m,o),o&&T&4&&dv(d,m);break;case 13:hr(d,m,o),o&&T&4&&fv(d,m);break;case 22:m.memoizedState===null&&hr(d,m,o),Ol(m,m.return);break;case 30:break;default:hr(d,m,o)}s=s.sibling}}function im(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&vl(o))}function rm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vl(i))}function ai(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pv(i,s,o,u),s=s.sibling}function pv(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ai(i,s,o,u),d&2048&&Ml(9,s);break;case 1:ai(i,s,o,u);break;case 3:ai(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&vl(i)));break;case 12:if(d&2048){ai(i,s,o,u),i=s.stateNode;try{var m=s.memoizedProps,T=m.id,x=m.onPostCommit;typeof x=="function"&&x(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){We(s,s.return,M)}}else ai(i,s,o,u);break;case 31:ai(i,s,o,u);break;case 13:ai(i,s,o,u);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?ai(i,s,o,u):Vl(i,s):m._visibility&2?ai(i,s,o,u):(m._visibility|=2,io(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&im(T,s);break;case 24:ai(i,s,o,u),d&2048&&rm(s.alternate,s);break;default:ai(i,s,o,u)}}function io(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=i,T=s,x=o,M=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:io(m,T,x,M,d),Ml(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?io(m,T,x,M,d):Vl(m,T):(W._visibility|=2,io(m,T,x,M,d)),d&&G&2048&&im(T.alternate,T);break;case 24:io(m,T,x,M,d),d&&G&2048&&rm(T.alternate,T);break;default:io(m,T,x,M,d)}s=s.sibling}}function Vl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Vl(o,u),d&2048&&im(u.alternate,u);break;case 24:Vl(o,u),d&2048&&rm(u.alternate,u);break;default:Vl(o,u)}s=s.sibling}}var Pl=8192;function ro(i,s,o){if(i.subtreeFlags&Pl)for(i=i.child;i!==null;)yv(i,s,o),i=i.sibling}function yv(i,s,o){switch(i.tag){case 26:ro(i,s,o),i.flags&Pl&&i.memoizedState!==null&&U2(o,si,i.memoizedState,i.memoizedProps);break;case 5:ro(i,s,o);break;case 3:case 4:var u=si;si=ih(i.stateNode.containerInfo),ro(i,s,o),si=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Pl,Pl=16777216,ro(i,s,o),Pl=u):ro(i,s,o));break;default:ro(i,s,o)}}function _v(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function kl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,Tv(u,i)}_v(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vv(i),i=i.sibling}function vv(i){switch(i.tag){case 0:case 11:case 15:kl(i),i.flags&2048&&Kr(9,i,i.return);break;case 3:kl(i);break;case 12:kl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,qc(i)):kl(i);break;default:kl(i)}}function qc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];qt=u,Tv(u,i)}_v(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Kr(8,s,s.return),qc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,qc(s));break;default:qc(s)}i=i.sibling}}function Tv(i,s){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:Kr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=i;qt!==null;){u=qt;var d=u.sibling,m=u.return;if(cv(u),u===o){qt=null;break e}if(d!==null){d.return=m,qt=d;break e}qt=m}}}var e2={getCacheForType:function(i){var s=Qt(Nt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Qt(Nt).controller.signal}},t2=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Oe=null,Pe=0,Je=0,Rn=null,Yr=!1,so=!1,sm=!1,dr=0,pt=0,Qr=0,oa=0,am=0,An=0,ao=0,jl=null,pn=null,om=!1,$c=0,Ev=0,Gc=1/0,Kc=null,Xr=null,Ut=0,Jr=null,oo=null,fr=0,lm=0,um=null,Sv=null,Ll=0,cm=null;function Cn(){return(Ke&2)!==0&&Pe!==0?Pe&-Pe:K.T!==null?pm():Yu()}function bv(){if(An===0)if((Pe&536870912)===0||ze){var i=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),An=i}else An=536870912;return i=wn.current,i!==null&&(i.flags|=32),An}function yn(i,s,o){(i===rt&&(Je===2||Je===9)||i.cancelPendingCommit!==null)&&(lo(i,0),Wr(i,Pe,An,!1)),Ps(i,o),((Ke&2)===0||i!==rt)&&(i===rt&&((Ke&2)===0&&(oa|=o),pt===4&&Wr(i,Pe,An,!1)),Vi(i))}function wv(i,s,o){if((Ke&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||Xn(i,s),d=u?r2(i,s):dm(i,s,!0),m=u;do{if(d===0){so&&!u&&Wr(i,s,0,!1);break}else{if(o=i.current.alternate,m&&!n2(o)){d=dm(i,s,!1),m=!1;continue}if(d===2){if(m=s,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var x=i;d=jl;var M=x.current.memoizedState.isDehydrated;if(M&&(lo(x,T).flags|=256),T=dm(x,T,!1),T!==2){if(sm&&!M){x.errorRecoveryDisabledLanes|=m,oa|=m,d=4;break e}m=pn,pn=d,m!==null&&(pn===null?pn=m:pn.push.apply(pn,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){lo(i,0),Wr(i,s,0,!0);break}e:{switch(u=i,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wr(u,s,An,!Yr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=$c+300-ln(),10<d)){if(Wr(u,s,An,!Yr),pi(u,0,!0)!==0)break e;fr=s,u.timeoutHandle=t0(xv.bind(null,u,o,pn,Kc,om,s,An,oa,ao,Yr,m,"Throttled",-0,0),d);break e}xv(u,o,pn,Kc,om,s,An,oa,ao,Yr,m,null,-0,0)}}break}while(!0);Vi(i)}function xv(i,s,o,u,d,m,T,x,M,G,W,ee,Y,J){if(i.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},yv(s,m,ee);var fe=(m&62914560)===m?$c-ln():(m&4194048)===m?Ev-ln():0;if(fe=z2(ee,fe),fe!==null){fr=m,i.cancelPendingCommit=fe(Ov.bind(null,i,s,m,o,u,d,T,x,M,W,ee,null,Y,J)),Wr(i,m,T,!G);return}}Ov(i,s,m,o,u,d,T,x,M)}function n2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],m=d.getSnapshot;d=d.value;try{if(!Sn(m(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wr(i,s,o,u){s&=~am,s&=~oa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var m=31-yt(d),T=1<<m;u[m]=-1,d&=~T}o!==0&&ks(i,o,s)}function Yc(){return(Ke&6)===0?(Ul(0),!1):!0}function hm(){if(Oe!==null){if(Je===0)var i=Oe.return;else i=Oe,nr=Ws=null,Af(i),Wa=null,El=0,i=Oe;for(;i!==null;)nv(i.alternate,i),i=i.return;Oe=null}}function lo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,S2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),fr=0,hm(),rt=i,Oe=o=er(i.current,null),Pe=s,Je=0,Rn=null,Yr=!1,so=Xn(i,s),sm=!1,ao=An=am=oa=Qr=pt=0,pn=jl=null,om=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-yt(u),m=1<<d;s|=i[d],u&=~m}return dr=s,gc(),o}function Rv(i,s){Ne=null,K.H=Nl,s===Ja||s===bc?(s=Hy(),Je=3):s===gf?(s=Hy(),Je=4):Je=s===Ff?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Oe===null&&(pt=1,jc(i,jn(s,i.current)))}function Av(){var i=wn.current;return i===null?!0:(Pe&4194048)===Pe?Bn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?i===Bn:!1}function Cv(){var i=K.H;return K.H=Nl,i===null?Nl:i}function Nv(){var i=K.A;return K.A=e2,i}function Qc(){pt=4,Yr||(Pe&4194048)!==Pe&&wn.current!==null||(so=!0),(Qr&134217727)===0&&(oa&134217727)===0||rt===null||Wr(rt,Pe,An,!1)}function dm(i,s,o){var u=Ke;Ke|=2;var d=Cv(),m=Nv();(rt!==i||Pe!==s)&&(Kc=null,lo(i,s)),s=!1;var T=pt;e:do try{if(Je!==0&&Oe!==null){var x=Oe,M=Rn;switch(Je){case 8:hm(),T=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(s=!0);var G=Je;if(Je=0,Rn=null,uo(i,x,M,G),o&&so){T=0;break e}break;default:G=Je,Je=0,Rn=null,uo(i,x,M,G)}}i2(),T=pt;break}catch(W){Rv(i,W)}while(!0);return s&&i.shellSuspendCounter++,nr=Ws=null,Ke=u,K.H=d,K.A=m,Oe===null&&(rt=null,Pe=0,gc()),T}function i2(){for(;Oe!==null;)Iv(Oe)}function r2(i,s){var o=Ke;Ke|=2;var u=Cv(),d=Nv();rt!==i||Pe!==s?(Kc=null,Gc=ln()+500,lo(i,s)):so=Xn(i,s);e:do try{if(Je!==0&&Oe!==null){s=Oe;var m=Rn;t:switch(Je){case 1:Je=0,Rn=null,uo(i,s,m,1);break;case 2:case 9:if(zy(m)){Je=0,Rn=null,Dv(s);break}s=function(){Je!==2&&Je!==9||rt!==i||(Je=7),Vi(i)},m.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:zy(m)?(Je=0,Rn=null,Dv(s)):(Je=0,Rn=null,uo(i,s,m,7));break;case 5:var T=null;switch(Oe.tag){case 26:T=Oe.memoizedState;case 5:case 27:var x=Oe;if(T?p0(T):x.stateNode.complete){Je=0,Rn=null;var M=x.sibling;if(M!==null)Oe=M;else{var G=x.return;G!==null?(Oe=G,Xc(G)):Oe=null}break t}}Je=0,Rn=null,uo(i,s,m,5);break;case 6:Je=0,Rn=null,uo(i,s,m,6);break;case 8:hm(),pt=6;break e;default:throw Error(r(462))}}s2();break}catch(W){Rv(i,W)}while(!0);return nr=Ws=null,K.H=u,K.A=d,Ke=o,Oe!==null?0:(rt=null,Pe=0,gc(),pt)}function s2(){for(;Oe!==null&&!Bd();)Iv(Oe)}function Iv(i){var s=ev(i.alternate,i,dr);i.memoizedProps=i.pendingProps,s===null?Xc(i):Oe=s}function Dv(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Y_(o,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=Y_(o,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:Af(s);default:nv(o,s),s=Oe=Ny(s,dr),s=ev(o,s,dr)}i.memoizedProps=i.pendingProps,s===null?Xc(i):Oe=s}function uo(i,s,o,u){nr=Ws=null,Af(s),Wa=null,El=0;var d=s.return;try{if(Kw(i,d,s,o,Pe)){pt=1,jc(i,jn(o,i.current)),Oe=null;return}}catch(m){if(d!==null)throw Oe=d,m;pt=1,jc(i,jn(o,i.current)),Oe=null;return}s.flags&32768?(ze||u===1?i=!0:so||(Pe&536870912)!==0?i=!1:(Yr=i=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Mv(s,i)):Xc(s)}function Xc(i){var s=i;do{if((s.flags&32768)!==0){Mv(s,Yr);return}i=s.return;var o=Xw(s.alternate,s,dr);if(o!==null){Oe=o;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=i}while(s!==null);pt===0&&(pt=5)}function Mv(i,s){do{var o=Jw(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);pt=6,Oe=null}function Ov(i,s,o,u,d,m,T,x,M){i.cancelPendingCommit=null;do Jc();while(Ut!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Zd,qd(i,o,m,T,x,M),i===rt&&(Oe=rt=null,Pe=0),oo=s,Jr=i,fr=o,lm=m,um=d,Sv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u2(Cr,function(){return Lv(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=K.T,K.T=null,d=oe.p,oe.p=2,T=Ke,Ke|=4;try{Ww(i,s,o)}finally{Ke=T,oe.p=d,K.T=u}}Ut=1,Vv(),Pv(),kv()}}function Vv(){if(Ut===1){Ut=0;var i=Jr,s=oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var u=oe.p;oe.p=2;var d=Ke;Ke|=4;try{mv(s,i);var m=wm,T=Ty(i.containerInfo),x=m.focusedElem,M=m.selectionRange;if(T!==x&&x&&x.ownerDocument&&vy(x.ownerDocument.documentElement,x)){if(M!==null&&Yd(x)){var G=M.start,W=M.end;if(W===void 0&&(W=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(W,x.value.length);else{var ee=x.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),fe=x.textContent.length,ve=Math.min(M.start,fe),nt=M.end===void 0?ve:Math.min(M.end,fe);!J.extend&&ve>nt&&(T=nt,nt=ve,ve=T);var B=_y(x,ve),j=_y(x,nt);if(B&&j&&(J.rangeCount!==1||J.anchorNode!==B.node||J.anchorOffset!==B.offset||J.focusNode!==j.node||J.focusOffset!==j.offset)){var $=ee.createRange();$.setStart(B.node,B.offset),J.removeAllRanges(),ve>nt?(J.addRange($),J.extend(j.node,j.offset)):($.setEnd(j.node,j.offset),J.addRange($))}}}}for(ee=[],J=x;J=J.parentNode;)J.nodeType===1&&ee.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var Z=ee[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}uh=!!bm,wm=bm=null}finally{Ke=d,oe.p=u,K.T=o}}i.current=s,Ut=2}}function Pv(){if(Ut===2){Ut=0;var i=Jr,s=oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var u=oe.p;oe.p=2;var d=Ke;Ke|=4;try{uv(i,s.alternate,s)}finally{Ke=d,oe.p=u,K.T=o}}Ut=3}}function kv(){if(Ut===4||Ut===3){Ut=0,Bu();var i=Jr,s=oo,o=fr,u=Sv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,oo=Jr=null,jv(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Xr=null),Xi(o),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Qn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=K.T,d=oe.p,oe.p=2,K.T=null;try{for(var m=i.onRecoverableError,T=0;T<u.length;T++){var x=u[T];m(x.value,{componentStack:x.stack})}}finally{K.T=s,oe.p=d}}(fr&3)!==0&&Jc(),Vi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===cm?Ll++:(Ll=0,cm=i):Ll=0,Ul(0)}}function jv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,vl(s)))}function Jc(){return Vv(),Pv(),kv(),Lv()}function Lv(){if(Ut!==5)return!1;var i=Jr,s=lm;lm=0;var o=Xi(fr),u=K.T,d=oe.p;try{oe.p=32>o?32:o,K.T=null,o=um,um=null;var m=Jr,T=fr;if(Ut=0,oo=Jr=null,fr=0,(Ke&6)!==0)throw Error(r(331));var x=Ke;if(Ke|=4,vv(m.current),pv(m,m.current,T,o),Ke=x,Ul(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Qn,m)}catch{}return!0}finally{oe.p=d,K.T=u,jv(i,s)}}function Uv(i,s,o){s=jn(o,s),s=Hf(i.stateNode,s,2),i=qr(i,s,2),i!==null&&(Ps(i,2),Vi(i))}function We(i,s,o){if(i.tag===3)Uv(i,i,o);else for(;s!==null;){if(s.tag===3){Uv(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xr===null||!Xr.has(u))){i=jn(o,i),o=z_(2),u=qr(s,o,2),u!==null&&(B_(o,u,s,i),Ps(u,2),Vi(u));break}}s=s.return}}function fm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new t2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(sm=!0,d.add(o),i=a2.bind(null,i,s,o),s.then(i,i))}function a2(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,rt===i&&(Pe&o)===o&&(pt===4||pt===3&&(Pe&62914560)===Pe&&300>ln()-$c?(Ke&2)===0&&lo(i,0):am|=o,ao===Pe&&(ao=0)),Vi(i)}function zv(i,s){s===0&&(s=Ku()),i=Qs(i,s),i!==null&&(Ps(i,s),Vi(i))}function o2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),zv(i,o)}function l2(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),zv(i,o)}function u2(i,s){return Lt(i,s)}var Wc=null,co=null,mm=!1,Zc=!1,gm=!1,Zr=0;function Vi(i){i!==co&&i.next===null&&(co===null?Wc=co=i:co=co.next=i),Zc=!0,mm||(mm=!0,h2())}function Ul(i,s){if(!gm&&Zc){gm=!0;do for(var o=!1,u=Wc;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var T=u.suspendedLanes,x=u.pingedLanes;m=(1<<31-yt(42|i)+1)-1,m&=d&~(T&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,qv(u,m))}else m=Pe,m=pi(u,u===rt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Xn(u,m)||(o=!0,qv(u,m));u=u.next}while(o);gm=!1}}function c2(){Bv()}function Bv(){Zc=mm=!1;var i=0;Zr!==0&&E2()&&(i=Zr);for(var s=ln(),o=null,u=Wc;u!==null;){var d=u.next,m=Hv(u,s);m===0?(u.next=null,o===null?Wc=d:o.next=d,d===null&&(co=o)):(o=u,(i!==0||(m&3)!==0)&&(Zc=!0)),u=d}Ut!==0&&Ut!==5||Ul(i),Zr!==0&&(Zr=0)}function Hv(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-yt(m),x=1<<T,M=d[T];M===-1?((x&o)===0||(x&u)!==0)&&(d[T]=Fd(x,s)):M<=s&&(i.expiredLanes|=x),m&=~x}if(s=rt,o=Pe,o=pi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Je===2||Je===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ar(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Xn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ar(u),Xi(o)){case 2:case 8:o=Qo;break;case 32:o=Cr;break;case 268435456:o=Hu;break;default:o=Cr}return u=Fv.bind(null,i),o=Lt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ar(u),i.callbackPriority=2,i.callbackNode=null,2}function Fv(i,s){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Jc()&&i.callbackNode!==o)return null;var u=Pe;return u=pi(i,i===rt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(wv(i,u,s),Hv(i,ln()),i.callbackNode!=null&&i.callbackNode===o?Fv.bind(null,i):null)}function qv(i,s){if(Jc())return null;wv(i,s,!0)}function h2(){b2(function(){(Ke&6)!==0?Lt(Yo,c2):Bv()})}function pm(){if(Zr===0){var i=Qa;i===0&&(i=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Zr=i}return Zr}function $v(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Va(""+i)}function Gv(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function d2(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var m=$v((d[Ht]||null).action),T=u.submitter;T&&(s=(s=T[Ht]||null)?$v(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var x=new Ai("action","action",null,u,d);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zr!==0){var M=T?Gv(d,T):new FormData(d);kf(o,{pending:!0,data:M,method:d.method,action:m},null,M)}}else typeof m=="function"&&(x.preventDefault(),M=T?Gv(d,T):new FormData(d),kf(o,{pending:!0,data:M,method:d.method,action:m},m,M))},currentTarget:d}]})}}for(var ym=0;ym<Wd.length;ym++){var _m=Wd[ym],f2=_m.toLowerCase(),m2=_m[0].toUpperCase()+_m.slice(1);ri(f2,"on"+m2)}ri(by,"onAnimationEnd"),ri(wy,"onAnimationIteration"),ri(xy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Iw,"onTransitionRun"),ri(Dw,"onTransitionStart"),ri(Mw,"onTransitionCancel"),ri(Ry,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Kv(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var T=u.length-1;0<=T;T--){var x=u[T],M=x.instance,G=x.currentTarget;if(x=x.listener,M!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=G;try{m(d)}catch(W){mc(W)}d.currentTarget=null,m=M}else for(T=0;T<u.length;T++){if(x=u[T],M=x.instance,G=x.currentTarget,x=x.listener,M!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=G;try{m(d)}catch(W){mc(W)}d.currentTarget=null,m=M}}}}function Ve(i,s){var o=s[Na];o===void 0&&(o=s[Na]=new Set);var u=i+"__bubble";o.has(u)||(Yv(s,i,2,!1),o.add(u))}function vm(i,s,o){var u=0;s&&(u|=4),Yv(o,i,u,s)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Tm(i){if(!i[eh]){i[eh]=!0,Wo.forEach(function(o){o!=="selectionchange"&&(g2.has(o)||vm(o,!1,i),vm(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[eh]||(s[eh]=!0,vm("selectionchange",!1,s))}}function Yv(i,s,o,u){switch(b0(s)){case 2:var d=F2;break;case 8:d=q2;break;default:d=Pm}o=d.bind(null,s,o,i),d=void 0,!Bs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Em(i,s,o,u,d){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var x=u.stateNode.containerInfo;if(x===d)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;x!==null;){if(T=Ti(x),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=m=T;continue e}x=x.parentNode}}u=u.return}Vr(function(){var G=m,W=On(o),ee=[];e:{var Y=Ay.get(i);if(Y!==void 0){var J=Ai,fe=i;switch(i){case"keypress":if(Fs(o)===0)break e;case"keydown":case"keyup":J=hc;break;case"focusin":fe="focus",J=$s;break;case"focusout":fe="blur",J=$s;break;case"beforeblur":case"afterblur":J=$s;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_;break;case by:case wy:case xy:J=rc;break;case Ry:J=R;break;case"scroll":case"scrollend":J=cl;break;case"wheel":J=X;break;case"copy":case"cut":case"paste":J=sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Zi;break;case"toggle":case"beforetoggle":J=Ce}var ve=(s&4)!==0,nt=!ve&&(i==="scroll"||i==="scrollend"),B=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var j=G,$;j!==null;){var Z=j;if($=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||$===null||B===null||(Z=ei(j,B),Z!=null&&ve.push(Bl(j,Z,$))),nt)break;j=j.return}0<ve.length&&(Y=new J(Y,fe,null,o,W),ee.push({event:Y,listeners:ve}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Y&&o!==ol&&(fe=o.relatedTarget||o.fromElement)&&(Ti(fe)||fe[_i]))break e;if((J||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(fe=o.relatedTarget||o.toElement,J=G,fe=fe?Ti(fe):null,fe!==null&&(nt=l(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(J=null,fe=G),J!==fe)){if(ve=hl,Z="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Zi,Z="onPointerLeave",B="onPointerEnter",j="pointer"),nt=J==null?Y:Tn(J),$=fe==null?Y:Tn(fe),Y=new ve(Z,j+"leave",J,o,W),Y.target=nt,Y.relatedTarget=$,Z=null,Ti(W)===G&&(ve=new ve(B,j+"enter",fe,o,W),ve.target=$,ve.relatedTarget=nt,Z=ve),nt=Z,J&&fe)t:{for(ve=p2,B=J,j=fe,$=0,Z=B;Z;Z=ve(Z))$++;Z=0;for(var pe=j;pe;pe=ve(pe))Z++;for(;0<$-Z;)B=ve(B),$--;for(;0<Z-$;)j=ve(j),Z--;for(;$--;){if(B===j||j!==null&&B===j.alternate){ve=B;break t}B=ve(B),j=ve(j)}ve=null}else ve=null;J!==null&&Qv(ee,Y,J,ve,!1),fe!==null&&nt!==null&&Qv(ee,nt,fe,ve,!0)}}e:{if(Y=G?Tn(G):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var qe=dy;else if(cy(Y))if(fy)qe=Aw;else{qe=xw;var me=ww}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Oa(G.elementType)&&(qe=dy):qe=Rw;if(qe&&(qe=qe(i,G))){hy(ee,qe,o,W);break e}me&&me(i,Y,G),i==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&rl(Y,"number",Y.value)}switch(me=G?Tn(G):window,i){case"focusin":(cy(me)||me.contentEditable==="true")&&(Ba=me,Qd=G,pl=null);break;case"focusout":pl=Qd=Ba=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,Ey(ee,o,W);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":Ey(ee,o,W)}var Me;if(Ge)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else za?Gs(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Ii&&o.locale!=="ko"&&(za||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&za&&(Me=ul()):(Ri=W,ll="value"in Ri?Ri.value:Ri.textContent,za=!0)),me=th(G,ke),0<me.length&&(ke=new Ni(ke,i,null,o,W),ee.push({event:ke,listeners:me}),Me?ke.data=Me:(Me=Ua(o),Me!==null&&(ke.data=Me)))),(Me=Pn?Tw(i,o):Ew(i,o))&&(ke=th(G,"onBeforeInput"),0<ke.length&&(me=new Ni("onBeforeInput","beforeinput",null,o,W),ee.push({event:me,listeners:ke}),me.data=Me)),d2(ee,i,G,o,W)}Kv(ee,s)})}function Bl(i,s,o){return{instance:i,listener:s,currentTarget:o}}function th(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ei(i,o),d!=null&&u.unshift(Bl(i,d,m)),d=ei(i,s),d!=null&&u.push(Bl(i,d,m))),i.tag===3)return u;i=i.return}return[]}function p2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Qv(i,s,o,u,d){for(var m=s._reactName,T=[];o!==null&&o!==u;){var x=o,M=x.alternate,G=x.stateNode;if(x=x.tag,M!==null&&M===u)break;x!==5&&x!==26&&x!==27||G===null||(M=G,d?(G=ei(o,m),G!=null&&T.unshift(Bl(o,G,M))):d||(G=ei(o,m),G!=null&&T.push(Bl(o,G,M)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var y2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function Xv(i){return(typeof i=="string"?i:""+i).replace(y2,`
`).replace(_2,"")}function Jv(i,s){return s=Xv(s),Xv(i)===s}function tt(i,s,o,u,d,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||dn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&dn(i,""+u);break;case"className":En(i,"class",u);break;case"tabIndex":En(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":En(i,o,u);break;case"style":al(i,u,m);break;case"data":if(s!=="object"){En(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Va(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",d.name,d,null),tt(i,s,"formEncType",d.formEncType,d,null),tt(i,s,"formMethod",d.formMethod,d,null),tt(i,s,"formTarget",d.formTarget,d,null)):(tt(i,s,"encType",d.encType,d,null),tt(i,s,"method",d.method,d,null),tt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Va(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Zn);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Va(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),Da(i,"popover",u);break;case"xlinkActuate":Ct(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Da(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=tc.get(o)||o,Da(i,o,u))}}function Sm(i,s,o,u,d,m){switch(o){case"style":al(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?dn(i,u):(typeof u=="number"||typeof u=="bigint")&&dn(i,""+u);break;case"onScroll":u!=null&&Ve("scroll",i);break;case"onScrollEnd":u!=null&&Ve("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),m=i[Ht]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(s,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Da(i,o,u)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var u=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,m,T,o,null)}}d&&tt(i,s,"srcSet",o.srcSet,o,null),u&&tt(i,s,"src",o.src,o,null);return;case"input":Ve("invalid",i);var x=m=T=d=null,M=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var W=o[u];if(W!=null)switch(u){case"name":d=W;break;case"type":T=W;break;case"checked":M=W;break;case"defaultChecked":G=W;break;case"value":m=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:tt(i,s,u,W,o,null)}}Wu(i,m,x,M,G,T,d,!1);return;case"select":Ve("invalid",i),u=T=m=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":T=x;break;case"multiple":u=x;default:tt(i,s,d,x,o,null)}s=m,o=T,i.multiple=!!u,s!=null?Ir(i,!!u,s,!1):o!=null&&Ir(i,!!u,o,!0);return;case"textarea":Ve("invalid",i),m=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":u=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:tt(i,s,T,x,o,null)}Dr(i,u,d,m);return;case"option":for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null)&&(M==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":tt(i,s,M,u,o,null));return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(u=0;u<zl.length;u++)Ve(zl[u],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,G,u,o,null)}return;default:if(Oa(s)){for(W in o)o.hasOwnProperty(W)&&(u=o[W],u!==void 0&&Sm(i,s,W,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&tt(i,s,x,u,o,null))}function v2(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,x=null,M=null,G=null,W=null;for(J in o){var ee=o[J];if(o.hasOwnProperty(J)&&ee!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=ee;default:u.hasOwnProperty(J)||tt(i,s,J,null,u,ee)}}for(var Y in u){var J=u[Y];if(ee=o[Y],u.hasOwnProperty(Y)&&(J!=null||ee!=null))switch(Y){case"type":m=J;break;case"name":d=J;break;case"checked":G=J;break;case"defaultChecked":W=J;break;case"value":T=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ee&&tt(i,s,Y,J,u,ee)}}Ma(i,T,x,M,G,W,m,d);return;case"select":J=T=x=Y=null;for(m in o)if(M=o[m],o.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":J=M;default:u.hasOwnProperty(m)||tt(i,s,m,null,u,M)}for(d in u)if(m=u[d],M=o[d],u.hasOwnProperty(d)&&(m!=null||M!=null))switch(d){case"value":Y=m;break;case"defaultValue":x=m;break;case"multiple":T=m;default:m!==M&&tt(i,s,d,m,u,M)}s=x,o=T,u=J,Y!=null?Ir(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Ir(i,!!o,s,!0):Ir(i,!!o,o?[]:"",!1));return;case"textarea":J=Y=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:tt(i,s,x,null,u,d)}for(T in u)if(d=u[T],m=o[T],u.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":Y=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&tt(i,s,T,d,u,m)}Zu(i,Y,J);return;case"option":for(var fe in o)Y=o[fe],o.hasOwnProperty(fe)&&Y!=null&&!u.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:tt(i,s,fe,null,u,Y));for(M in u)Y=u[M],J=o[M],u.hasOwnProperty(M)&&Y!==J&&(Y!=null||J!=null)&&(M==="selected"?i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":tt(i,s,M,Y,u,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&tt(i,s,ve,null,u,Y);for(G in u)if(Y=u[G],J=o[G],u.hasOwnProperty(G)&&Y!==J&&(Y!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:tt(i,s,G,Y,u,J)}return;default:if(Oa(s)){for(var nt in o)Y=o[nt],o.hasOwnProperty(nt)&&Y!==void 0&&!u.hasOwnProperty(nt)&&Sm(i,s,nt,void 0,u,Y);for(W in u)Y=u[W],J=o[W],!u.hasOwnProperty(W)||Y===J||Y===void 0&&J===void 0||Sm(i,s,W,Y,u,J);return}}for(var B in o)Y=o[B],o.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&tt(i,s,B,null,u,Y);for(ee in u)Y=u[ee],J=o[ee],!u.hasOwnProperty(ee)||Y===J||Y==null&&J==null||tt(i,s,ee,Y,u,J)}function Wv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],m=d.transferSize,T=d.initiatorType,x=d.duration;if(m&&x&&Wv(T)){for(T=0,x=d.responseEnd,u+=1;u<o.length;u++){var M=o[u],G=M.startTime;if(G>x)break;var W=M.transferSize,ee=M.initiatorType;W&&Wv(ee)&&(M=M.responseEnd,T+=W*(M<x?1:(x-G)/(M-G)))}if(--u,s+=8*(m+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var bm=null,wm=null;function nh(i){return i.nodeType===9?i:i.ownerDocument}function Zv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function xm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function E2(){var i=window.event;return i&&i.type==="popstate"?i===Rm?!1:(Rm=i,!0):(Rm=null,!1)}var t0=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,b2=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(i){return n0.resolve(null).then(i).catch(w2)}:t0;function w2(i){setTimeout(function(){throw i})}function es(i){return i==="head"}function i0(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),go(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Hl(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Hl(o);for(var m=o.firstChild;m;){var T=m.nextSibling,x=m.nodeName;m[vi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&Hl(i.ownerDocument.body);o=d}while(o);go(s)}function r0(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Am(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Am(o),Ia(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function x2(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[vi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Hn(i.nextSibling),i===null)break}return null}function R2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Hn(i.nextSibling),i===null))return null;return i}function s0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Hn(i.nextSibling),i===null))return null;return i}function Cm(i){return i.data==="$?"||i.data==="$~"}function Nm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function A2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Hn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Im=null;function a0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Hn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function o0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function l0(i,s,o){switch(s=nh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ia(i)}var Fn=new Map,u0=new Set;function ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mr=oe.d;oe.d={f:C2,r:N2,D:I2,C:D2,L:M2,m:O2,X:P2,S:V2,M:k2};function C2(){var i=mr.f(),s=Yc();return i||s}function N2(i){var s=Mn(i);s!==null&&s.tag===5&&s.type==="form"?R_(s):mr.r(i)}var ho=typeof document>"u"?null:document;function c0(i,s,o){var u=ho;if(u&&typeof s=="string"&&s){var d=hn(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),u0.has(d)||(u0.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Jt(s,"link",i),At(s),u.head.appendChild(s)))}}function I2(i){mr.D(i),c0("dns-prefetch",i,null)}function D2(i,s){mr.C(i,s),c0("preconnect",i,s)}function M2(i,s,o){mr.L(i,s,o);var u=ho;if(u&&i&&s){var d='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+hn(o.imageSizes)+'"]')):d+='[href="'+hn(i)+'"]';var m=d;switch(s){case"style":m=fo(i);break;case"script":m=mo(i)}Fn.has(m)||(i=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Fn.set(m,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(Fl(m))||s==="script"&&u.querySelector(ql(m))||(s=u.createElement("link"),Jt(s,"link",i),At(s),u.head.appendChild(s)))}}function O2(i,s){mr.m(i,s);var o=ho;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+hn(u)+'"][href="'+hn(i)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=mo(i)}if(!Fn.has(m)&&(i=E({rel:"modulepreload",href:i},s),Fn.set(m,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ql(m)))return}u=o.createElement("link"),Jt(u,"link",i),At(u),o.head.appendChild(u)}}}function V2(i,s,o){mr.S(i,s,o);var u=ho;if(u&&i){var d=Ei(u).hoistableStyles,m=fo(i);s=s||"default";var T=d.get(m);if(!T){var x={loading:0,preload:null};if(T=u.querySelector(Fl(m)))x.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Fn.get(m))&&Dm(i,o);var M=T=u.createElement("link");At(M),Jt(M,"link",i),M._p=new Promise(function(G,W){M.onload=G,M.onerror=W}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,rh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:x},d.set(m,T)}}}function P2(i,s){mr.X(i,s);var o=ho;if(o&&i){var u=Ei(o).hoistableScripts,d=mo(i),m=u.get(d);m||(m=o.querySelector(ql(d)),m||(i=E({src:i,async:!0},s),(s=Fn.get(d))&&Mm(i,s),m=o.createElement("script"),At(m),Jt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function k2(i,s){mr.M(i,s);var o=ho;if(o&&i){var u=Ei(o).hoistableScripts,d=mo(i),m=u.get(d);m||(m=o.querySelector(ql(d)),m||(i=E({src:i,async:!0,type:"module"},s),(s=Fn.get(d))&&Mm(i,s),m=o.createElement("script"),At(m),Jt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function h0(i,s,o,u){var d=(d=De.current)?ih(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=fo(o.href),o=Ei(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=fo(o.href);var m=Ei(d).hoistableStyles,T=m.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=d.querySelector(Fl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Fn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(i,o),m||j2(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mo(o),o=Ei(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fo(i){return'href="'+hn(i)+'"'}function Fl(i){return'link[rel="stylesheet"]['+i+"]"}function d0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function j2(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),At(s),i.head.appendChild(s))}function mo(i){return'[src="'+hn(i)+'"]'}function ql(i){return"script[async]"+i}function f0(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+hn(o.href)+'"]');if(u)return s.instance=u,At(u),u;var d=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),At(u),Jt(u,"style",d),rh(u,o.precedence,i),s.instance=u;case"stylesheet":d=fo(o.href);var m=i.querySelector(Fl(d));if(m)return s.state.loading|=4,s.instance=m,At(m),m;u=d0(o),(d=Fn.get(d))&&Dm(u,d),m=(i.ownerDocument||i).createElement("link"),At(m);var T=m;return T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),Jt(m,"link",u),s.state.loading|=4,rh(m,o.precedence,i),s.instance=m;case"script":return m=mo(o.src),(d=i.querySelector(ql(m)))?(s.instance=d,At(d),d):(u=o,(d=Fn.get(m))&&(u=E({},o),Mm(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),At(d),Jt(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,rh(u,o.precedence,i));return s.instance}function rh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,T=0;T<u.length;T++){var x=u[T];if(x.dataset.precedence===s)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Dm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Mm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var sh=null;function m0(i,s,o){if(sh===null){var u=new Map,d=sh=new Map;d.set(o,u)}else d=sh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var m=o[d];if(!(m[vi]||m[Rt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=i+T;var x=u.get(T);x?x.push(m):u.set(T,[m])}}return u}function g0(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function L2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function p0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U2(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=fo(u.href),m=s.querySelector(Fl(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ah.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=m,At(m);return}m=s.ownerDocument||s,u=d0(u),(d=Fn.get(d))&&Dm(u,d),m=m.createElement("link"),At(m);var T=m;T._p=new Promise(function(x,M){T.onload=x,T.onerror=M}),Jt(m,"link",u),o.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=ah.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Om=0;function z2(i,s){return i.stylesheets&&i.count===0&&lh(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&lh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+s);0<i.imgBytes&&Om===0&&(Om=62500*T2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>Om?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var oh=null;function lh(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,oh=new Map,s.forEach(B2,i),oh=null,ah.call(i))}function B2(i,s){if(!(s.state.loading&4)){var o=oh.get(i);if(o)var u=o.get(null);else{o=new Map,oh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),m=o.get(T)||u,m===u&&o.set(null,d),o.set(T,d),this.count++,u=ah.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var $l={$$typeof:Q,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function H2(i,s,o,u,d,m,T,x,M){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function y0(i,s,o,u,d,m,T,x,M,G,W,ee){return i=new H2(i,s,o,T,M,G,W,ee,x),s=1,m===!0&&(s|=24),m=bn(3,null,null,s),i.current=m,m.stateNode=i,s=df(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},pf(m),i}function _0(i){return i?(i=qa,i):qa}function v0(i,s,o,u,d,m){d=_0(d),u.context===null?u.context=d:u.pendingContext=d,u=Fr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=qr(i,u,s),o!==null&&(yn(o,i,s),bl(o,i,s))}function T0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Vm(i,s){T0(i,s),(i=i.alternate)&&T0(i,s)}function E0(i){if(i.tag===13||i.tag===31){var s=Qs(i,67108864);s!==null&&yn(s,i,67108864),Vm(i,67108864)}}function S0(i){if(i.tag===13||i.tag===31){var s=Cn();s=js(s);var o=Qs(i,s);o!==null&&yn(o,i,s),Vm(i,s)}}var uh=!0;function F2(i,s,o,u){var d=K.T;K.T=null;var m=oe.p;try{oe.p=2,Pm(i,s,o,u)}finally{oe.p=m,K.T=d}}function q2(i,s,o,u){var d=K.T;K.T=null;var m=oe.p;try{oe.p=8,Pm(i,s,o,u)}finally{oe.p=m,K.T=d}}function Pm(i,s,o,u){if(uh){var d=km(u);if(d===null)Em(i,s,u,ch,o),w0(i,u);else if(G2(d,i,s,o,u))u.stopPropagation();else if(w0(i,u),s&4&&-1<$2.indexOf(i)){for(;d!==null;){var m=Mn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=gi(m.pendingLanes);if(T!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var M=1<<31-yt(T);x.entanglements[1]|=M,T&=~M}Vi(m),(Ke&6)===0&&(Gc=ln()+500,Ul(0))}}break;case 31:case 13:x=Qs(m,2),x!==null&&yn(x,m,2),Yc(),Vm(m,2)}if(m=km(u),m===null&&Em(i,s,u,ch,o),m===d)break;d=m}d!==null&&u.stopPropagation()}else Em(i,s,u,null,o)}}function km(i){return i=On(i),jm(i)}var ch=null;function jm(i){if(ch=null,i=Ti(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return ch=i,null}function b0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Yo:return 2;case Qo:return 8;case Cr:case Hd:return 32;case Hu:return 268435456;default:return 32}default:return 32}}var Lm=!1,ts=null,ns=null,is=null,Gl=new Map,Kl=new Map,rs=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(i,s){switch(i){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Gl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(s.pointerId)}}function Yl(i,s,o,u,d,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Mn(s),s!==null&&E0(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function G2(i,s,o,u,d){switch(s){case"focusin":return ts=Yl(ts,i,s,o,u,d),!0;case"dragenter":return ns=Yl(ns,i,s,o,u,d),!0;case"mouseover":return is=Yl(is,i,s,o,u,d),!0;case"pointerover":var m=d.pointerId;return Gl.set(m,Yl(Gl.get(m)||null,i,s,o,u,d)),!0;case"gotpointercapture":return m=d.pointerId,Kl.set(m,Yl(Kl.get(m)||null,i,s,o,u,d)),!0}return!1}function x0(i){var s=Ti(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Jn(i.priority,function(){S0(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,Jn(i.priority,function(){S0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=km(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);ol=u,o.target.dispatchEvent(u),ol=null}else return s=Mn(o),s!==null&&E0(s),i.blockedOn=o,!1;s.shift()}return!0}function R0(i,s,o){hh(i)&&o.delete(s)}function K2(){Lm=!1,ts!==null&&hh(ts)&&(ts=null),ns!==null&&hh(ns)&&(ns=null),is!==null&&hh(is)&&(is=null),Gl.forEach(R0),Kl.forEach(R0)}function dh(i,s){i.blockedOn===s&&(i.blockedOn=null,Lm||(Lm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,K2)))}var fh=null;function A0(i){fh!==i&&(fh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fh===i&&(fh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(jm(u||o)===null)continue;break}var m=Mn(o);m!==null&&(i.splice(s,3),s-=3,kf(m,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function go(i){function s(M){return dh(M,i)}ts!==null&&dh(ts,i),ns!==null&&dh(ns,i),is!==null&&dh(is,i),Gl.forEach(s),Kl.forEach(s);for(var o=0;o<rs.length;o++){var u=rs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<rs.length&&(o=rs[0],o.blockedOn===null);)x0(o),o.blockedOn===null&&rs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],m=o[u+1],T=d[Ht]||null;if(typeof m=="function")T||A0(o);else if(T){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[Ht]||null)x=T.formAction;else if(jm(d)!==null)continue}else x=T.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),A0(o)}}}function C0(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Um(i){this._internalRoot=i}mh.prototype.render=Um.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Cn();v0(o,u,i,s,null,null)},mh.prototype.unmount=Um.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;v0(i.current,2,null,i,null,null),Yc(),s[_i]=null}};function mh(i){this._internalRoot=i}mh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Yu();i={blockedOn:null,target:i,priority:s};for(var o=0;o<rs.length&&s!==0&&s<rs[o].priority;o++);rs.splice(o,0,i),o===0&&x0(i)}};var N0=e.version;if(N0!=="19.2.3")throw Error(r(527,N0,"19.2.3"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var Y2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Qn=gh.inject(Y2),Gt=gh}catch{}}return Xl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=k_,m=j_,T=L_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=y0(i,1,!1,null,null,o,u,null,d,m,T,C0),i[_i]=s.current,Tm(i),new Um(s)},Xl.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",m=k_,T=j_,x=L_,M=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(M=o.formState)),s=y0(i,1,!0,s,o??null,u,d,M,m,T,x,C0),s.context=_0(null),o=s.current,u=Cn(),u=js(u),d=Fr(u),d.callback=null,qr(o,d,u),o=u,s.current.lanes=o,Ps(s,o),Vi(s),i[_i]=s.current,Tm(i),new mh(s)},Xl.version="19.2.3",Xl}var U0;function rx(){if(U0)return Hm.exports;U0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hm.exports=ix(),Hm.exports}var sx=rx();var z0="popstate";function ax(t={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return _g("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:fu(a)}return lx(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ox(){return Math.random().toString(36).substring(2,10)}function B0(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:n,key:e&&e.key||r||ox()}}function fu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lx(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function E(){f="POP";let O=v(),V=O==null?null:O-p;p=O,g&&g({action:f,location:L.location,delta:V})}function b(O,V){f="PUSH";let F=_g(L.location,O,V);p=v()+1;let Q=B0(F,p),se=L.createHref(F);try{c.pushState(Q,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(se)}l&&g&&g({action:f,location:L.location,delta:1})}function w(O,V){f="REPLACE";let F=_g(L.location,O,V);p=v();let Q=B0(F,p),se=L.createHref(F);c.replaceState(Q,"",se),l&&g&&g({action:f,location:L.location,delta:0})}function C(O){return ux(O)}let L={get action(){return f},get location(){return t(a,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(z0,E),g=O,()=>{a.removeEventListener(z0,E),g=null}},createHref(O){return e(a,O)},createURL:C,encodeLocation(O){let V=C(O);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:w,go(O){return c.go(O)}};return L}function ux(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:fu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function HT(t,e,n="/"){return cx(t,e,n,!1)}function cx(t,e,n,r){let a=typeof e=="string"?Vo(e):e,l=Tr(a.pathname||"/",n);if(l==null)return null;let c=FT(t);hx(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let p=Sx(l);f=Tx(c[g],p,r)}return f}function FT(t,e=[],n=[],r="",a=!1){let l=(c,f,g=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;ft(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=vr([r,v.relativePath]),b=n.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),FT(c.children,e,b,E,g)),!(c.path==null&&!c.index)&&e.push({path:E,score:_x(E,c.index),routesMeta:b})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let g of qT(c.path))l(c,f,!0,g)}),e}function qT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=qT(r.join("/")),f=[];return f.push(...c.map(g=>g===""?l:[l,g].join("/"))),a&&f.push(...c),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function hx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dx=/^:[\w-]+$/,fx=3,mx=2,gx=1,px=10,yx=-2,H0=t=>t==="*";function _x(t,e){let n=t.split("/"),r=n.length;return n.some(H0)&&(r+=yx),e&&(r+=mx),n.filter(a=>!H0(a)).reduce((a,l)=>a+(dx.test(l)?fx:l===""?gx:px),r)}function vx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Tx(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let g=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=Hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:vr([l,E.pathname]),pathnameBase:Rx(vr([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=vr([l,E.pathnameBase]))}return c}function Hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ex(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:E},b)=>{if(v==="*"){let C=f[b]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[b];return E&&!w?p[v]=void 0:p[v]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Ex(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(r.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Sx(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bx=t=>$T.test(t);function wx(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Vo(t):t,l;if(n)if(bx(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=F0(n.substring(1),"/"):l=F0(n,e)}else l=e;return{pathname:l,search:Ax(r),hash:Cx(a)}}function F0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Gm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GT(t){let e=xx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function KT(t,e,n,r=!1){let a;typeof t=="string"?a=Vo(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),Gm("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Gm("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Gm("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;a.pathname=b.join("/")}f=E>=0?e[E]:"/"}let g=wx(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),Rx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ax=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Cx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Nx=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ix(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Dx(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QT(t,e){let n=t;if(typeof n!="string"||!$T.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(YT)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Tr(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XT=["POST","PUT","PATCH","DELETE"];new Set(XT);var Mx=["GET",...XT];new Set(Mx);var Po=P.createContext(null);Po.displayName="DataRouter";var hd=P.createContext(null);hd.displayName="DataRouterState";var Ox=P.createContext(!1),JT=P.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var Vx=P.createContext(new Map);Vx.displayName="Fetchers";var Px=P.createContext(null);Px.displayName="Await";var Yn=P.createContext(null);Yn.displayName="Navigation";var wu=P.createContext(null);wu.displayName="Location";var Ki=P.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var tp=P.createContext(null);tp.displayName="RouteError";var WT="REACT_ROUTER_ERROR",kx="REDIRECT",jx="ROUTE_ERROR_RESPONSE";function Lx(t){if(t.startsWith(`${WT}:${kx}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Ux(t){if(t.startsWith(`${WT}:${jx}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Nx(e.status,e.statusText,e.data)}catch{}}function zx(t,{relative:e}={}){ft(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Yn),{hash:a,pathname:l,search:c}=Ru(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:vr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function xu(){return P.useContext(wu)!=null}function Rr(){return ft(xu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(wu).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eE(t){P.useContext(Yn).static||P.useLayoutEffect(t)}function np(){let{isDataRoute:t}=P.useContext(Ki);return t?tR():Bx()}function Bx(){ft(xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Po),{basename:e,navigator:n}=P.useContext(Yn),{matches:r}=P.useContext(Ki),{pathname:a}=Rr(),l=JSON.stringify(GT(r)),c=P.useRef(!1);return eE(()=>{c.current=!0}),P.useCallback((g,p={})=>{if(ci(c.current,ZT),!c.current)return;if(typeof g=="number"){n.go(g);return}let v=KT(g,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:vr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}var Hx=P.createContext(null);function Fx(t){let e=P.useContext(Ki).outlet;return P.useMemo(()=>e&&P.createElement(Hx.Provider,{value:t},e),[e,t])}function Ru(t,{relative:e}={}){let{matches:n}=P.useContext(Ki),{pathname:r}=Rr(),a=JSON.stringify(GT(n));return P.useMemo(()=>KT(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function qx(t,e){return tE(t,e)}function tE(t,e,n,r,a){ft(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Yn),{matches:c}=P.useContext(Ki),f=c[c.length-1],g=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",E=f&&f.route;{let F=E&&E.path||"";iE(p,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Rr(),w;if(e){let F=typeof e=="string"?Vo(e):e;ft(v==="/"||F.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${F.pathname}" was given in the \`location\` prop.`),w=F}else w=b;let C=w.pathname||"/",L=C;if(v!=="/"){let F=v.replace(/^\//,"").split("/");L="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=HT(t,{pathname:L});ci(E||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ci(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Qx(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:vr([v,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?v:vr([v,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,r,a);return e&&V?P.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function $x(){let t=eR(),e=Ix(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,c)}var Gx=P.createElement($x,null),nE=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Ux(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(Ki.Provider,{value:this.props.routeContext},P.createElement(tp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(Kx,{error:t},e):e}};nE.contextType=Ox;var Km=new WeakMap;function Kx({children:t,error:e}){let{basename:n}=P.useContext(Yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Lx(e.digest);if(r){let a=Km.get(e);if(a)throw a;let l=QT(r.location,n);if(YT&&!Km.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Km.set(e,c),c}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Yx({routeContext:t,match:e,children:n}){let r=P.useContext(Po);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Ki.Provider,{value:t},n)}function Qx(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,g=-1;if(n)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=v),E.route.id){let{loaderData:b,errors:w}=n,C=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||C){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let p=n&&r?(v,E)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Dx(n.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,b)=>{let w,C=!1,L=null,O=null;n&&(w=c&&E.route.id?c[E.route.id]:void 0,L=E.route.errorElement||Gx,f&&(g<0&&b===0?(iE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):g===b&&(C=!0,O=E.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,b+1)),F=()=>{let Q;return w?Q=L:C?Q=O:E.route.Component?Q=P.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=v,P.createElement(Yx,{match:E,routeContext:{outlet:v,matches:V,isDataRoute:n!=null},children:Q})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?P.createElement(nE,{location:n.location,revalidation:n.revalidation,component:L,error:w,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:p}):F()},null)}function ip(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xx(t){let e=P.useContext(Po);return ft(e,ip(t)),e}function Jx(t){let e=P.useContext(hd);return ft(e,ip(t)),e}function Wx(t){let e=P.useContext(Ki);return ft(e,ip(t)),e}function rp(t){let e=Wx(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Zx(){return rp("useRouteId")}function eR(){let t=P.useContext(tp),e=Jx("useRouteError"),n=rp("useRouteError");return t!==void 0?t:e.errors?.[n]}function tR(){let{router:t}=Xx("useNavigate"),e=rp("useNavigate"),n=P.useRef(!1);return eE(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{ci(n.current,ZT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var q0={};function iE(t,e,n){!e&&!q0[t]&&(q0[t]=!0,ci(!1,n))}P.memo(nR);function nR({routes:t,future:e,state:n,onError:r}){return tE(t,void 0,n,r,e)}function iR(t){return Fx(t.context)}function la(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rR({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Vo(n));let{pathname:p="/",search:v="",hash:E="",state:b=null,key:w="default"}=n,C=P.useMemo(()=>{let L=Tr(p,f);return L==null?null:{location:{pathname:L,search:v,hash:E,state:b,key:w},navigationType:r}},[f,p,v,E,b,w,r]);return ci(C!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(Yn.Provider,{value:g},P.createElement(wu.Provider,{children:e,value:C}))}function sR({children:t,location:e}){return qx(vg(t),e)}function vg(t,e=[]){let n=[];return P.Children.forEach(t,(r,a)=>{if(!P.isValidElement(r))return;let l=[...e,a];if(r.type===P.Fragment){n.push.apply(n,vg(r.props.children,l));return}ft(r.type===la,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=vg(r.props.children,l)),n.push(c)}),n}var Ch="get",Nh="application/x-www-form-urlencoded";function dd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function aR(t){return dd(t)&&t.tagName.toLowerCase()==="button"}function oR(t){return dd(t)&&t.tagName.toLowerCase()==="form"}function lR(t){return dd(t)&&t.tagName.toLowerCase()==="input"}function uR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cR(t,e){return t.button===0&&(!e||e==="_self")&&!uR(t)}var ph=null;function hR(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var dR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(t){return t!=null&&!dR.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):t}function fR(t,e){let n,r,a,l,c;if(oR(t)){let f=t.getAttribute("action");r=f?Tr(f,e):null,n=t.getAttribute("method")||Ch,a=Ym(t.getAttribute("enctype"))||Nh,l=new FormData(t)}else if(aR(t)||lR(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(r=g?Tr(g,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Ch,a=Ym(t.getAttribute("formenctype"))||Ym(f.getAttribute("enctype"))||Nh,l=new FormData(f,t),!hR()){let{name:p,type:v,value:E}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(dd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,r=null,a=Nh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Tr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function gR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yR(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await gR(l,n);return c.links?c.links():[]}return[]}));return ER(r.flat(1).filter(pR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $0(t,e,n,r,a,l){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,f=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>c(g,p)||f(g,p)):l==="data"?e.filter((g,p)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||f(g,p))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function _R(t,e,{includeHydrateFallback:n}={}){return vR(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function vR(t){return[...new Set(t)]}function TR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ER(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(TR(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function rE(){let t=P.useContext(Po);return sp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SR(){let t=P.useContext(hd);return sp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ap=P.createContext(void 0);ap.displayName="FrameworkContext";function sE(){let t=P.useContext(ap);return sp(t,"You must render this element inside a <HydratedRouter> element"),t}function bR(t,e){let n=P.useContext(ap),[r,a]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,b=P.useRef(null);P.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=V=>{V.forEach(F=>{c(F.isIntersecting)})},O=new IntersectionObserver(L,{threshold:.5});return b.current&&O.observe(b.current),()=>{O.disconnect()}}},[t]),P.useEffect(()=>{if(r){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[r]);let w=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Jl(f,w),onBlur:Jl(g,C),onMouseEnter:Jl(p,w),onMouseLeave:Jl(v,C),onTouchStart:Jl(E,w)}]:[!1,b,{}]}function Jl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wR({page:t,...e}){let{router:n}=rE(),r=P.useMemo(()=>HT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(RR,{page:t,matches:r,...e}):null}function xR(t){let{manifest:e,routeModules:n}=sE(),[r,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return yR(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function RR({page:t,matches:e,...n}){let r=Rr(),{manifest:a,routeModules:l}=sE(),{basename:c}=rE(),{loaderData:f,matches:g}=SR(),p=P.useMemo(()=>$0(t,e,g,a,r,"data"),[t,e,g,a,r]),v=P.useMemo(()=>$0(t,e,g,a,r,"assets"),[t,e,g,a,r]),E=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,L=!1;if(e.forEach(V=>{let F=a.routes[V.route.id];!F||!F.hasLoader||(!p.some(Q=>Q.route.id===V.route.id)&&V.route.id in f&&l[V.route.id]?.shouldRevalidate||F.hasClientLoader?L=!0:C.add(V.route.id))}),C.size===0)return[];let O=mR(t,c,"data");return L&&C.size>0&&O.searchParams.set("_routes",e.filter(V=>C.has(V.route.id)).map(V=>V.route.id).join(",")),[O.pathname+O.search]},[c,f,r,a,p,e,t,l]),b=P.useMemo(()=>_R(v,a),[v,a]),w=xR(v);return P.createElement(P.Fragment,null,E.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),b.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:L})=>P.createElement("link",{key:C,nonce:n.nonce,...L})))}function AR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CR&&(window.__reactRouterVersion="7.11.0")}catch{}function NR({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=P.useRef();a.current==null&&(a.current=ax({window:r,v5Compat:!0}));let l=a.current,[c,f]=P.useState({action:l.action,location:l.location}),g=P.useCallback(p=>{n===!1?f(p):P.startTransition(()=>f(p))},[n]);return P.useLayoutEffect(()=>l.listen(g),[l,g]),P.createElement(rR,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:g,to:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...w},C){let{basename:L,unstable_useTransitions:O}=P.useContext(Yn),V=typeof p=="string"&&aE.test(p),F=QT(p,L);p=F.to;let Q=zx(p,{relative:a}),[se,de,ge]=bR(r,w),I=OR(p,{replace:c,state:f,target:g,preventScrollReset:v,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:O});function A(z){e&&e(z),z.defaultPrevented||I(z)}let N=P.createElement("a",{...w,...ge,href:F.absoluteURL||Q,onClick:F.isExternal||l?e:A,ref:AR(C,de),target:g,"data-discover":!V&&n==="render"?"true":void 0});return se&&!V?P.createElement(P.Fragment,null,N,P.createElement(wR,{page:Q})):N});qn.displayName="Link";var IR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:g,...p},v){let E=Ru(c,{relative:p.relative}),b=Rr(),w=P.useContext(hd),{navigator:C,basename:L}=P.useContext(Yn),O=w!=null&&LR(E)&&f===!0,V=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,F=b.pathname,Q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(F=F.toLowerCase(),Q=Q?Q.toLowerCase():null,V=V.toLowerCase()),Q&&L&&(Q=Tr(Q,L)||Q);const se=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let de=F===V||!a&&F.startsWith(V)&&F.charAt(se)==="/",ge=Q!=null&&(Q===V||!a&&Q.startsWith(V)&&Q.charAt(V.length)==="/"),I={isActive:de,isPending:ge,isTransitioning:O},A=de?e:void 0,N;typeof r=="function"?N=r(I):N=[r,de?"active":null,ge?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let z=typeof l=="function"?l(I):l;return P.createElement(qn,{...p,"aria-current":A,className:N,ref:v,style:z,to:c,viewTransition:f},typeof g=="function"?g(I):g)});IR.displayName="NavLink";var DR=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Ch,action:f,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...w},C)=>{let{unstable_useTransitions:L}=P.useContext(Yn),O=kR(),V=jR(f,{relative:p}),F=c.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&aE.test(f),se=de=>{if(g&&g(de),de.defaultPrevented)return;de.preventDefault();let ge=de.nativeEvent.submitter,I=ge?.getAttribute("formmethod")||c,A=()=>O(ge||de.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b});L&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:C,method:F,action:V,onSubmit:r?g:se,...w,"data-discover":!Q&&t==="render"?"true":void 0})});DR.displayName="Form";function MR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(t){let e=P.useContext(Po);return ft(e,MR(t)),e}function OR(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:g}={}){let p=np(),v=Rr(),E=Ru(t,{relative:l});return P.useCallback(b=>{if(cR(b,e)){b.preventDefault();let w=n!==void 0?n:fu(v)===fu(E),C=()=>p(t,{replace:w,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});g?P.startTransition(()=>C()):C()}},[v,p,E,n,r,e,t,a,l,c,f,g])}var VR=0,PR=()=>`__${String(++VR)}__`;function kR(){let{router:t}=oE("useSubmit"),{basename:e}=P.useContext(Yn),n=Zx(),r=t.fetch,a=t.navigate;return P.useCallback(async(l,c={})=>{let{action:f,method:g,encType:p,formData:v,body:E}=fR(l,e);if(c.navigate===!1){let b=c.fetcherKey||PR();await r(b,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,n])}function jR(t,{relative:e}={}){let{basename:n}=P.useContext(Yn),r=P.useContext(Ki);ft(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Ru(t||".",{relative:e})},c=Rr();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(v=>v==="")){f.delete("index"),g.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:vr([n,l.pathname])),fu(l)}function LR(t,{relative:e}={}){let n=P.useContext(JT);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oE("useViewTransitionState"),a=Ru(t,{relative:e});if(!n.isTransitioning)return!1;let l=Tr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Tr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hh(a.pathname,c)!=null||Hh(a.pathname,l)!=null}const UR=()=>{};var G0={};const lE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},zR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,g=a+2<t.length,p=g?t[a+2]:0,v=l>>2,E=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,w=p&63;g||(w=64,c||(b=64)),r.push(n[v],n[E],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const E=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new BR;const b=l<<2|f>>4;if(r.push(b),p!==64){const w=f<<4&240|p>>2;if(r.push(w),E!==64){const C=p<<6&192|E;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HR=function(t){const e=lE(t);return uE.encodeByteArray(e,!0)},Fh=function(t){return HR(t).replace(/\./g,"")},cE=function(t){try{return uE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qR=()=>FR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof G0>"u")return;const t=G0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cE(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return UR()||qR()||$R()||GR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hE=t=>fd()?.emulatorHosts?.[t],dE=t=>{const e=hE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fE=()=>fd()?.config,mE=t=>fd()?.[`_${t}`];class KR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function op(t){return(await fetch(t,{credentials:"include"})).ok}function gE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(c)),""].join(".")}const au={};function YR(){const t={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?t.emulator.push(e):t.prod.push(e);return t}function QR(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K0=!1;function lp(t,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||au[t]===e||au[t]||K0)return;au[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=YR().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{K0=!0,c()},b}function v(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=QR(r),w=n("text"),C=document.getElementById(w)||document.createElement("span"),L=n("learnmore"),O=document.getElementById(L)||document.createElement("a"),V=n("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Q=b.element;f(Q),v(O,L);const se=p();g(F,V),Q.append(F,C,O,se),document.body.appendChild(Q)}l?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function JR(){const t=fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tA(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nA(){return!JR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const sA="FirebaseError";class Yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sA,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?aA(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Yi(a,f,r)}}function aA(t,e){return t.replace(oA,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const oA=/\{\$([^}]+)}/g;function lA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(Y0(l)&&Y0(c)){if(!fa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Y0(t){return t!==null&&typeof t=="object"}function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uA(t,e){const n=new cA(t,e);return n.subscribe.bind(n)}class cA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hA(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Qm),a.error===void 0&&(a.error=Qm),a.complete===void 0&&(a.complete=Qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}function kt(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ua="[DEFAULT]";class dA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mA(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(t){return t===ua?void 0:t}function mA(t){return t.instantiationMode==="EAGER"}class gA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const pA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},yA=je.INFO,_A={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},vA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=_A[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=yA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const TA=(t,e)=>e.some(n=>t instanceof n);let Q0,X0;function EA(){return Q0||(Q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SA(){return X0||(X0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Tg=new WeakMap,yE=new WeakMap,Xm=new WeakMap,cp=new WeakMap;function bA(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ms(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&pE.set(n,t)}).catch(()=>{}),cp.set(e,t),e}function wA(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Tg.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xA(t){Eg=t(Eg)}function RA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jm(this),e,...n);return yE.set(r,e.sort?e.sort():[e]),ms(r)}:SA().includes(t)?function(...e){return t.apply(Jm(this),e),ms(pE.get(this))}:function(...e){return ms(t.apply(Jm(this),e))}}function AA(t){return typeof t=="function"?RA(t):(t instanceof IDBTransaction&&wA(t),TA(t,EA())?new Proxy(t,Eg):t)}function ms(t){if(t instanceof IDBRequest)return bA(t);if(Xm.has(t))return Xm.get(t);const e=AA(t);return e!==t&&(Xm.set(t,e),cp.set(e,t)),e}const Jm=t=>cp.get(t);function CA(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=ms(c);return r&&c.addEventListener("upgradeneeded",g=>{r(ms(c.result),g.oldVersion,g.newVersion,ms(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const NA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Wm=new Map;function J0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=IA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||NA.includes(n)))return;const l=async function(c,...f){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&g.done]))[0]};return Wm.set(e,l),l}xA(t=>({...t,get:(e,n,r)=>J0(e,n)||t.get(e,n,r),has:(e,n)=>!!J0(e,n)||t.has(e,n)}));class DA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MA(t){return t.getComponent()?.type==="VERSION"}const Sg="@firebase/app",W0="0.14.6";const Er=new up("@firebase/app"),OA="@firebase/app-compat",VA="@firebase/analytics-compat",PA="@firebase/analytics",kA="@firebase/app-check-compat",jA="@firebase/app-check",LA="@firebase/auth",UA="@firebase/auth-compat",zA="@firebase/database",BA="@firebase/data-connect",HA="@firebase/database-compat",FA="@firebase/functions",qA="@firebase/functions-compat",$A="@firebase/installations",GA="@firebase/installations-compat",KA="@firebase/messaging",YA="@firebase/messaging-compat",QA="@firebase/performance",XA="@firebase/performance-compat",JA="@firebase/remote-config",WA="@firebase/remote-config-compat",ZA="@firebase/storage",eC="@firebase/storage-compat",tC="@firebase/firestore",nC="@firebase/ai",iC="@firebase/firestore-compat",rC="firebase",sC="12.6.0";const bg="[DEFAULT]",aC={[Sg]:"fire-core",[OA]:"fire-core-compat",[PA]:"fire-analytics",[VA]:"fire-analytics-compat",[jA]:"fire-app-check",[kA]:"fire-app-check-compat",[LA]:"fire-auth",[UA]:"fire-auth-compat",[zA]:"fire-rtdb",[BA]:"fire-data-connect",[HA]:"fire-rtdb-compat",[FA]:"fire-fn",[qA]:"fire-fn-compat",[$A]:"fire-iid",[GA]:"fire-iid-compat",[KA]:"fire-fcm",[YA]:"fire-fcm-compat",[QA]:"fire-perf",[XA]:"fire-perf-compat",[JA]:"fire-rc",[WA]:"fire-rc-compat",[ZA]:"fire-gcs",[eC]:"fire-gcs-compat",[tC]:"fire-fst",[iC]:"fire-fst-compat",[nC]:"fire-vertex","fire-js":"fire-js",[rC]:"fire-js-all"};const qh=new Map,oC=new Map,wg=new Map;function Z0(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const e=t.name;if(wg.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of qh.values())Z0(n,t);for(const n of oC.values())Z0(n,t);return!0}function md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $n(t){return t==null?!1:t.settings!==void 0}const lC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Au("app","Firebase",lC);class uC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}const Ta=sC;function _E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw gs.create("bad-app-name",{appName:String(a)});if(n||(n=fE()),!n)throw gs.create("no-options");const l=qh.get(a);if(l){if(fa(n,l.options)&&fa(r,l.config))return l;throw gs.create("duplicate-app",{appName:a})}const c=new gA(a);for(const g of wg.values())c.addComponent(g);const f=new uC(n,r,c);return qh.set(a,f),f}function hp(t=bg){const e=qh.get(t);if(!e&&t===bg&&fE())return _E();if(!e)throw gs.create("no-app",{appName:t});return e}function ji(t,e,n){let r=aC[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(c.join(" "));return}ma(new vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const cC="firebase-heartbeat-database",hC=1,mu="firebase-heartbeat-store";let Zm=null;function vE(){return Zm||(Zm=CA(cC,hC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Zm}async function dC(t){try{const n=(await vE()).transaction(mu),r=await n.objectStore(mu).get(TE(t));return await n.done,r}catch(e){if(e instanceof Yi)Er.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function e1(t,e){try{const r=(await vE()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,TE(t)),await r.done}catch(n){if(n instanceof Yi)Er.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n?.message});Er.warn(r.message)}}}function TE(t){return`${t.name}!${t.options.appId}`}const fC=1024,mC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>mC){const a=_C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t1(),{heartbeatsToSend:n,unsentEntries:r}=pC(this._heartbeatsCache.heartbeats),a=Fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Er.warn(e),""}}}function t1(){return new Date().toISOString().substring(0,10)}function pC(t,e=fC){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),n1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),n1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return e1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n1(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function _C(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function vC(t){ma(new vs("platform-logger",e=>new DA(e),"PRIVATE")),ma(new vs("heartbeat",e=>new gC(e),"PRIVATE")),ji(Sg,W0,t),ji(Sg,W0,"esm2020"),ji("fire-js","")}vC("");function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TC=EE,SE=new Au("auth","Firebase",EE());const $h=new up("@firebase/auth");function EC(t,...e){$h.logLevel<=je.WARN&&$h.warn(`Auth (${Ta}): ${t}`,...e)}function Ih(t,...e){$h.logLevel<=je.ERROR&&$h.error(`Auth (${Ta}): ${t}`,...e)}function hi(t,...e){throw dp(t,...e)}function Li(t,...e){return dp(t,...e)}function bE(t,e,n){const r={...TC(),[e]:n};return new Au("auth","Firebase",r).create(e,{appName:t.name})}function ps(t){return bE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SE.create(t,...e)}function Se(t,e,...n){if(!t)throw dp(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ih(e),new Error(e)}function Sr(t,e){t||yr(e)}function xg(){return typeof self<"u"&&self.location?.href||""}function SC(){return i1()==="http:"||i1()==="https:"}function i1(){return typeof self<"u"&&self.location?.protocol||null}function bC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SC()||ZR()||"connection"in navigator)?navigator.onLine:!0}function wC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=XR()||eA()}get(){return bC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class wE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AC=new Nu(3e4,6e4);function Ea(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function As(t,e,n,r,a={}){return xE(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Cu({key:t.config.apiKey,...c}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:g,...l};return WR()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&va(t.emulatorConfig.host)&&(p.credentials="include"),wE.fetch()(await RE(t,t.config.apiHost,n,f),p)})}async function xE(t,e,n){t._canInitEmulator=!1;const r={...xC,...e};try{const a=new NC(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[g,p]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",c);if(g==="USER_DISABLED")throw yh(t,"user-disabled",c);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bE(t,v,p);hi(t,v)}}catch(a){if(a instanceof Yi)throw a;hi(t,"network-request-failed",{message:String(a)})}}async function gd(t,e,n,r,a={}){const l=await As(t,e,n,r,a);return"mfaPendingCredential"in l&&hi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function RE(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?fp(t.config,a):`${t.config.apiScheme}://${a}`;return RC.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function CC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),AC.get())})}}function yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Li(t,e,r);return a.customData._tokenResponse=n,a}function r1(t){return t!==void 0&&t.enterprise!==void 0}class IC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DC(t,e){return As(t,"GET","/v2/recaptchaConfig",Ea(t,e))}async function MC(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function Gh(t,e){return As(t,"POST","/v1/accounts:lookup",e)}function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OC(t,e=!1){const n=kt(t),r=await n.getIdToken(e),a=mp(r);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:ou(eg(a.auth_time)),issuedAtTime:ou(eg(a.iat)),expirationTime:ou(eg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function eg(t){return Number(t)*1e3}function mp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=cE(n);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a?.toString()),null}}function s1(t){const e=mp(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yi&&VC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class PC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kh(t){const e=t.auth,n=await t.getIdToken(),r=await gu(t,Gh(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?AE(a.providerUserInfo):[],c=jC(t.providerData,l),f=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!c?.length,p=f?g:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Rg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function kC(t){const e=kt(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jC(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function AE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LC(t,e){const n=await xE(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await RE(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:r};return t.emulatorConfig&&va(t.emulatorConfig.host)&&(g.credentials="include"),wE.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UC(t,e){return As(t,"POST","/v2/accounts:revokeToken",Ea(t,e))}class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=s1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await LC(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Eo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return yr("not implemented")}}function as(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new PC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Rg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OC(this,e)}reload(){return kC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await gu(this,MC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,f=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:L}=n;Se(E&&L,e,"internal-error");const O=Eo.fromJSON(this.name,L);Se(typeof E=="string",e,"internal-error"),as(r,e.name),as(a,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof w=="boolean",e,"internal-error"),as(l,e.name),as(c,e.name),as(f,e.name),as(g,e.name),as(p,e.name),as(v,e.name);const V=new oi({uid:E,auth:e,email:a,emailVerified:b,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:O,createdAt:p,lastLoginAt:v});return C&&Array.isArray(C)&&(V.providerData=C.map(F=>({...F}))),g&&(V._redirectEventId=g),V}static async _fromIdTokenResponse(e,n,r=!1){const a=new Eo;a.updateFromServerResponse(n);const l=new oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Kh(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?AE(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new Eo;f.updateFromIdToken(r);const g=new oi({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Rg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const a1=new Map;function _r(t){Sr(t instanceof Function,"Expected a class definition");let e=a1.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a1.set(t,e),e)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CE.type="NONE";const o1=CE;function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Dh(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dh("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gh(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(_r(o1),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||_r(o1);const c=Dh(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const b=await Gh(e,{idToken:v}).catch(()=>{});if(!b)break;E=await oi._fromGetAccountInfoResponse(e,b,v)}else E=oi._fromJSON(e,v);p!==l&&(f=E),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new So(l,e,r):(l=g[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new So(l,e,r))}}function l1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VE(e))return"Blackberry";if(PE(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||DE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NE(t=on()){return/firefox\//i.test(t)}function IE(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DE(t=on()){return/crios\//i.test(t)}function ME(t=on()){return/iemobile/i.test(t)}function OE(t=on()){return/android/i.test(t)}function VE(t=on()){return/blackberry/i.test(t)}function PE(t=on()){return/webos/i.test(t)}function gp(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zC(t=on()){return gp(t)&&!!window.navigator?.standalone}function BC(){return tA()&&document.documentMode===10}function kE(t=on()){return gp(t)||OE(t)||PE(t)||VE(t)||/windows phone/i.test(t)||ME(t)}function jE(t,e=[]){let n;switch(t){case"Browser":n=l1(on());break;case"Worker":n=`${l1(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}class HC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const g=e(l);c(g)}catch(g){f(g)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function FC(t,e={}){return As(t,"GET","/v2/passwordPolicy",Ea(t,e))}const qC=6;class $C{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class GC{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u1(this),this.idTokenSubscription=new u1(this),this.beforeStateQueue=new HC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gh(this,{idToken:e}),r=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(ps(this));const n=e?kt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FC(this),n=new $C(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,a);return()=>{c=!0,g()}}else{const g=e.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ko(t){return kt(t)}class u1{constructor(e){this.auth=e,this.observer=null,this.addObserver=uA(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KC(t){pd=t}function LE(t){return pd.loadJS(t)}function YC(){return pd.recaptchaEnterpriseScript}function QC(){return pd.gapiScript}function XC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JC{constructor(){this.enterprise=new WC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZC="recaptcha-enterprise",UE="NO_RECAPTCHA";class eN{constructor(e){this.type=ZC,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{DC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new IC(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(g=>{f(g)})})}function a(l,c,f){const g=window.grecaptcha;r1(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(UE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&r1(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=YC();g.length!==0&&(g+=f),LE(g).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function c1(t,e,n,r=!1,a=!1){const l=new eN(t);let c;if(a)c=UE;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function h1(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await c1(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await c1(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}function tN(t,e){const n=md(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(fa(l,e??{}))return a;hi(a,"already-initialized")}return n.initialize({options:e})}function nN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iN(t,e,n){const r=ko(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=zE(e),{host:c,port:f}=rN(e),g=f===null?"":`:${f}`,p={url:`${l}//${c}${g}/`},v=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(fa(p,r.config.emulator)&&fa(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,va(c)?(op(`${l}//${c}${g}`),lp("Auth",!0)):sN()}function zE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rN(t){const e=zE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:d1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:d1(c)}}}function d1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function aN(t,e){return As(t,"POST","/v1/accounts:signUp",e)}async function oN(t,e){return gd(t,"POST","/v1/accounts:signInWithPassword",Ea(t,e))}async function lN(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Ea(t,e))}async function uN(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",Ea(t,e))}class pu extends pp{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,n,"signInWithPassword",oN);case"emailLink":return lN(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h1(e,r,"signUpPassword",aN);case"emailLink":return uN(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bo(t,e){return gd(t,"POST","/v1/accounts:signInWithIdp",Ea(t,e))}const cN="http://localhost";class ga extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new ga(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}function hN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dN(t){const e=eu(tu(t)).link,n=e?eu(tu(e)).deep_link_id:null,r=eu(tu(t)).deep_link_id;return(r?eu(tu(r)).link:null)||r||n||e||t}class yp{constructor(e){const n=eu(tu(e)),r=n.apiKey??null,a=n.oobCode??null,l=hN(n.mode??null);Se(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dN(e);try{return new yp(n)}catch{return null}}}class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yp.parseLink(n);return Se(r,"argument-error"),pu._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class BE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Iu extends BE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class os extends Iu{constructor(){super("facebook.com")}static credential(e){return ga._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";class ls extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ga._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class us extends Iu{constructor(){super("github.com")}static credential(e){return ga._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends Iu{constructor(){super("twitter.com")}static credential(e,n){return ga._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await oi._fromIdTokenResponse(e,r,a),c=f1(r);return new Ro({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=f1(r);return new Ro({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function f1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yh extends Yi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Yh(e,n,r,a)}}function HE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,l,e,r):l})}async function fN(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}async function mN(t,e,n=!1){const{auth:r}=t;if($n(r.app))return Promise.reject(ps(r));const a="reauthenticate";try{const l=await gu(t,HE(r,a,e,t),n);Se(l.idToken,r,"internal-error");const c=mp(l.idToken);Se(c,r,"internal-error");const{sub:f}=c;return Se(t.uid===f,r,"user-mismatch"),Ro._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),l}}async function FE(t,e,n=!1){if($n(t.app))return Promise.reject(ps(t));const r="signIn",a=await HE(t,r,e),l=await Ro._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function gN(t,e){return FE(ko(t),e)}async function pN(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yN(t,e,n){return $n(t.app)?Promise.reject(ps(t)):gN(kt(t),jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pN(t),r})}function _N(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function vN(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function TN(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function EN(t){return kt(t).signOut()}const Qh="__sak";class qE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SN=1e3,bN=10;class $E extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,g)=>{this.notifyListeners(c,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);BC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,bN):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const wN=$E;class GE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GE.type="SESSION";const KE=GE;function xN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),g=await xN(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function _p(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class RN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,g)=>{const p=_p("",20);a.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ui(){return window}function AN(t){Ui().location.href=t}function YE(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function CN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NN(){return navigator?.serviceWorker?.controller||null}function IN(){return YE()?self:null}const QE="firebaseLocalStorageDb",DN=1,Xh="firebaseLocalStorage",XE="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _d(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function MN(){const t=indexedDB.deleteDatabase(QE);return new Du(t).toPromise()}function Ag(){const t=indexedDB.open(QE,DN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:XE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await MN(),e(await Ag()))})})}async function m1(t,e,n){const r=_d(t,!0).put({[XE]:e,value:n});return new Du(r).toPromise()}async function ON(t,e){const n=_d(t,!1).get(e),r=await new Du(n).toPromise();return r===void 0?null:r.value}function g1(t,e){const n=_d(t,!0).delete(e);return new Du(n).toPromise()}const VN=800,PN=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(IN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new RN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await m1(e,Qh,"1"),await g1(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ON(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=_d(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const kN=JE;new Nu(3e4,6e4);function jN(t,e){return e?_r(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vp extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LN(t){return FE(t.auth,new vp(t),t.bypassAuthState)}function UN(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),mN(n,new vp(t),t.bypassAuthState)}async function zN(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),fN(n,new vp(t),t.bypassAuthState)}class WE{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LN;case"linkViaPopup":case"linkViaRedirect":return zN;case"reauthViaPopup":case"reauthViaRedirect":return UN;default:hi(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BN=new Nu(2e3,1e4);class To extends WE{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BN.get())};e()}}To.currentPopupAction=null;const HN="pendingRedirect",Mh=new Map;class FN extends WE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const r=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(t,e){const n=KN(e),r=GN(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function $N(t,e){Mh.set(t._key(),e)}function GN(t){return _r(t._redirectPersistence)}function KN(t){return Dh(HN,t.config.apiKey,t.name)}async function YN(t,e,n=!1){if($n(t.app))return Promise.reject(ps(t));const r=ko(t),a=jN(r,e),c=await new FN(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const QN=600*1e3;class XN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ZE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QN&&this.cachedEventUids.clear(),this.cachedEventUids.has(p1(e))}saveEventToCache(e){this.cachedEventUids.add(p1(e)),this.lastProcessedEventTime=Date.now()}}function p1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function JN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZE(t);default:return!1}}async function WN(t,e={}){return As(t,"GET","/v1/projects",e)}const ZN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eI=/^https?/;async function tI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WN(t);for(const n of e)try{if(nI(n))return}catch{}hi(t,"unauthorized-domain")}function nI(t){const e=xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!eI.test(n))return!1;if(ZN.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const iI=new Nu(3e4,6e4);function y1(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rI(t){return new Promise((e,n)=>{function r(){y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y1(),n(Li(t,"network-request-failed"))},timeout:iI.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const a=XC("iframefcb");return Ui()[a]=()=>{gapi.load?r():n(Li(t,"network-request-failed"))},LE(`${QC()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Oh=null,e})}let Oh=null;function sI(t){return Oh=Oh||rI(t),Oh}const aI=new Nu(5e3,15e3),oI="__/auth/iframe",lI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fp(e,lI):`https://${t.config.authDomain}/${oI}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},a=cI.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Cu(r).slice(1)}`}async function dI(t){const e=await sI(t),n=Ui().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:hI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Li(t,"network-request-failed"),f=Ui().setTimeout(()=>{l(c)},aI.get());function g(){Ui().clearTimeout(f),a(r)}r.ping(g).then(g,()=>{l(c)})}))}const fI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,pI="_blank",yI="http://localhost";class _1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _I(t,e,n,r=mI,a=gI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g={...fI,width:r.toString(),height:a.toString(),top:l,left:c},p=on().toLowerCase();n&&(f=DE(p)?pI:n),NE(p)&&(e=e||yI,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[w,C])=>`${b}${w}=${C},`,"");if(zC(p)&&f!=="_self")return vI(e||"",f),new _1(null);const E=window.open(e||"",f,v);Se(E,t,"popup-blocked");try{E.focus()}catch{}return new _1(E)}function vI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const TI="__/auth/handler",EI="emulator/auth/handler",SI=encodeURIComponent("fac");async function v1(t,e,n,r,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:a};if(e instanceof BE){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",lA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Iu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const g=await t._getAppCheckToken(),p=g?`#${SI}=${encodeURIComponent(g)}`:"";return`${bI(t)}?${Cu(f).slice(1)}${p}`}function bI({config:t}){return t.emulator?fp(t,EI):`https://${t.authDomain}/${TI}`}const tg="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KE,this._completeRedirectFn=YN,this._overrideRedirectResult=$N}async _openPopup(e,n,r,a){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await v1(e,n,r,xg(),a);return _I(e,l,_p())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await v1(e,n,r,xg(),a);return AN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Sr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dI(e),r=new XN(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tg,{type:tg},a=>{const l=a?.[0]?.[tg];l!==void 0&&n(!!l),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kE()||IE()||gp()}}const xI=wI;var T1="@firebase/auth",E1="1.12.0";class RI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CI(t){ma(new vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(t)},p=new GC(r,a,l,g);return nN(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ma(new vs("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new RI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(T1,E1,AI(t)),ji(T1,E1,"esm2020")}const NI=300,II=mE("authIdTokenMaxAge")||NI;let S1=null;const DI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>II)return;const a=n?.token;S1!==a&&(S1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function MI(t=hp()){const e=md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tN(t,{popupRedirectResolver:xI,persistence:[kN,wN,KE]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=DI(l.toString());vN(n,c,()=>c(n.currentUser)),_N(n,f=>c(f))}}const a=hE("auth");return a&&iN(n,`http://${a}`),n}function OI(){return document.getElementsByTagName("head")?.[0]??document}KC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Li("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",OI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CI("Browser");var VI="firebase",PI="12.7.0";ji(VI,PI,"app");var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,eS;(function(){var t;function e(I,A){function N(){}N.prototype=A.prototype,I.F=A.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(z,k,H){for(var D=Array(arguments.length-2),it=2;it<arguments.length;it++)D[it-2]=arguments[it];return A.prototype[k].apply(z,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,N){N||(N=0);const z=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)z[k]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(k=0;k<16;++k)z[k]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=I.g[0],N=I.g[1],k=I.g[2];let H=I.g[3],D;D=A+(H^N&(k^H))+z[0]+3614090360&4294967295,A=N+(D<<7&4294967295|D>>>25),D=H+(k^A&(N^k))+z[1]+3905402710&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(N^H&(A^N))+z[2]+606105819&4294967295,k=H+(D<<17&4294967295|D>>>15),D=N+(A^k&(H^A))+z[3]+3250441966&4294967295,N=k+(D<<22&4294967295|D>>>10),D=A+(H^N&(k^H))+z[4]+4118548399&4294967295,A=N+(D<<7&4294967295|D>>>25),D=H+(k^A&(N^k))+z[5]+1200080426&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(N^H&(A^N))+z[6]+2821735955&4294967295,k=H+(D<<17&4294967295|D>>>15),D=N+(A^k&(H^A))+z[7]+4249261313&4294967295,N=k+(D<<22&4294967295|D>>>10),D=A+(H^N&(k^H))+z[8]+1770035416&4294967295,A=N+(D<<7&4294967295|D>>>25),D=H+(k^A&(N^k))+z[9]+2336552879&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(N^H&(A^N))+z[10]+4294925233&4294967295,k=H+(D<<17&4294967295|D>>>15),D=N+(A^k&(H^A))+z[11]+2304563134&4294967295,N=k+(D<<22&4294967295|D>>>10),D=A+(H^N&(k^H))+z[12]+1804603682&4294967295,A=N+(D<<7&4294967295|D>>>25),D=H+(k^A&(N^k))+z[13]+4254626195&4294967295,H=A+(D<<12&4294967295|D>>>20),D=k+(N^H&(A^N))+z[14]+2792965006&4294967295,k=H+(D<<17&4294967295|D>>>15),D=N+(A^k&(H^A))+z[15]+1236535329&4294967295,N=k+(D<<22&4294967295|D>>>10),D=A+(k^H&(N^k))+z[1]+4129170786&4294967295,A=N+(D<<5&4294967295|D>>>27),D=H+(N^k&(A^N))+z[6]+3225465664&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^N&(H^A))+z[11]+643717713&4294967295,k=H+(D<<14&4294967295|D>>>18),D=N+(H^A&(k^H))+z[0]+3921069994&4294967295,N=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(N^k))+z[5]+3593408605&4294967295,A=N+(D<<5&4294967295|D>>>27),D=H+(N^k&(A^N))+z[10]+38016083&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^N&(H^A))+z[15]+3634488961&4294967295,k=H+(D<<14&4294967295|D>>>18),D=N+(H^A&(k^H))+z[4]+3889429448&4294967295,N=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(N^k))+z[9]+568446438&4294967295,A=N+(D<<5&4294967295|D>>>27),D=H+(N^k&(A^N))+z[14]+3275163606&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^N&(H^A))+z[3]+4107603335&4294967295,k=H+(D<<14&4294967295|D>>>18),D=N+(H^A&(k^H))+z[8]+1163531501&4294967295,N=k+(D<<20&4294967295|D>>>12),D=A+(k^H&(N^k))+z[13]+2850285829&4294967295,A=N+(D<<5&4294967295|D>>>27),D=H+(N^k&(A^N))+z[2]+4243563512&4294967295,H=A+(D<<9&4294967295|D>>>23),D=k+(A^N&(H^A))+z[7]+1735328473&4294967295,k=H+(D<<14&4294967295|D>>>18),D=N+(H^A&(k^H))+z[12]+2368359562&4294967295,N=k+(D<<20&4294967295|D>>>12),D=A+(N^k^H)+z[5]+4294588738&4294967295,A=N+(D<<4&4294967295|D>>>28),D=H+(A^N^k)+z[8]+2272392833&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^N)+z[11]+1839030562&4294967295,k=H+(D<<16&4294967295|D>>>16),D=N+(k^H^A)+z[14]+4259657740&4294967295,N=k+(D<<23&4294967295|D>>>9),D=A+(N^k^H)+z[1]+2763975236&4294967295,A=N+(D<<4&4294967295|D>>>28),D=H+(A^N^k)+z[4]+1272893353&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^N)+z[7]+4139469664&4294967295,k=H+(D<<16&4294967295|D>>>16),D=N+(k^H^A)+z[10]+3200236656&4294967295,N=k+(D<<23&4294967295|D>>>9),D=A+(N^k^H)+z[13]+681279174&4294967295,A=N+(D<<4&4294967295|D>>>28),D=H+(A^N^k)+z[0]+3936430074&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^N)+z[3]+3572445317&4294967295,k=H+(D<<16&4294967295|D>>>16),D=N+(k^H^A)+z[6]+76029189&4294967295,N=k+(D<<23&4294967295|D>>>9),D=A+(N^k^H)+z[9]+3654602809&4294967295,A=N+(D<<4&4294967295|D>>>28),D=H+(A^N^k)+z[12]+3873151461&4294967295,H=A+(D<<11&4294967295|D>>>21),D=k+(H^A^N)+z[15]+530742520&4294967295,k=H+(D<<16&4294967295|D>>>16),D=N+(k^H^A)+z[2]+3299628645&4294967295,N=k+(D<<23&4294967295|D>>>9),D=A+(k^(N|~H))+z[0]+4096336452&4294967295,A=N+(D<<6&4294967295|D>>>26),D=H+(N^(A|~k))+z[7]+1126891415&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~N))+z[14]+2878612391&4294967295,k=H+(D<<15&4294967295|D>>>17),D=N+(H^(k|~A))+z[5]+4237533241&4294967295,N=k+(D<<21&4294967295|D>>>11),D=A+(k^(N|~H))+z[12]+1700485571&4294967295,A=N+(D<<6&4294967295|D>>>26),D=H+(N^(A|~k))+z[3]+2399980690&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~N))+z[10]+4293915773&4294967295,k=H+(D<<15&4294967295|D>>>17),D=N+(H^(k|~A))+z[1]+2240044497&4294967295,N=k+(D<<21&4294967295|D>>>11),D=A+(k^(N|~H))+z[8]+1873313359&4294967295,A=N+(D<<6&4294967295|D>>>26),D=H+(N^(A|~k))+z[15]+4264355552&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~N))+z[6]+2734768916&4294967295,k=H+(D<<15&4294967295|D>>>17),D=N+(H^(k|~A))+z[13]+1309151649&4294967295,N=k+(D<<21&4294967295|D>>>11),D=A+(k^(N|~H))+z[4]+4149444226&4294967295,A=N+(D<<6&4294967295|D>>>26),D=H+(N^(A|~k))+z[11]+3174756917&4294967295,H=A+(D<<10&4294967295|D>>>22),D=k+(A^(H|~N))+z[2]+718787259&4294967295,k=H+(D<<15&4294967295|D>>>17),D=N+(H^(k|~A))+z[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const N=A-this.blockSize,z=this.C;let k=this.h,H=0;for(;H<A;){if(k==0)for(;H<=N;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<A;)if(z[k++]=I.charCodeAt(H++),k==this.blockSize){a(this,z),k=0;break}}else for(;H<A;)if(z[k++]=I[H++],k==this.blockSize){a(this,z),k=0;break}}this.h=k,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,N=0;N<4;++N)for(let z=0;z<32;z+=8)I[A++]=this.g[N]>>>z&255;return I};function l(I,A){var N=f;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=A(I)}function c(I,A){this.h=A;const N=[];let z=!0;for(let k=I.length-1;k>=0;k--){const H=I[k]|0;z&&H==A||(N[k]=H,z=!1)}this.g=N}var f={};function g(I){return-128<=I&&I<128?l(I,function(A){return new c([A|0],A<0?-1:0)}):new c([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return O(p(-I));const A=[];let N=1;for(let z=0;I>=N;z++)A[z]=I/N|0,N*=4294967296;return new c(A,0)}function v(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return O(v(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(A,8));let z=E;for(let H=0;H<I.length;H+=8){var k=Math.min(8,I.length-H);const D=parseInt(I.substring(H,H+k),A);k<8?(k=p(Math.pow(A,k)),z=z.j(k).add(p(D))):(z=z.j(N),z=z.add(p(D)))}return z}var E=g(0),b=g(1),w=g(16777216);t=c.prototype,t.m=function(){if(L(this))return-O(this).m();let I=0,A=1;for(let N=0;N<this.g.length;N++){const z=this.i(N);I+=(z>=0?z:4294967296+z)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(L(this))return"-"+O(this).toString(I);const A=p(Math.pow(I,6));var N=this;let z="";for(;;){const k=se(N,A).g;N=V(N,k.j(A));let H=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=k,C(N))return H+z;for(;H.length<6;)H="0"+H;z=H+z}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=V(this,I),L(I)?-1:C(I)?0:1};function O(I){const A=I.g.length,N=[];for(let z=0;z<A;z++)N[z]=~I.g[z];return new c(N,~I.h).add(b)}t.abs=function(){return L(this)?O(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),N=[];let z=0;for(let k=0;k<=A;k++){let H=z+(this.i(k)&65535)+(I.i(k)&65535),D=(H>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);z=D>>>16,H&=65535,D&=65535,N[k]=D<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function V(I,A){return I.add(O(A))}t.j=function(I){if(C(this)||C(I))return E;if(L(this))return L(I)?O(this).j(O(I)):O(O(this).j(I));if(L(I))return O(this.j(O(I)));if(this.l(w)<0&&I.l(w)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,N=[];for(var z=0;z<2*A;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(let k=0;k<I.g.length;k++){const H=this.i(z)>>>16,D=this.i(z)&65535,it=I.i(k)>>>16,re=I.i(k)&65535;N[2*z+2*k]+=D*re,F(N,2*z+2*k),N[2*z+2*k+1]+=H*re,F(N,2*z+2*k+1),N[2*z+2*k+1]+=D*it,F(N,2*z+2*k+1),N[2*z+2*k+2]+=H*it,F(N,2*z+2*k+2)}for(I=0;I<A;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=A;I<2*A;I++)N[I]=0;return new c(N,0)};function F(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Q(I,A){this.g=I,this.h=A}function se(I,A){if(C(A))throw Error("division by zero");if(C(I))return new Q(E,E);if(L(I))return A=se(O(I),A),new Q(O(A.g),O(A.h));if(L(A))return A=se(I,O(A)),new Q(O(A.g),A.h);if(I.g.length>30){if(L(I)||L(A))throw Error("slowDivide_ only works with positive integers.");for(var N=b,z=A;z.l(I)<=0;)N=de(N),z=de(z);var k=ge(N,1),H=ge(z,1);for(z=ge(z,2),N=ge(N,2);!C(z);){var D=H.add(z);D.l(I)<=0&&(k=k.add(N),H=D),z=ge(z,1),N=ge(N,1)}return A=V(I,k.j(A)),new Q(k,A)}for(k=E;I.l(A)>=0;){for(N=Math.max(1,Math.floor(I.m()/A.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),H=p(N),D=H.j(A);L(D)||D.l(I)>0;)N-=z,H=p(N),D=H.j(A);C(H)&&(H=b),k=k.add(H),I=V(I,D)}return new Q(k,I)}t.B=function(I){return se(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let z=0;z<A;z++)N[z]=this.i(z)&I.i(z);return new c(N,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let z=0;z<A;z++)N[z]=this.i(z)|I.i(z);return new c(N,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),N=[];for(let z=0;z<A;z++)N[z]=this.i(z)^I.i(z);return new c(N,this.h^I.h)};function de(I){const A=I.g.length+1,N=[];for(let z=0;z<A;z++)N[z]=I.i(z)<<1|I.i(z-1)>>>31;return new c(N,I.h)}function ge(I,A){const N=A>>5;A%=32;const z=I.g.length-N,k=[];for(let H=0;H<z;H++)k[H]=A>0?I.i(H+N)>>>A|I.i(H+N+1)<<32-A:I.i(H+N);return new c(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ys=c}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tS,nu,nS,Vh,Cg,iS,rS,sS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var _=0;_<h.length;++_){var S=h[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function a(h,_){if(_)e:{var S=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in S))break e;S=S[q]}h=h[h.length-1],R=S[h],_=_(R),_!=R&&_!=null&&e(S,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var S=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&S.push([R,_[R]]);return S}});var l=l||{},c=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,S){return h.call.apply(h.bind,arguments)}function p(h,_,S){return p=g,p.apply(null,arguments)}function v(h,_){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function E(h,_){function S(){}S.prototype=_.prototype,h.Z=_.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(R,q,X){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return _.prototype[q].apply(R,ae)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function w(h){const _=h.length;if(_>0){const S=Array(_);for(let R=0;R<_;R++)S[R]=h[R];return S}return[]}function C(h,_){for(let R=1;R<arguments.length;R++){const q=arguments[R];var S=typeof q;if(S=S!="object"?S:q?Array.isArray(q)?"array":S:"null",S=="array"||S=="object"&&typeof q.length=="number"){S=h.length||0;const X=q.length||0;h.length=S+X;for(let ae=0;ae<X;ae++)h[S+ae]=q[ae]}else h.push(q)}}class L{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function O(h){c.setTimeout(()=>{throw h},0)}function V(){var h=I;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class F{constructor(){this.h=this.g=null}add(_,S){const R=Q.get();R.set(_,S),this.h?this.h.next=R:this.g=R,this.h=R}}var Q=new L(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,I=new F,A=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(N)}};function N(){for(var h;h=V();){try{h.h.call(h.g)}catch(S){O(S)}var _=Q;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ge=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function it(h,_){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(it,k),it.prototype.init=function(h,_){const S=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(S=="mouseover"?_=h.fromElement:S=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),K=0;function oe(h,_,S,R,q){this.listener=h,this.proxy=null,this.src=_,this.type=S,this.capture=!!R,this.ha=q,this.key=++K,this.da=this.fa=!1}function _e(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fe(h,_,S){for(const R in h)_.call(S,h[R],R,h)}function Qe(h,_){for(const S in h)_.call(void 0,h[S],S,h)}function U(h){const _={};for(const S in h)_[S]=h[S];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,_){let S,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(S in R)h[S]=R[S];for(let X=0;X<te.length;X++)S=te[X],Object.prototype.hasOwnProperty.call(R,S)&&(h[S]=R[S])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,_,S,R,q){const X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);const ae=De(h,_,R,q);return ae>-1?(_=h[ae],S||(_.fa=!1)):(_=new oe(_,this.src,X,!!R,q),_.fa=S,h.push(_)),_};function we(h,_){const S=_.type;if(S in h.g){var R=h.g[S],q=Array.prototype.indexOf.call(R,_,void 0),X;(X=q>=0)&&Array.prototype.splice.call(R,q,1),X&&(_e(_),h.g[S].length==0&&(delete h.g[S],h.h--))}}function De(h,_,S,R){for(let q=0;q<h.length;++q){const X=h[q];if(!X.da&&X.listener==_&&X.capture==!!S&&X.ha==R)return q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),jt={};function ut(h,_,S,R,q){if(Array.isArray(_)){for(let X=0;X<_.length;X++)ut(h,_[X],S,R,q);return null}return S=Ko(S),h&&h[re]?h.J(_,S,f(R)?!!R.capture:!1,q):Ds(h,_,S,!1,R,q)}function Ds(h,_,S,R,q,X){if(!_)throw Error("Invalid event type");const ae=f(q)?!!q.capture:!!q;let Ce=Ms(h);if(Ce||(h[Be]=Ce=new he(h)),S=Ce.add(_,S,R,ae,X),S.proxy)return S;if(R=xa(),S.proxy=R,R.src=h,R.listener=S,h.addEventListener)H||(q=ae),q===void 0&&(q=!1),h.addEventListener(_.toString(),R,q);else if(h.attachEvent)h.attachEvent(fi(_.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function xa(){function h(S){return _.call(h.src,h.listener,S)}const _=$o;return h}function Ra(h,_,S,R,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)Ra(h,_[X],S,R,q);else R=f(R)?!!R.capture:!!R,S=Ko(S),h&&h[re]?(h=h.i,X=String(_).toString(),X in h.g&&(_=h.g[X],S=De(_,S,R,q),S>-1&&(_e(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete h.g[X],h.h--)))):h&&(h=Ms(h))&&(_=h.g[_.toString()],h=-1,_&&(h=De(_,S,R,q)),(S=h>-1?_[h]:null)&&Aa(S))}function Aa(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[re])we(_.i,h);else{var S=h.type,R=h.proxy;_.removeEventListener?_.removeEventListener(S,R,h.capture):_.detachEvent?_.detachEvent(fi(S),R):_.addListener&&_.removeListener&&_.removeListener(R),(S=Ms(_))?(we(S,h),S.h==0&&(S.src=null,_[Be]=null)):_e(h)}}}function fi(h){return h in jt?jt[h]:jt[h]="on"+h}function $o(h,_){if(h.da)h=!0;else{_=new it(_,this);const S=h.listener,R=h.ha||h.src;h.fa&&Aa(h),h=S.call(R,_)}return h}function Ms(h){return h=h[Be],h instanceof he?h:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ko(h){return typeof h=="function"?h:(h[Go]||(h[Go]=function(_){return h.handleEvent(_)}),h[Go])}function wt(){z.call(this),this.i=new he(this),this.M=this,this.G=null}E(wt,z),wt.prototype[re]=!0,wt.prototype.removeEventListener=function(h,_,S,R){Ra(this,h,_,S,R)};function Lt(h,_){var S,R=h.G;if(R)for(S=[];R;R=R.G)S.push(R);if(h=h.M,R=_.type||_,typeof _=="string")_=new k(_,h);else if(_ instanceof k)_.target=_.target||h;else{var q=_;_=new k(R,h),le(_,q)}q=!0;let X,ae;if(S)for(ae=S.length-1;ae>=0;ae--)X=_.g=S[ae],q=Ar(X,R,!0,_)&&q;if(X=_.g=h,q=Ar(X,R,!0,_)&&q,q=Ar(X,R,!1,_)&&q,S)for(ae=0;ae<S.length;ae++)X=_.g=S[ae],q=Ar(X,R,!1,_)&&q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const S=h.g[_];for(let R=0;R<S.length;R++)_e(S[R]);delete h.g[_],h.h--}}this.G=null},wt.prototype.J=function(h,_,S,R){return this.i.add(String(h),_,!1,S,R)},wt.prototype.K=function(h,_,S,R){return this.i.add(String(h),_,!0,S,R)};function Ar(h,_,S,R){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let X=0;X<_.length;++X){const ae=_[X];if(ae&&!ae.da&&ae.capture==S){const Ce=ae.listener,_t=ae.ha||ae.src;ae.fa&&we(h.i,ae),q=Ce.call(_t,R)!==!1&&q}}return q&&!R.defaultPrevented}function Bd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(h,_||0)}function Bu(h){h.g=Bd(()=>{h.g=null,h.i&&(h.i=!1,Bu(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class ln extends z{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(h){z.call(this),this.h=h,this.g={}}E(Os,z);var Yo=[];function Qo(h){Fe(h.g,function(_,S){this.g.hasOwnProperty(S)&&Aa(_)},h),h.g={}}Os.prototype.N=function(){Os.Z.N.call(this),Qo(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=c.JSON.stringify,Hd=c.JSON.parse,Hu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Fu(){}function qu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){k.call(this,"d")}E(Gt,k);function Dn(){k.call(this,"c")}E(Dn,k);var yt={},$u=null;function Ca(){return $u=$u||new wt}yt.Ia="serverreachability";function Gu(h){k.call(this,yt.Ia,h)}E(Gu,k);function mi(h){const _=Ca();Lt(_,new Gu(_))}yt.STAT_EVENT="statevent";function Vs(h,_){k.call(this,yt.STAT_EVENT,h),this.stat=_}E(Vs,k);function xt(h){const _=Ca();Lt(_,new Vs(_,h))}yt.Ja="timingevent";function gi(h,_){k.call(this,yt.Ja,h),this.size=_}E(gi,k);function pi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},_)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Fd(h,_,S,R,q,X){h.info(function(){if(h.g)if(X){var ae="",Ce=X.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var _t=Ce[Ge].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Pn=ct.split("_");ae=Pn.length>=2&&Pn[1]=="type"?ae+(ct+"="+_t+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+_+`
`+S+`
`+ae})}function Ku(h,_,S,R,q,X,ae){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+_+`
`+S+`
`+X+" "+ae})}function yi(h,_,S,R){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+qd(h,S)+(R?" "+R:"")})}function Ps(h,_){h.info(function(){return"TIMEOUT: "+_})}Xn.prototype.info=function(){};function qd(h,_){if(!h.g)return _;if(!_)return null;try{const X=JSON.parse(_);if(X){for(h=0;h<X.length;h++)if(Array.isArray(X[h])){var S=X[h];if(!(S.length<2)){var R=S[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<R.length;ae++)R[ae]=""}}}}return Cr(X)}catch{return _}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jo;function js(){}E(js,Fu),js.prototype.g=function(){return new XMLHttpRequest},Jo=new js;function Xi(h){return encodeURIComponent(String(h))}function Yu(h){var _=1;h=h.split(":");const S=[];for(;_>0&&h.length;)S.push(h.shift()),_--;return h.length&&S.push(h.join(":")),S}function Jn(h,_,S,R){this.j=h,this.i=_,this.l=S,this.S=R||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function _i(h,_,S){h.M=1,h.A=Ls(Ct(_)),h.u=S,h.R=!0,Na(h,null)}function Na(h,_){h.F=Date.now(),vi(h),h.B=Ct(h.A);var S=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Oa(S.i,"t",R),h.C=0,S=h.j.L,h.h=new Wn,h.g=uc(h.j,S?_:null,!h.u),h.P>0&&(h.O=new ln(p(h.Y,h,h.g),h.P)),_=h.V,S=h.g,R=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Yo[0]=q.toString()),q=Yo);for(let X=0;X<q.length;X++){const ae=ut(S,q[X],R||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),mi(),Fd(h.i,h.v,h.B,h.l,h.S,h.u)}Jn.prototype.ba=function(h){h=h.target;const _=this.O;_&&ti(h)==3?_.j():this.Y(h)},Jn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ti(this.g),_t=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||_t==7||(_t==8||Ge<=0?mi(3):mi(2)),Ti(this);var _=this.g.ca();this.X=_;var S=$d(this);if(this.o=_==200,Ku(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var X=R;break t}}X=null}if(h=X)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,xt(12),Tn(this),Mn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<S.length;)if(ct=Xu(this,S),ct==Ht){Ce==4&&(this.m=4,xt(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Rt){this.m=4,xt(15),yi(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,ct,null),Ei(this,ct);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||S.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,S,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(S.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),dl(ae),ae.P=!0,xt(11))}}else yi(this.i,this.l,S,null),Ei(this,S);Ce==4&&Tn(this),this.o&&!this.K&&(Ce==4?sc(this.j,this):(this.o=!1,vi(this)))}else Wi(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Tn(this),Mn(this)}}}catch{}};function $d(h){if(!Qu(h))return h.g.la();const _=Kt(h.g);if(_==="")return"";let S="";const R=_.length,q=ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let X=0;X<R;X++)h.h.h=!0,S+=h.h.i.decode(_[X],{stream:!(q&&X==R-1)});return _.length=0,h.h.g+=S,h.C=0,h.h.g}function Qu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xu(h,_){var S=h.C,R=_.indexOf(`
`,S);return R==-1?Ht:(S=Number(_.substring(S,R)),isNaN(S)?Rt:(R+=1,R+S>_.length?Ht:(_=_.slice(R,R+S),h.C=R+S,_)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function vi(h){h.T=Date.now()+h.H,Ia(h,h.H)}function Ia(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pi(p(h.aa,h),_)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ps(this.i,this.B),this.M!=2&&(mi(),xt(17)),Tn(this),this.m=2,Mn(this)):Ia(this,this.T-h)};function Mn(h){h.j.I==0||h.K||sc(h.j,h)}function Tn(h){Ti(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,Qo(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Ei(h,_){try{var S=h.j;if(S.I!=0&&(S.g==h||bi(S.h,h))){if(!h.L&&bi(S.h,h)&&S.I==3){try{var R=S.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)La(S),kr(S);else break e;$s(S),xt(18)}}else S.xa=q[1],0<S.xa-S.K&&q[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=pi(p(S.Va,S),6e3));Si(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ni(S,11)}else if((h.L||S.g==h)&&La(S),!D(_))for(q=S.Ba.g.parse(_),_=0;_<q.length;_++){let Ge=q[_];const ct=Ge[0];if(!(ct<=S.K))if(S.K=ct,Ge=Ge[1],S.I==2)if(Ge[0]=="c"){S.M=Ge[1],S.ba=Ge[2];const Pn=Ge[3];Pn!=null&&(S.ka=Pn,S.j.info("VER="+S.ka));const Ii=Ge[4];Ii!=null&&(S.za=Ii,S.j.info("SVER="+S.za));const ni=Ge[5];ni!=null&&typeof ni=="number"&&ni>0&&(R=1.5*ni,S.O=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const ii=h.g;if(ii){const Gs=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var X=R.h;X.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(el(X,X.h),X.h=null))}if(R.G){const Ua=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ua&&(R.wa=Ua,Xe(R.J,R.G,Ua))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),R=S;var ae=h;if(R.na=lc(R,R.L?R.ba:null,R.W),ae.L){tl(R.h,ae);var Ce=ae,_t=R.O;_t&&(Ce.H=_t),Ce.D&&(Ti(Ce),vi(Ce)),R.g=ae}else ic(R);S.i.length>0&&Ci(S)}else Ge[0]!="stop"&&Ge[0]!="close"||Ni(S,7);else S.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ni(S,7):cl(S):Ge[0]!="noop"&&S.l&&S.l.qa(Ge),S.A=0)}}mi(4)}catch{}}var At=class{constructor(h,_){this.g=h,this.map=_}};function Wo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Si(h){return h.h?1:h.g?h.g.size:0}function bi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function el(h,_){h.g?h.g.add(_):h.h=_}function tl(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Wo.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function nl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const S of h.g.values())_=_.concat(S.G);return _}return w(h.i)}var Ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(h,_){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const R=h[S].indexOf("=");let q,X=null;R>=0?(q=h[S].substring(0,R),X=h[S].substring(R+1)):q=h[S],_(q,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function En(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof En?(this.l=h.l,Ft(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,il(this,tc(h.i)),this.m=h.m):h&&(_=String(h).match(Ju))?(this.l=!1,Ft(this,_[1]||"",!0),this.o=wi(_[2]||""),this.g=wi(_[3]||"",!0),Nr(this,_[4]),this.h=wi(_[5]||"",!0),il(this,_[6]||"",!0),this.m=wi(_[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}En.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Us(_,Ma,!0),":");var S=this.g;return(S||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Us(_,Ma,!0),"@"),h.push(Xi(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Us(S,S.charAt(0)=="/"?rl:Wu,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Us(S,Zu)),h.join("")},En.prototype.resolve=function(h){const _=Ct(this);let S=!!h.j;S?Ft(_,h.j):S=!!h.o,S?_.o=h.o:S=!!h.g,S?_.g=h.g:S=h.u!=null;var R=h.h;if(S)Nr(_,h.u);else if(S=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=_.h.lastIndexOf("/");q!=-1&&(R=_.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const X=[];for(let ae=0;ae<q.length;){const Ce=q[ae++];Ce=="."?R&&ae==q.length&&X.push(""):Ce==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ae==q.length&&X.push("")):(X.push(Ce),R=!0)}R=X.join("/")}else R=q}return S?_.h=R:S=h.i.toString()!=="",S?il(_,tc(h.i)):S=!!h.m,S&&(_.m=h.m),_};function Ct(h){return new En(h)}function Ft(h,_,S){h.j=S?wi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function il(h,_,S){_ instanceof Dr?(h.i=_,Va(h.i,h.l)):(S||(_=Us(_,Ir)),h.i=new Dr(_,h.l))}function Xe(h,_,S){h.i.set(_,S)}function Ls(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,_,S){return typeof h=="string"?(h=encodeURI(h).replace(_,hn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ma=/[#\/\?@]/g,Wu=/[#\?:]/g,rl=/[#\?]/g,Ir=/[#\?@]/g,Zu=/#/g;function Dr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Da(h.i,function(_,S){h.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}t=Dr.prototype,t.add=function(h,_){dn(this),this.i=null,h=Mr(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(_),this.h+=1,this};function ec(h,_){dn(h),_=Mr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function sl(h,_){return dn(h),_=Mr(h,_),h.g.has(_)}t.forEach=function(h,_){dn(this),this.g.forEach(function(S,R){S.forEach(function(q){h.call(_,q,R,this)},this)},this)};function al(h,_){dn(h);let S=[];if(typeof _=="string")sl(h,_)&&(S=S.concat(h.g.get(Mr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)S=S.concat(h[_]);return S}t.set=function(h,_){return dn(this),this.i=null,h=Mr(this,h),sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},t.get=function(h,_){return h?(h=al(this,h),h.length>0?String(h[0]):_):_};function Oa(h,_,S){ec(h,_),S.length>0&&(h.i=null,h.g.set(Mr(h,_),w(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var S=_[R];const q=Xi(S);S=al(this,S);for(let X=0;X<S.length;X++){let ae=q;S[X]!==""&&(ae+="="+Xi(S[X])),h.push(ae)}}return this.i=h.join("&")};function tc(h){const _=new Dr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Mr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Va(h,_){_&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(S,R){const q=R.toLowerCase();R!=q&&(ec(this,R),Oa(this,q,S))},h)),h.j=_}function Zn(h,_){const S=new Xn;if(c.Image){const R=new Image;R.onload=v(On,S,"TestLoadImage: loaded",!0,_,R),R.onerror=v(On,S,"TestLoadImage: error",!1,_,R),R.onabort=v(On,S,"TestLoadImage: abort",!1,_,R),R.ontimeout=v(On,S,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else _(!1)}function ol(h,_){const S=new Xn,R=new AbortController,q=setTimeout(()=>{R.abort(),On(S,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?On(S,"TestPingServer: ok",!0,_):On(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),On(S,"TestPingServer: error",!1,_)})}function On(h,_,S,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(S)}catch{}}function Or(){this.g=new Hu}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(xi,Fu),xi.prototype.g=function(){return new zs(this.i,this.h)};function zs(h,_){wt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(zs,wt),t=zs.prototype,t.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,ei(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Vr(this):ei(this),this.readyState==3&&Pa(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Vr(this))},t.Na=function(h){this.g&&(this.response=h,Vr(this))},t.ga=function(){this.g&&Vr(this)};function Vr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ei(h)}t.setRequestHeader=function(h,_){this.A.append(h,_)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=_.next();return h.join(`\r
`)};function ei(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let _="";return Fe(h,function(S,R){_+=R,_+=":",_+=S,_+=`\r
`}),_}function Bs(h,_,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=Vn(S),typeof h=="string"?S!=null&&Xi(S):Xe(h,_,S))}function Ze(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ze,wt);var Ri=/^https?$/i,ll=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,_,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jo.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(X){Hs(this,X);return}if(h=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)S.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())S.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find(X=>X.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ll,_,void 0)>=0)||R||q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of S)this.g.setRequestHeader(X,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(X){Hs(this,X)}};function Hs(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,ul(h),Ji(h)}function ul(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Ji(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fs(this):this.Xa())},t.Xa=function(){Fs(this)};function Fs(h){if(h.h&&typeof l<"u"){if(h.v&&ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ti(h)==4){h.h=!1;try{const X=h.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var R;if(R=X===0){let ae=String(h.D).match(Ju)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),R=!Ri.test(ae?ae.toLowerCase():"")}S=R}if(S)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var q=ti(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ul(h)}}finally{Ji(h)}}}}function Ji(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,_||Lt(h,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ti(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Hd(_)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const _={};h=(h.g&&ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var S=Yu(h[R]);const q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const X=_[q]||[];_[q]=X,X.push(S)}Qe(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(h,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||_}function Pr(h){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,h),this.Za=Ai("retryDelaySeedMs",1e4,h),this.Ta=Ai("forwardChannelMaxRetries",2,h),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(h&&h.concurrentRequestLimit),this.Ba=new Or,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Pr.prototype,t.ka=8,t.I=1,t.connect=function(h,_,S,R){xt(0),this.W=h,this.H=_||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.J=lc(this,null,this.W),Ci(this)};function cl(h){if(ka(h),h.I==3){var _=h.V++,S=Ct(h.J);if(Xe(S,"SID",h.M),Xe(S,"RID",_),Xe(S,"TYPE","terminate"),qs(h,S),_=new Jn(h,h.j,_),_.M=2,_.A=Ls(Ct(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=uc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),vi(_)}oc(h)}function kr(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function ka(h){kr(h),h.v&&(c.clearTimeout(h.v),h.v=null),La(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!Zo(h.h)&&!h.m){h.m=!0;var _=h.Ea;de||A(),ge||(de(),ge=!0),I.add(_,h),h.D=0}}function ja(h,_){return Si(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pi(p(h.Ea,h,_),ac(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Jn(this,this.j,h);let X=this.o;if(this.U&&(X?(X=U(X),le(X,this.U)):X=this.U),this.u!==null||this.R||(q.J=X,X=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=nc(this,q,_),S=Ct(this.J),Xe(S,"RID",h),Xe(S,"CVER",22),this.G&&Xe(S,"X-HTTP-Session-Id",this.G),qs(this,S),X&&(this.R?_="headers="+Xi(Vn(X))+"&"+_:this.u&&Bs(S,this.u,X)),el(this.h,q),this.Ra&&Xe(S,"TYPE","init"),this.S?(Xe(S,"$req",_),Xe(S,"SID","null"),q.U=!0,_i(q,S,null)):_i(q,S,_),this.I=2}}else this.I==3&&(h?hl(this,h):this.i.length==0||Zo(this.h)||hl(this))};function hl(h,_){var S;_?S=_.l:S=h.V++;const R=Ct(h.J);Xe(R,"SID",h.M),Xe(R,"RID",S),Xe(R,"AID",h.K),qs(h,R),h.u&&h.o&&Bs(R,h.u,h.o),S=new Jn(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),_&&(h.i=_.G.concat(h.i)),_=nc(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),el(h.h,S),_i(S,R,_)}function qs(h,_){h.H&&Fe(h.H,function(S,R){Xe(_,R,S)}),h.l&&Fe({},function(S,R){Xe(_,R,S)})}function nc(h,_,S){S=Math.min(h.i.length,S);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const _t=["count="+S];Ce==-1?S>0?(Ce=q[0].g,_t.push("ofs="+Ce)):Ce=0:_t.push("ofs="+Ce);let Ge=!0;for(let ct=0;ct<S;ct++){var X=q[ct].g;const Pn=q[ct].map;if(X-=Ce,X<0)Ce=Math.max(0,q[ct].g-100),Ge=!1;else try{X="req"+X+"_"||"";try{var ae=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ii,ni]of ae){let ii=ni;f(ni)&&(ii=Cr(ni)),_t.push(X+Ii+"="+encodeURIComponent(ii))}}catch(Ii){throw _t.push(X+"type="+encodeURIComponent("_badmap")),Ii}}catch{R&&R(Pn)}}if(Ge){ae=_t.join("&");break e}}ae=void 0}return h=h.i.splice(0,S),_.G=h,ae}function ic(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;de||A(),ge||(de(),ge=!0),I.add(_,h),h.A=0}}function $s(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pi(p(h.Da,h),ac(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),kr(this),rc(this))};function dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rc(h){h.g=new Jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ct(h.na);Xe(_,"RID","rpc"),Xe(_,"SID",h.M),Xe(_,"AID",h.K),Xe(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(_,"TO",h.ia),Xe(_,"TYPE","xmlhttp"),qs(h,_),h.u&&h.o&&Bs(_,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Ls(Ct(_)),S.u=null,S.R=!0,Na(S,h)}t.Va=function(){this.C!=null&&(this.C=null,kr(this),$s(this),xt(19))};function La(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sc(h,_){var S=null;if(h.g==_){La(h),dl(h),h.g=null;var R=2}else if(bi(h.h,_))S=_.G,tl(h.h,_),R=1;else return;if(h.I!=0){if(_.o)if(R==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;R=Ca(),Lt(R,new gi(R,S)),Ci(h)}else ic(h);else if(q=_.m,q==3||q==0&&_.X>0||!(R==1&&ja(h,_)||R==2&&$s(h)))switch(S&&S.length>0&&(_=h.h,_.i=_.i.concat(S)),q){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function ac(h,_){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*_}function Ni(h,_){if(h.j.info("Error code "+_),_==2){var S=p(h.bb,h),R=h.Ua;const q=!R;R=new En(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(R,"https"),Ls(R),q?Zn(R.toString(),S):ol(R.toString(),S)}else xt(2);h.I=0,h.l&&h.l.pa(_),oc(h),ka(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function oc(h){if(h.I=0,h.ja=[],h.l){const _=nl(h.h);(_.length!=0||h.i.length!=0)&&(C(h.ja,_),C(h.ja,h.i),h.h.i.length=0,w(h.i),h.i.length=0),h.l.oa()}}function lc(h,_,S){var R=S instanceof En?Ct(S):new En(S);if(R.g!="")_&&(R.g=_+"."+R.g),Nr(R,R.u);else{var q=c.location;R=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const X=new En(null);R&&Ft(X,R),_&&(X.g=_),q&&Nr(X,q),S&&(X.h=S),R=X}return S=h.G,_=h.wa,S&&_&&Xe(R,S,_),Xe(R,"VER",h.ka),qs(h,R),R}function uc(h,_,S){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new Ze(new xi({ab:S})):new Ze(h.ma),_.Fa(h.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}t=cc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jr(){}jr.prototype.g=function(h,_){return new un(h,_)};function un(h,_){wt.call(this),this.g=new Pr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new Zi(this)}E(un,wt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){cl(this.g)},un.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Cr(h),h=S);_.i.push(new At(_.Ya++,h)),_.I==3&&Ci(_)},un.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,un.Z.N.call(this)};function hc(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const S in _){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(hc,Gt);function dc(){Dn.call(this),this.status=1}E(dc,Dn);function Zi(h){this.g=h}E(Zi,cc),Zi.prototype.ra=function(){Lt(this.g,"a")},Zi.prototype.qa=function(h){Lt(this.g,new hc(h))},Zi.prototype.pa=function(h){Lt(this.g,new dc)},Zi.prototype.oa=function(){Lt(this.g,"b")},jr.prototype.createWebChannel=jr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,sS=function(){return new jr},rS=function(){return Ca()},iS=yt,Cg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Vh=ks,Xo.COMPLETE="complete",nS=Xo,qu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,nu=qu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,tS=Ze}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const w1="@firebase/firestore",x1="4.9.3";let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Lo="12.7.0";const pa=new up("@firebase/firestore");function po(){return pa.logLevel}function ce(t,...e){if(pa.logLevel<=je.DEBUG){const n=e.map(Tp);pa.debug(`Firestore (${Lo}): ${t}`,...n)}}function br(t,...e){if(pa.logLevel<=je.ERROR){const n=e.map(Tp);pa.error(`Firestore (${Lo}): ${t}`,...n)}}function Ao(t,...e){if(pa.logLevel<=je.WARN){const n=e.map(Tp);pa.warn(`Firestore (${Lo}): ${t}`,...n)}}function Tp(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aS(t,r,n)}function aS(t,e,n){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw br(r),new Error(r)}function Ye(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||aS(e,a,r)}function Ae(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ha{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const a=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let l=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ha,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},f=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ha)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new oS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class UI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function HI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Ep{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=HI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Ng(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return ng(a)===ng(l)?Le(a,l):ng(a)?1:-1}return Le(t.length,e.length)}const FI=55296,qI=57343;function ng(t){const e=t.charCodeAt(0);return e>=FI&&e<=qI}function Co(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const A1="__name__";class Pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Pi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const r=Pi.isNumericId(e),a=Pi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class st extends Pi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const $I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Pi{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return $I.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===A1}static keyField(){return new Zt([A1])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function lS(t,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GI(t,e,n,r){if(e===!0&&r===!0)throw new ue(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!ye.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N1(t){if(ye.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mu(t,e){if(!uS(t))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}const I1=-62135596800,D1=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D1);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I1)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D1}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const yu=-1;function KI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Ts(a,ye.empty(),e)}function YI(t){return new Ts(t.readTime,t.key,yu)}class Ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(xe.min(),ye.empty(),yu)}static max(){return new Ts(xe.max(),ye.empty(),yu)}}function QI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==XI)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(g=>r(g)))})),c=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((a=>a?ie.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let g=0;g<l;g++){const p=g;n(e[p]).next((v=>{c[p]=v,++f,f===l&&r(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new ie(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function WI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(t){return t.name==="IndexedDbTransactionError"}class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Td.ce=-1;const Sp=-1;function Ed(t){return t==null}function Jh(t){return t===0&&1/t==-1/0}function ZI(t){return typeof t=="number"&&Number.isInteger(t)&&!Jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const cS="";function eD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M1(e)),e=tD(t.get(n),e);return M1(e)}function tD(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case cS:n+="";break;default:n+=l}}return n}function M1(t){return t+cS+""}function O1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=a??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Wt(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Wt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V1(this.data.getIterator())}getIteratorFrom(e){return new V1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class V1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Bt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dS("Invalid base64 string: "+l):l}})(e);return new en(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const nD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=nD.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}const fS="server_timestamp",mS="__type__",gS="__previous_value__",pS="__local_write_time__";function bp(t){return(t?.mapValue?.fields||{})[mS]?.stringValue===fS}function Sd(t){const e=t.mapValue.fields[gS];return bp(e)?Sd(e):e}function _u(t){const e=Es(t.mapValue.fields[pS].timestampValue);return new lt(e.seconds,e.nanos)}class iD{constructor(e,n,r,a,l,c,f,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Wh="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||Wh}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}const yS="__type__",rD="__max__",Th={mapValue:{}},_S="__vector__",Zh="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bp(t)?4:aD(t)?9007199254740991:sD(t)?10:11:be(28295,{value:t})}function $i(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Es(a.timestampValue),f=Es(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ss(a.bytesValue).isEqual(Ss(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Et(a.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(a.geoPointValue.longitude)===Et(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Et(a.integerValue)===Et(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Et(a.doubleValue),f=Et(l.doubleValue);return c===f?Jh(c)===Jh(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(O1(c)!==O1(f))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(f[g]===void 0||!$i(c[g],f[g])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function Tu(t,e){return(t.values||[]).find((n=>$i(n,e)))!==void 0}function No(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Et(l.integerValue||l.doubleValue),g=Et(c.integerValue||c.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(t,e);case 3:return P1(t.timestampValue,e.timestampValue);case 4:return P1(_u(t),_u(e));case 5:return Ng(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ss(l),g=Ss(c);return f.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),g=c.split("/");for(let p=0;p<f.length&&p<g.length;p++){const v=Le(f[p],g[p]);if(v!==0)return v}return Le(f.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=Le(Et(l.latitude),Et(c.latitude));return f!==0?f:Le(Et(l.longitude),Et(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return k1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},g=c.fields||{},p=f[Zh]?.arrayValue,v=g[Zh]?.arrayValue,E=Le(p?.values?.length||0,v?.values?.length||0);return E!==0?E:k1(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Th.mapValue&&c===Th.mapValue)return 0;if(l===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let E=0;E<g.length&&E<v.length;++E){const b=Ng(g[E],v[E]);if(b!==0)return b;const w=No(f[g[E]],p[v[E]]);if(w!==0)return w}return Le(g.length,v.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function P1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Es(t),r=Es(e),a=Le(n.seconds,r.seconds);return a!==0?a:Le(n.nanos,r.nanos)}function k1(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=No(n[a],r[a]);if(l)return l}return Le(n.length,r.length)}function Io(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ss(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Ig(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Ig(n.fields[c])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Ph(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Ph(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Cs(r.fields,((l,c)=>{a+=l.length+Ph(c)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function j1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function wp(t){return!!t&&"arrayValue"in t}function L1(t){return!!t&&"nullValue"in t}function U1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kh(t){return!!t&&"mapValue"in t}function sD(t){return(t?.mapValue?.fields||{})[yS]?.stringValue===_S}function lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=lu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return{...t}}function aD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rD}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Zt.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const g=this.getFieldsMap(n);this.applyChanges(g,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=lu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new vn(lu(this.value))}}function vS(t){const e=[];return Cs(t.fields,((n,r)=>{const a=new Zt([n]);if(kh(r)){const l=vS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Nn(e)}class an{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new an(e,0,xe.min(),xe.min(),xe.min(),vn.empty(),0)}static newFoundDocument(e,n,r,a){return new an(e,1,n,xe.min(),r,a,0)}static newNoDocument(e,n){return new an(e,2,n,xe.min(),xe.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,xe.min(),xe.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ed{constructor(e,n){this.position=e,this.inclusive=n}}function z1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(c.referenceValue),n.key):r=No(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function B1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function oD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class TS{}class Vt extends TS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uD(e,n,r):n==="array-contains"?new dD(e,r):n==="in"?new fD(e,r):n==="not-in"?new mD(e,r):n==="array-contains-any"?new gD(e,r):new Vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cD(e,r):new hD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new di(e,n)}matches(e){return ES(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ES(t){return t.op==="and"}function SS(t){return lD(t)&&ES(t)}function lD(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function Mg(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(SS(t))return t.filters.map((e=>Mg(e))).join(",");{const e=t.filters.map((n=>Mg(n))).join(",");return`${t.op}(${e})`}}function bS(t,e){return t instanceof Vt?(function(r,a){return a instanceof Vt&&r.op===a.op&&r.field.isEqual(a.field)&&$i(r.value,a.value)})(t,e):t instanceof di?(function(r,a){return a instanceof di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&bS(c,a.filters[f])),!0):!1})(t,e):void be(19439)}function wS(t){return t instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`})(t):t instanceof di?(function(n){return n.op.toString()+" {"+n.getFilters().map(wS).join(" ,")+"}"})(t):"Filter"}class uD extends Vt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class cD extends Vt{constructor(e,n){super(e,"in",n),this.keys=xS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hD extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=xS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xS(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class dD extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&Tu(n.arrayValue,this.value)}}class fD extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class mD extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class gD extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tu(this.value.arrayValue,r)))}}class pD{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function H1(t,e=null,n=[],r=[],a=null,l=null,c=null){return new pD(t,e,n,r,a,l,c)}function xp(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Mg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Io(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Io(r))).join(",")),e.Te=n}return e.Te}function Rp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B1(t.startAt,e.startAt)&&B1(t.endAt,e.endAt)}function Og(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Bo{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yD(t,e,n,r,a,l,c,f){return new Bo(t,e,n,r,a,l,c,f)}function Ap(t){return new Bo(t)}function F1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RS(t){return t.collectionGroup!==null}function uu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Bt(Zt.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Eu(l,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Eu(Zt.keyField(),r))}return e.Ie}function Bi(t){const e=Ae(t);return e.Ee||(e.Ee=_D(e,uu(t))),e.Ee}function _D(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Eu(a.field,l)}));const n=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vg(t,e){const n=t.filters.concat([e]);return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pg(t,e,n){return new Bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return Rp(Bi(t),Bi(e))&&t.limitType===e.limitType}function AS(t){return`${xp(Bi(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>wS(a))).join(", ")}]`),Ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Io(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Io(a))).join(",")),`Target(${r})`})(Bi(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of uu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,g){const p=z1(c,f,g);return c.inclusive?p<=0:p<0})(r.startAt,uu(r),a)||r.endAt&&!(function(c,f,g){const p=z1(c,f,g);return c.inclusive?p>=0:p>0})(r.endAt,uu(r),a))})(t,e)}function vD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let r=!1;for(const a of uu(t)){const l=TD(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function TD(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,f){const g=c.data.field(l),p=f.data.field(l);return g!==null&&p!==null?No(g,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}const ED=new mt(ye.comparator);function wr(){return ED}const NS=new mt(ye.comparator);function iu(...t){let e=NS;for(const n of t)e=e.insert(n.key,n);return e}function IS(t){let e=NS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ca(){return cu()}function DS(){return cu()}function cu(){return new Sa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SD=new mt(ye.comparator),bD=new Bt(ye.comparator);function Ue(...t){let e=bD;for(const n of t)e=e.add(n);return e}const wD=new Bt(Le);function xD(){return wD}function Cp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function RD(t,e){return ZI(e)?MS(e):Cp(t,e)}class xd{constructor(){this._=void 0}}function AD(t,e,n){return t instanceof td?(function(a,l){const c={fields:{[mS]:{stringValue:fS},[pS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&bp(l)&&(l=Sd(l)),l&&(c.fields[gS]=l),{mapValue:c}})(n,e):t instanceof Su?VS(t,e):t instanceof bu?PS(t,e):(function(a,l){const c=OS(a,l),f=q1(c)+q1(a.Ae);return Dg(c)&&Dg(a.Ae)?MS(f):Cp(a.serializer,f)})(t,e)}function CD(t,e,n){return t instanceof Su?VS(t,e):t instanceof bu?PS(t,e):n}function OS(t,e){return t instanceof nd?(function(r){return Dg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class td extends xd{}class Su extends xd{constructor(e){super(),this.elements=e}}function VS(t,e){const n=kS(e);for(const r of t.elements)n.some((a=>$i(a,r)))||n.push(r);return{arrayValue:{values:n}}}class bu extends xd{constructor(e){super(),this.elements=e}}function PS(t,e){let n=kS(e);for(const r of t.elements)n=n.filter((a=>!$i(a,r)));return{arrayValue:{values:n}}}class nd extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q1(t){return Et(t.integerValue||t.doubleValue)}function kS(t){return wp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ND(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Su&&a instanceof Su||r instanceof bu&&a instanceof bu?Co(r.elements,a.elements,$i):r instanceof nd&&a instanceof nd?$i(r.Ae,a.Ae):r instanceof td&&a instanceof td})(t.transform,e.transform)}class ID{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rd{}function jS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Np(t.key,Kn.none()):new Ou(t.key,t.data,Kn.none());{const n=t.data,r=vn.empty();let a=new Bt(Zt.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ns(t.key,r,new Nn(a.toArray()),Kn.none())}}function DD(t,e,n){t instanceof Ou?(function(a,l,c){const f=a.value.clone(),g=G1(a.fieldTransforms,l,c.transformResults);f.setAll(g),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Ns?(function(a,l,c){if(!jh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=G1(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(LS(a)),g.setAll(f),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,r){return t instanceof Ou?(function(l,c,f,g){if(!jh(l.precondition,c))return f;const p=l.value.clone(),v=K1(l.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ns?(function(l,c,f,g){if(!jh(l.precondition,c))return f;const p=K1(l.fieldTransforms,g,c),v=c.data;return v.setAll(LS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(l,c,f){return jh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function MD(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=OS(r.transform,a||null);l!=null&&(n===null&&(n=vn.empty()),n.set(r.field,l))}return n||null}function $1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Co(r,a,((l,c)=>ND(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Rd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ns extends Rd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function G1(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,CD(c,f,n[a]))}return r}function K1(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,AD(l,c,e))}return r}class Np extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OD extends Rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VD{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&DD(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const g=jS(c,f);g!==null&&r.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,r)=>$1(n,r)))&&Co(this.baseMutations,e.baseMutations,((n,r)=>$1(n,r)))}}class Ip{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return SD})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Ip(e,n,r,a)}}class PD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,He;function jD(t){switch(t){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function US(t){if(t===void 0)return br("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:t})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function LD(){return new TextEncoder}const UD=new ys([4294967295,4294967295],0);function Y1(t){const e=LD().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function Q1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ys([n,r],0),new ys([a,l],0)]}class Dp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ys.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(ys.fromNumber(r)));return a.compare(UD)===1&&(a=new ys([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y1(e),[r,a]=Q1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dp(l,a,n);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const n=Y1(e),[r,a]=Q1(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ad{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ad(xe.min(),a,new mt(Le),wr(),Ue())}}class Vu{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,Ue(),Ue(),Ue())}}class Lh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class zS{constructor(e,n){this.targetId=e,this.Ce=n}}class BS{constructor(e,n,r=en.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class X1{constructor(){this.ve=0,this.Fe=J1(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}})),new Vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=J1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zD{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=Eh(),this.He=Eh(),this.Ye=new mt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Og(l))if(r===0){const c=new ye(l.path);this.et(n,c,an.newNoDocument(c,xe.min()))}else Ye(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const f=this.ut(e),g=f?this.ct(f,e,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Ss(r).toUint8Array()}catch(g){if(g instanceof dS)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Dp(c,a,l)}catch(g){return Ao(g instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Og(f.target)){const g=new ye(f.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,an.newNoDocument(g,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ad(e,n,this.Ye,this.je,r);return this.je=wr(),this.Je=Eh(),this.He=Eh(),this.Ye=new mt(Le),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new X1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Eh(){return new mt(ye.comparator)}function J1(){return new mt(ye.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},HD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FD={and:"AND",or:"OR"};class qD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kg(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $D(t,e){return id(t,e.toTimestamp())}function Hi(t){return Ye(!!t,49232),xe.fromTimestamp((function(n){const r=Es(n);return new lt(r.seconds,r.nanos)})(t))}function Mp(t,e){return jg(t,e).canonicalString()}function jg(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function FS(t){const e=st.fromString(t);return Ye(YS(e),10190,{key:e.toString()}),e}function Lg(t,e){return Mp(t.databaseId,e.path)}function ig(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye($S(n))}function qS(t,e){return Mp(t.databaseId,e)}function GD(t){const e=FS(t);return e.length===4?st.emptyPath():$S(e)}function Ug(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function W1(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function KD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:US(p.code);return new ue(v,p.message||"")})(c);n=new BS(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=ig(t,r.document.name),l=Hi(r.document.updateTime),c=r.document.createTime?Hi(r.document.createTime):xe.min(),f=new vn({mapValue:{fields:r.document.fields}}),g=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Lh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=ig(t,r.document),l=r.readTime?Hi(r.readTime):xe.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Lh([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=ig(t,r.document),l=r.removedTargetIds||[];n=new Lh([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new kD(a,l),f=r.targetId;n=new zS(f,c)}}return n}function YD(t,e){let n;if(e instanceof Ou)n={update:W1(t,e.key,e.value)};else if(e instanceof Np)n={delete:Lg(t,e.key)};else if(e instanceof Ns)n={update:W1(t,e.key,e.data),updateMask:i4(e.fieldMask)};else{if(!(e instanceof OD))return be(16599,{Vt:e.type});n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof td)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nd)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:$D(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function QD(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Hi(a.updateTime):Hi(l);return c.isEqual(xe.min())&&(c=Hi(l)),new ID(c,a.transformResults||[])})(n,e)))):[]}function XD(t,e){return{documents:[qS(t,e.path)]}}function JD(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qS(t,a);const l=(function(p){if(p.length!==0)return KS(di.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:_o(b.field),direction:e4(b.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=kg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function WD(t){let e=GD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ye(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const b=GS(E);return b instanceof di&&SS(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((b=>(function(C){return new Eu(vo(C.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(b)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let b;return b=typeof E=="object"?E.value:E,Ed(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(E){const b=!!E.before,w=E.values||[];return new ed(w,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const b=!E.before,w=E.values||[];return new ed(w,b)})(n.endAt)),yD(e,a,c,l,f,"F",g,p)}function ZD(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vo(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(n.unaryFilter.field);return Vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(n.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(n.unaryFilter.field);return Vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Vt.create(vo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return di.create(n.compositeFilter.filters.map((r=>GS(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function e4(t){return BD[t]}function t4(t){return HD[t]}function n4(t){return FD[t]}function _o(t){return{fieldPath:t.canonicalString()}}function vo(t){return Zt.fromServerFormat(t.fieldPath)}function KS(t){return t instanceof Vt?(function(n){if(n.op==="=="){if(U1(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NAN"}};if(L1(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U1(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NAN"}};if(L1(n.value))return{unaryFilter:{field:_o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(n.field),op:t4(n.op),value:n.value}}})(t):t instanceof di?(function(n){const r=n.getFilters().map((a=>KS(a)));return r.length===1?r[0]:{compositeFilter:{op:n4(n.op),filters:r}}})(t):be(54877,{filter:t})}function i4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class ds{constructor(e,n,r,a,l=xe.min(),c=xe.min(),f=en.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r4{constructor(e){this.yt=e}}function s4(t){const e=WD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pg(e,e.limit,"L"):e}class a4{constructor(){this.Cn=new o4}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ts.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class o4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Bt(st.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Bt(st.comparator)).toArray()}}const Z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(QS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}const eT="LruGarbageCollector",l4=1048576;function tT([t,e],[n,r]){const a=Le(t,n);return a===0?Le(e,r):a}class u4{constructor(e){this.Ir=e,this.buffer=new Bt(tT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(eT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?ce(eT,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class h4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Td.ce);const r=new u4(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Z1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,c,f,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(r=E,f=Date.now(),this.removeTargets(e,r,n)))).next((E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),po()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function d4(t,e){return new h4(t,e)}class f4{constructor(){this.changes=new Sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class m4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class g4{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&hu(r.mutation,a,Nn.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const a=ca();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=iu();return l.forEach(((f,g)=>{c=c.insert(f,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ca();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,r,a){let l=wr();const c=cu(),f=(function(){return cu()})();return n.forEach(((g,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Ns)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),hu(v.mutation,p,v.mutation.getFieldMask(),lt.now())):c.set(p.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>f.set(p,new m4(v,c.get(p)??null)))),f)))}recalculateAndSaveOverlays(e,n){const r=cu();let a=new mt(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=r.get(g)||Nn.empty();v=f.applyToLocalView(p,v),r.set(g,v);const E=(a.get(f.batchId)||Ue()).add(g);a=a.insert(f.batchId,E)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),p=g.key,v=g.value,E=DS();v.forEach((b=>{if(!l.has(b)){const w=jS(n.get(b),r.get(b));w!==null&&E.set(b,w),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ie.resolve(ca());let f=yu,g=l;return c.next((p=>ie.forEach(p,((v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{g=g.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,Ue()))).next((v=>({batchId:f,changes:IS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let a=iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,l).next((f=>ie.forEach(f,(g=>{const p=(function(E,b){return new Bo(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((v=>{v.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,an.newInvalidDocument(v)))}));let f=iu();return c.forEach(((g,p)=>{const v=l.get(g);v!==void 0&&hu(v.mutation,p,Nn.empty(),lt.now()),wd(n,p)&&(f=f.insert(g,p))})),f}))}}class p4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Hi(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:s4(a.bundledQuery),readTime:Hi(a.readTime)}})(n)),ie.resolve()}}class y4{constructor(){this.overlays=new mt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ca();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const a=ca(),l=n.length+1,c=new ye(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const g=f.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&a.set(g.getKey(),g)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new mt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=ca(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=ca(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>f.set(p,v))),!(f.size()>=a)););return ie.resolve(f)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new PD(n,r));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class _4{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Op{constructor(){this.Qr=new Bt($t.$r),this.Ur=new Bt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new st([])),r=new $t(n,e),a=new $t(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),r=new $t(n,e),a=new $t(n,e+1);let l=Ue();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new $t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class v4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VD(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new $t(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Sp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(Le);return n.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ye(l),0);let f=new Bt(Le);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(g.Yr)),!0)}),c),ie.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new $t(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new $t(n,0),a=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class T4{constructor(e){this.ri=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=wr();const c=n.path,f=new ye(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||QI(YI(v),r)<=0||(a.has(v.key)||wd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,r,a){be(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new E4(this)}getSize(e){return ie.resolve(this.size)}}class E4 extends f4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class S4{constructor(e){this.persistence=e,this.si=new Sa((n=>xp(n)),Rp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class XS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Td(0),this.li=!1,this.li=!0,this.hi=new _4,this.referenceDelegate=e(this),this.Pi=new S4(this),this.indexManager=new a4,this.remoteDocumentCache=(function(a){return new T4(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new r4(n),this.Ii=new p4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const a=new b4(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class b4 extends JI{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const a=ye.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new Sa((r=>eD(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=d4(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((f=>{f||(r++,l.removeEntry(c,xe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pp(e,n.fromCache,r,a)}}class w4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class x4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nA()?8:WI(on())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new w4;return this.Ss(e,n,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,c,f.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(po()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(po()<=je.DEBUG&&ce("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(po()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(n))):ie.resolve())}ys(e,n){if(F1(n))return ie.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Pg(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(n,f);return this.Cs(n,p,c,g.readTime)?this.ys(e,Pg(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,r,a){return F1(n)||a.isEqual(xe.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?ie.resolve(null):(po()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yo(n)),this.vs(e,c,n,KI(a,yu)).next((f=>f)))}))}Ds(e,n){let r=new Bt(CS(e));return n.forEach(((a,l)=>{wd(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return po()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const kp="LocalStore",R4=3e8;class A4{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(Le),this.xs=new Sa((l=>xp(l)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function C4(t,e,n,r){return new A4(t,e,n,r)}async function JS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let g=Ue();for(const p of a){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function N4(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,g,p,v){const E=p.batch,b=E.keys();let w=ie.resolve();return b.forEach((C=>{w=w.next((()=>v.getEntry(g,C))).next((L=>{const O=p.docVersions.get(C);Ye(O!==null,48541),L.version.compareTo(O)<0&&(E.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let g=Ue();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(g=g.add(f.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function WS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function I4(t,e){const n=Ae(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const f=[];e.targetChanges.forEach(((v,E)=>{const b=a.get(E);if(!b)return;f.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?w=w.withResumeToken(en.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,r)),a=a.insert(E,w),(function(L,O,V){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=R4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(b,w,v)&&f.push(n.Pi.updateTargetData(l,w))}));let g=wr(),p=Ue();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(D4(l,c,e.documentUpdates).next((v=>{g=v.ks,p=v.qs}))),!r.isEqual(xe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(v)}return ie.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.Ms=a,l)))}function D4(t,e,n){let r=Ue(),a=Ue();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=wr();return n.forEach(((f,g)=>{const p=l.get(f);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(f,g.readTime),c=c.insert(f,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(f,g)):ce(kp,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",g.version)})),{ks:c,qs:a}}))}function M4(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function O4(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new ds(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function zg(t,e,n){const r=Ae(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!zo(c))throw c;ce(kp,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function nT(t,e,n){const r=Ae(t);let a=xe.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,v){const E=Ae(g),b=E.xs.get(v);return b!==void 0?ie.resolve(E.Ms.get(b)):E.Pi.getTargetData(p,v)})(r,c,Bi(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((g=>{l=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:Ue()))).next((f=>(V4(r,vD(e),f),{documents:f,Qs:l})))))}function V4(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class iT{constructor(){this.activeTargetIds=xD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P4{constructor(){this.Mo=new iT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k4{Oo(e){}shutdown(){}}const rT="ConnectivityMonitor";class sT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Bg(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const rg="RestConnection",j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const c=Bg(),f=this.zo(e,n.toUriEncodedString());ce(rg,`Sending RPC '${e}' ${c}:`,f,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,l);const{host:p}=new URL(f),v=va(p);return this.Jo(e,f,g,r,v).then((E=>(ce(rg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Ao(rg,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",r),E}))}Ho(e,n,r,a,l,c){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=j4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class U4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const nn="WebChannelConnection";class z4 extends L4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const c=Bg();return new Promise(((f,g)=>{const p=new tS;p.setWithCredentials(!0),p.listenOnce(nS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vh.NO_ERROR:const E=p.getResponseJson();ce(nn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case Vh.TIMEOUT:ce(nn,`RPC '${e}' ${c} timed out`),g(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Vh.HTTP_ERROR:const b=p.getStatus();if(ce(nn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const L=(function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(F)>=0?F:ne.UNKNOWN})(C.status);g(new ue(L,C.message))}else g(new ue(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(nn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ce(nn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const a=Bg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sS(),f=rS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const v=l.join("");ce(nn,`Creating RPC '${e}' stream ${a}: ${v}`,g);const E=c.createWebChannel(v,g);this.I_(E);let b=!1,w=!1;const C=new U4({Yo:O=>{w?ce(nn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(b||(ce(nn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),b=!0),ce(nn,`RPC '${e}' stream ${a} sending:`,O),E.send(O))},Zo:()=>E.close()}),L=(O,V,F)=>{O.listen(V,(Q=>{try{F(Q)}catch(se){setTimeout((()=>{throw se}),0)}}))};return L(E,nu.EventType.OPEN,(()=>{w||(ce(nn,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),L(E,nu.EventType.CLOSE,(()=>{w||(w=!0,ce(nn,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(E))})),L(E,nu.EventType.ERROR,(O=>{w||(w=!0,Ao(nn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.a_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),L(E,nu.EventType.MESSAGE,(O=>{if(!w){const V=O.data[0];Ye(!!V,16349);const F=V,Q=F?.error||F[0]?.error;if(Q){ce(nn,`RPC '${e}' stream ${a} received error:`,Q);const se=Q.status;let de=(function(A){const N=Ot[A];if(N!==void 0)return US(N)})(se),ge=Q.message;de===void 0&&(de=ne.INTERNAL,ge="Unknown error status: "+se+" with message "+Q.message),w=!0,C.a_(new ue(de,ge)),E.close()}else ce(nn,`RPC '${e}' stream ${a} received:`,V),C.u_(V)}})),L(f,iS.STAT_EVENT,(O=>{O.stat===Cg.PROXY?ce(nn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Cg.NOPROXY&&ce(nn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sg(){return typeof document<"u"?document:null}function Cd(t){return new qD(t,!0)}class ZS{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aT="PersistentStream";class eb{constructor(e,n,r,a,l,c,f,g){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new ue(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(aT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(aT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B4 extends eb{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KD(this.serializer,e),r=(function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Hi(c.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(l,c){let f;const g=c.target;if(f=Og(g)?{documents:XD(l,g)}:{query:JD(l,g).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=HS(l,c.resumeToken);const p=kg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){f.readTime=id(l,c.snapshotVersion.toTimestamp());const p=kg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=ZD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.q_(n)}}class H4 extends eb{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QD(e.writeResults,e.commitTime),r=Hi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>YD(this.serializer,r)))};this.q_(n)}}class F4{}class q4 extends F4{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,jg(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ne.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,jg(n,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ya="RemoteStore";class G4{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{ba(this)&&(ce(ya,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Pu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Nd(p)})(this))}))})),this.Ra=new $4(r,a)}}async function Nd(t){if(ba(t))for(const e of t.da)await e(!0)}async function Pu(t){for(const e of t.da)await e(!1)}function tb(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):Ho(n).O_()&&Lp(n,e))}function jp(t,e){const n=Ae(t),r=Ho(n);n.Ia.delete(e),r.O_()&&nb(n,e),n.Ia.size===0&&(r.O_()?r.L_():ba(n)&&n.Ra.set("Unknown"))}function Lp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).Y_(e)}function nb(t,e){t.Va.Ue(e),Ho(t).Z_(e)}function Up(t){t.Va=new zD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.Ra.ua()}function zp(t){return ba(t)&&!Ho(t).x_()&&t.Ia.size>0}function ba(t){return Ae(t).Ea.size===0}function ib(t){t.Va=void 0}async function K4(t){t.Ra.set("Online")}async function Y4(t){t.Ia.forEach(((e,n)=>{Lp(t,e)}))}async function Q4(t,e){ib(t),zp(t)?(t.Ra.ha(e),Up(t)):t.Ra.set("Unknown")}async function X4(t,e,n){if(t.Ra.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(t,e)}catch(r){ce(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sd(t,r)}else if(e instanceof Lh?t.Va.Ze(e):e instanceof zS?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await WS(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(g.resumeToken,c))}})),f.targetMismatches.forEach(((g,p)=>{const v=l.Ia.get(g);if(!v)return;l.Ia.set(g,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),nb(l,g);const E=new ds(v.target,g,p,v.sequenceNumber);Lp(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(r){ce(ya,"Failed to raise snapshot:",r),await sd(t,r)}}async function sd(t,e,n){if(!zo(e))throw e;t.Ea.add(1),await Pu(t),t.Ra.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(ya,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Nd(t)}))}function rb(t,e){return e().catch((n=>sd(t,n,e)))}async function Id(t){const e=Ae(t),n=ws(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;J4(e);)try{const a=await M4(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,W4(e,a)}catch(a){await sd(e,a)}sb(e)&&ab(e)}function J4(t){return ba(t)&&t.Ta.length<10}function W4(t,e){t.Ta.push(e);const n=ws(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sb(t){return ba(t)&&!ws(t).x_()&&t.Ta.length>0}function ab(t){ws(t).start()}async function Z4(t){ws(t).ra()}async function eM(t){const e=ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function tM(t,e,n){const r=t.Ta.shift(),a=Ip.from(r,e,n);await rb(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Id(t)}async function nM(t,e){e&&ws(t).X_&&await(async function(r,a){if((function(c){return jD(c)&&c!==ne.ABORTED})(a.code)){const l=r.Ta.shift();ws(r).B_(),await rb(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Id(r)}})(t,e),sb(t)&&ab(t)}async function oT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(ya,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await Pu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nd(n)}async function iM(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Nd(n)):e||(n.Ea.add(2),await Pu(n),n.Ra.set("Unknown"))}function Ho(t){return t.ma||(t.ma=(function(n,r,a){const l=Ae(n);return l.sa(),new B4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:K4.bind(null,t),t_:Y4.bind(null,t),r_:Q4.bind(null,t),H_:X4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),zp(t)?Up(t):t.Ra.set("Unknown")):(await t.ma.stop(),ib(t))}))),t.ma}function ws(t){return t.fa||(t.fa=(function(n,r,a){const l=Ae(n);return l.sa(),new H4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z4.bind(null,t),r_:nM.bind(null,t),ta:eM.bind(null,t),na:tM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Id(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(ya,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Bp{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new Bp(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(t,e){if(br("AsyncQueue",`${e}: ${t}`),zo(t))return new ue(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=iu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lT{constructor(){this.ga=new mt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mo{constructor(e,n,r,a,l,c,f,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Mo(e,n,wo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class rM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sM{constructor(){this.queries=uT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ae(n),l=a.queries;a.queries=uT(),l.forEach(((c,f)=>{for(const g of f.Sa)g.onError(r)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function uT(){return new Sa((t=>AS(t)),bd)}async function aM(t,e){const n=Ae(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new rM,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Hp(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Fp(n)}async function oM(t,e){const n=Ae(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lM(t,e){const n=Ae(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&Fp(n)}function uM(t,e,n){const r=Ae(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function Fp(t){t.Ca.forEach((e=>{e.next()}))}var Hg,cT;(cT=Hg||(Hg={})).Ma="default",cT.Cache="cache";class cM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hg.Cache}}class ob{constructor(e){this.key=e}}class lb{constructor(e){this.key=e}}class hM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=CS(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new lT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const b=a.get(v),w=wd(this.query,E)?E:null,C=!!b&&this.mutatedKeys.has(b.key),L=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;b&&w?b.data.isEqual(w.data)?C!==L&&(r.track({type:3,doc:w}),O=!0):this.su(b,w)||(r.track({type:2,doc:w}),O=!0,(g&&this.eu(w,g)>0||p&&this.eu(w,p)<0)&&(f=!0)):!b&&w?(r.track({type:0,doc:w}),O=!0):b&&!w&&(r.track({type:1,doc:b}),O=!0,(g||p)&&(f=!0)),O&&(w?(c=c.add(w),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(w,C){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:O})}};return L(w)-L(C)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),a=a??!1;const f=n&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,p=g!==this.Za;return this.Za=g,c.length!==0||p?{snapshot:new Mo(this.query,e.tu,l,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new lb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ob(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class dM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fM{constructor(e){this.key=e,this.hu=!1}}class mM{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sa((f=>AS(f)),bd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ye.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gM(t,e,n=!0){const r=mb(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ub(r,e,n,!0),a}async function pM(t,e){const n=mb(t);await ub(n,e,!0,!1)}async function ub(t,e,n,r){const a=await O4(t.localStore,Bi(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await yM(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&tb(t.remoteStore,a),f}async function yM(t,e,n,r,a){t.pu=(E,b,w)=>(async function(L,O,V,F){let Q=O.view.ru(V);Q.Cs&&(Q=await nT(L.localStore,O.query,!1).then((({documents:I})=>O.view.ru(I,Q))));const se=F&&F.targetChanges.get(O.targetId),de=F&&F.targetMismatches.get(O.targetId)!=null,ge=O.view.applyChanges(Q,L.isPrimaryClient,se,de);return dT(L,O.targetId,ge.au),ge.snapshot})(t,E,b,w);const l=await nT(t.localStore,e,!0),c=new hM(e,l.Qs),f=c.ru(l.documents),g=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,g);dT(t,n,p.au);const v=new dM(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function _M(t,e,n){const r=Ae(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!bd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await zg(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&jp(r.remoteStore,a.targetId),Fg(r,a.targetId)})).catch(Uo)):(Fg(r,a.targetId),await zg(r.localStore,a.targetId,!0))}async function vM(t,e){const n=Ae(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jp(n.remoteStore,r.targetId))}async function TM(t,e,n){const r=AM(t);try{const a=await(function(c,f){const g=Ae(c),p=lt.now(),v=f.reduce(((w,C)=>w.add(C.key)),Ue());let E,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=wr(),L=Ue();return g.Ns.getEntries(w,v).next((O=>{C=O,C.forEach(((V,F)=>{F.isValidDocument()||(L=L.add(V))}))})).next((()=>g.localDocuments.getOverlayedDocuments(w,C))).next((O=>{E=O;const V=[];for(const F of f){const Q=MD(F,E.get(F.key).overlayedDocument);Q!=null&&V.push(new Ns(F.key,Q,vS(Q.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(w,p,V,f)})).next((O=>{b=O;const V=O.applyToLocalDocumentSet(E,L);return g.documentOverlayCache.saveOverlays(w,O.batchId,V)}))})).then((()=>({batchId:b.batchId,changes:IS(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,g){let p=c.Vu[c.currentUser.toKey()];p||(p=new mt(Le)),p=p.insert(f,g),c.Vu[c.currentUser.toKey()]=p})(r,a.batchId,n),await ku(r,a.changes),await Id(r.remoteStore)}catch(a){const l=Hp(a,"Failed to persist write");n.reject(l)}}async function cb(t,e){const n=Ae(t);try{const r=await I4(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ye(c.hu,14607):a.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await ku(n,r,e)}catch(r){await Uo(r)}}function hT(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const g=Ae(c);g.onlineState=f;let p=!1;g.queries.forEach(((v,E)=>{for(const b of E.Sa)b.va(f)&&(p=!0)})),p&&Fp(g)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EM(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new mt(ye.comparator);c=c.insert(l,an.newNoDocument(l,xe.min()));const f=Ue().add(l),g=new Ad(xe.min(),new Map,new mt(Le),c,f);await cb(r,g),r.du=r.du.remove(l),r.Au.delete(e),$p(r)}else await zg(r.localStore,e,!1).then((()=>Fg(r,e,n))).catch(Uo)}async function SM(t,e){const n=Ae(t),r=e.batch.batchId;try{const a=await N4(n.localStore,e);db(n,r,null),hb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,a)}catch(a){await Uo(a)}}async function bM(t,e,n){const r=Ae(t);try{const a=await(function(c,f){const g=Ae(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,f).next((E=>(Ye(E!==null,37113),v=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);db(r,e,n),hb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,a)}catch(a){await Uo(a)}}function hb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function db(t,e,n){const r=Ae(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||fb(t,r)}))}function fb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),$p(t))}function dT(t,e,n){for(const r of n)r instanceof ob?(t.Ru.addReference(r.key,e),wM(t,r)):r instanceof lb?(ce(qp,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fb(t,r.key)):be(19791,{wu:r})}function wM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(qp,"New document in limbo: "+n),t.Eu.add(r),$p(t))}function $p(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(st.fromString(e)),r=t.fu.next();t.Au.set(r,new fM(n)),t.du=t.du.insert(n,r),tb(t.remoteStore,new ds(Bi(Ap(n.path)),r,"TargetPurposeLimboResolution",Td.ce))}}async function ku(t,e,n){const r=Ae(t),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,g)=>{c.push(r.pu(g,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Pp.As(g.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(g,p){const v=Ae(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(p,(b=>ie.forEach(b.Es,(w=>v.persistence.referenceDelegate.addReference(E,b.targetId,w))).next((()=>ie.forEach(b.ds,(w=>v.persistence.referenceDelegate.removeReference(E,b.targetId,w)))))))))}catch(E){if(!zo(E))throw E;ce(kp,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const w=v.Ms.get(b),C=w.snapshotVersion,L=w.withLastLimboFreeSnapshotVersion(C);v.Ms=v.Ms.insert(b,L)}}})(r.localStore,l))}async function xM(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(qp,"User change. New user:",e.toKey());const r=await JS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((g=>{g.reject(new ue(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.Ls)}}function RM(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const f=n.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function mb(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EM.bind(null,e),e.Pu.H_=lM.bind(null,e.eventManager),e.Pu.yu=uM.bind(null,e.eventManager),e}function AM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bM.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return C4(this.persistence,new x4,e.initialUser,this.serializer)}Cu(e){return new XS(Vp.mi,this.serializer)}Du(e){return new P4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class CM extends ad{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof rd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new c4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new XS((r=>rd.mi(r,n)),this.serializer)}}class qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xM.bind(null,this.syncEngine),await iM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sM})()}createDatastore(e){const n=Cd(e.databaseInfo.databaseId),r=(function(l){return new z4(l)})(e.databaseInfo);return(function(l,c,f,g){return new q4(l,c,f,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,f){return new G4(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>hT(this.syncEngine,n,0)),(function(){return sT.v()?new sT:new k4})())}createSyncEngine(e,n){return(function(a,l,c,f,g,p,v){const E=new mM(a,l,c,f,g,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ce(ya,"RemoteStore shutting down."),r.Ea.add(5),await Pu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qg.provider={build:()=>new qg};class NM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const xs="FirestoreClient";class IM{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ce(xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ce(xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),ce(xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await JS(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DM(t);ce(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>oT(e.remoteStore,a))),t._onlineComponents=e}async function DM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(xs,"Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new ad)}}else ce(xs,"Using default OfflineComponentProvider"),await ag(t,new CM(void 0));return t._offlineComponents}async function gb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(xs,"Using user provided OnlineComponentProvider"),await fT(t,t._uninitializedComponentsProvider._online)):(ce(xs,"Using default OnlineComponentProvider"),await fT(t,new qg))),t._onlineComponents}function MM(t){return gb(t).then((e=>e.syncEngine))}async function mT(t){const e=await gb(t),n=e.eventManager;return n.onListen=gM.bind(null,e.syncEngine),n.onUnlisten=_M.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vM.bind(null,e.syncEngine),n}function pb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const gT=new Map;const yb="firestore.googleapis.com",pT=!0;class yT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yb,this.ssl=pT}else this.host=e.host,this.ssl=e.ssl??pT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kI;switch(r.type){case"firstParty":return new zI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gT.get(n);r&&(ce("ComponentProvider","Removing Datastore"),gT.delete(n),r.terminate())})(this),Promise.resolve()}}function OM(t,e,n,r={}){t=zi(t,Dd);const a=va(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(op(`https://${f}`),lp("Firestore",!0)),l.host!==yb&&l.host!==f&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:a,emulatorOptions:r};if(!fa(g,c)&&(t._setSettings(g),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=sn.MOCK_USER;else{p=gE(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(E)}t._authCredentials=new jI(new oS(p,v))}}class wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mu(n,bt._jsonSchema))return new bt(e,r||null,new ye(st.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Pt("string",bt._jsonSchemaVersion),referencePath:Pt("string")};class _s extends wa{constructor(e,n,r){super(e,n,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ye(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function _b(t,e,...n){if(t=kt(t),lS("collection","path",e),t instanceof Dd){const r=st.fromString(e,...n);return N1(r),new _s(t,null,r)}{if(!(t instanceof bt||t instanceof _s))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return N1(r),new _s(t.firestore,null,r)}}function ju(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Ep.newId()),lS("doc","path",e),t instanceof Dd){const r=st.fromString(e,...n);return C1(r),new bt(t,null,new ye(r))}{if(!(t instanceof bt||t instanceof _s))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return C1(r),new bt(t.firestore,t instanceof _s?t.converter:null,new ye(r))}}const _T="AsyncQueue";class vT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZS(this,"async_queue_retry"),this._c=()=>{const r=sg();r&&ce(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ha;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;ce(_T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",TT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Bp.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ET(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class _a extends Dd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new vT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vT(e),this._firestoreClient=void 0,await e}}}function VM(t,e){const n=typeof t=="object"?t:hp(),r=typeof t=="string"?t:Wh,a=md(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=dE("firestore");l&&OM(a,...l)}return a}function vb(t){if(t._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PM(t),t._firestoreClient}function PM(t){const e=t._freezeSettings(),n=(function(a,l,c,f){return new iD(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pb(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(en.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Pt("string",Gn._jsonSchemaVersion),bytes:Pt("string")};class Md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gp{constructor(e){this._methodName=e}}class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Pt("string",Fi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Pt("string",qi._jsonSchemaVersion),vectorValues:Pt("object")};const kM=/^__.*__$/;class jM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class Tb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Eb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class Kp{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Eb(this.Ac)&&kM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cd(e)}Cc(e,n,r,a=!1){return new Kp({Ac:e,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(t){const e=t._freezeSettings(),n=Cd(t._databaseId);return new LM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sb(t,e,n,r,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Yp("Data must be an object, but it was:",c,r);const f=bb(r,c);let g,p;if(l.merge)g=new Nn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const b=$g(e,E,n);if(!c.contains(b))throw new ue(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);xb(v,b)||v.push(b)}g=new Nn(v),p=c.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=c.fieldTransforms;return new jM(new vn(f),g,p)}class Vd extends Gp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}function UM(t,e,n,r){const a=t.Cc(1,e,n);Yp("Data must be an object, but it was:",a,r);const l=[],c=vn.empty();Cs(r,((g,p)=>{const v=Qp(e,g,n);p=kt(p);const E=a.yc(v);if(p instanceof Vd)l.push(v);else{const b=Lu(p,E);b!=null&&(l.push(v),c.set(v,b))}}));const f=new Nn(l);return new Tb(c,f,a.fieldTransforms)}function zM(t,e,n,r,a,l){const c=t.Cc(1,e,n),f=[$g(e,r,n)],g=[a];if(l.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push($g(e,l[b])),g.push(l[b+1]);const p=[],v=vn.empty();for(let b=f.length-1;b>=0;--b)if(!xb(p,f[b])){const w=f[b];let C=g[b];C=kt(C);const L=c.yc(w);if(C instanceof Vd)p.push(w);else{const O=Lu(C,L);O!=null&&(p.push(w),v.set(w,O))}}const E=new Nn(p);return new Tb(v,E,c.fieldTransforms)}function BM(t,e,n,r=!1){return Lu(n,t.Cc(r?4:3,e))}function Lu(t,e){if(wb(t=kt(t)))return Yp("Unsupported field value:",e,t),bb(t,e);if(t instanceof Gp)return(function(r,a){if(!Eb(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let g=Lu(f,a.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RD(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:id(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:id(a.serializer,l)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:HS(a.serializer,r._byteString)};if(r instanceof bt){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mp(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof qi)return(function(c,f){return{mapValue:{fields:{[yS]:{stringValue:_S},[Zh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Cp(f.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${vd(r)}`)})(t,e)}function bb(t,e){const n={};return hS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,((r,a)=>{const l=Lu(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function wb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Fi||t instanceof Gn||t instanceof bt||t instanceof Gp||t instanceof qi)}function Yp(t,e,n){if(!wb(n)||!uS(n)){const r=vd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function $g(t,e,n){if((e=kt(e))instanceof Md)return e._internalPath;if(typeof e=="string")return Qp(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}const HM=new RegExp("[~\\*/\\[\\]]");function Qp(t,e,n){if(e.search(HM)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Md(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${a}`),g+=")"),new ue(ne.INVALID_ARGUMENT,f+t+g)}function xb(t,e){return t.some((n=>n.isEqual(e)))}class Rb{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FM extends Rb{data(){return super.data()}}function Xp(t,e){return typeof e=="string"?Qp(t,e):e instanceof Md?e._internalPath:e._delegate._internalPath}function qM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class Ab extends Jp{}function $M(t,e,...n){let r=[];e instanceof Jp&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((g=>g instanceof Zp)).length,f=l.filter((g=>g instanceof Wp)).length;if(c>1||c>0&&f>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class Wp extends Ab{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wp(e,n,r)}_apply(e){const n=this._parse(e);return Cb(e._query,n),new wa(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=Od(e.firestore);return(function(l,c,f,g,p,v,E){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){bT(E,v);const C=[];for(const L of E)C.push(ST(g,l,L));b={arrayValue:{values:C}}}else b=ST(g,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||bT(E,v),b=BM(f,c,E,v==="in"||v==="not-in");return Vt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Zp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const g of f)Cb(c,g),c=Vg(c,g)})(e._query,n),new wa(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Ab{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ey(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(l,c)})(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Bo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function GM(t,e="asc"){const n=e,r=Xp("orderBy",t);return ey._create(r,n)}function ST(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ye.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j1(t,new ye(r))}if(n instanceof bt)return j1(t,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function bT(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cb(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KM{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Zh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Fi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Es(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ye(YS(r),9688,{name:e});const a=new vu(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(n)||br(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Nb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends Rb{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Pt("string",da._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Uh extends da{data(e={}){return super.data(e)}}class xo{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Uh(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const g=new Uh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new Uh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:YM(f.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ep.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}xo._jsonSchemaVersion="firestore/querySnapshot/1.0",xo._jsonSchema={type:Pt("string",xo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ib extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function QM(t,e,n){t=zi(t,bt);const r=zi(t.firestore,_a),a=Nb(t.converter,e,n);return Pd(r,[Sb(Od(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Kn.none())])}function XM(t,e,n,...r){t=zi(t,bt);const a=zi(t.firestore,_a),l=Od(a);let c;return c=typeof(e=kt(e))=="string"||e instanceof Md?zM(l,"updateDoc",t._key,e,n,r):UM(l,"updateDoc",t._key,e),Pd(a,[c.toMutation(t._key,Kn.exists(!0))])}function JM(t){return Pd(zi(t.firestore,_a),[new Np(t._key,Kn.none())])}function WM(t,e){const n=zi(t.firestore,_a),r=ju(t),a=Nb(t.converter,e);return Pd(n,[Sb(Od(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then((()=>r))}function Db(t,...e){t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ET(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ET(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let l,c,f;if(t instanceof bt)c=zi(t.firestore,_a),f=Ap(t._key.path),l={next:g=>{e[r]&&e[r](ZM(c,t,g))},error:e[r+1],complete:e[r+2]};else{const g=zi(t,wa);c=zi(g.firestore,_a),f=g._query;const p=new Ib(c);l={next:v=>{e[r]&&e[r](new xo(c,p,g,v))},error:e[r+1],complete:e[r+2]},qM(t._query)}return(function(p,v,E,b){const w=new NM(b),C=new cM(v,w,E);return p.asyncQueue.enqueueAndForget((async()=>aM(await mT(p),C))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>oM(await mT(p),C)))}})(vb(c),f,a,l)}function Pd(t,e){return(function(r,a){const l=new ha;return r.asyncQueue.enqueueAndForget((async()=>TM(await MM(r),a,l))),l.promise})(vb(t),e)}function ZM(t,e,n){const r=n.docs.get(e._key),a=new Ib(t);return new da(t,a,e._key,r,new su(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Lo=a})(Ta),ma(new vs("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new _a(new LI(r.getProvider("auth-internal")),new BI(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ji(w1,x1,e),ji(w1,x1,"esm2020")})();const Mb="firebasestorage.googleapis.com",eO="storageBucket",tO=120*1e3,nO=600*1e3;class Qi extends Yi{constructor(e,n,r=0){super(og(e),`Firebase Storage: ${n} (${og(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return og(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function og(t){return"storage/"+t}function iO(){const t="An unknown error occurred, please check the error payload for server response.";return new Qi(Gi.UNKNOWN,t)}function rO(){return new Qi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sO(){return new Qi(Gi.CANCELED,"User canceled the upload/download.")}function aO(t){return new Qi(Gi.INVALID_URL,"Invalid URL '"+t+"'.")}function oO(t){return new Qi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wT(t){return new Qi(Gi.INVALID_ARGUMENT,t)}function Ob(){return new Qi(Gi.APP_DELETED,"The Firebase app was deleted.")}function lO(t){return new Qi(Gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class li{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=li.makeFromUrl(e,n)}catch{return new li(e,"")}if(r.path==="")return r;throw oO(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),g={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",w=new RegExp(`^https?://${E}/${v}/b/${a}/o${b}`,"i"),C={bucket:1,path:3},L=n===Mb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",V=new RegExp(`^https?://${L}/${a}/${O}`,"i"),Q=[{regex:f,indices:g,postModify:l},{regex:w,indices:C,postModify:p},{regex:V,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<Q.length;se++){const de=Q[se],ge=de.regex.exec(e);if(ge){const I=ge[de.indices.bucket];let A=ge[de.indices.path];A||(A=""),r=new li(I,A),de.postModify(r);break}}if(r==null)throw aO(e);return r}}class uO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function cO(t,e,n){let r=1,a=null,l=null,c=!1,f=0;function g(){return f===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function E(O){a=setTimeout(()=>{a=null,t(w,g())},O)}function b(){l&&clearTimeout(l)}function w(O,...V){if(p){b();return}if(O){b(),v.call(null,O,...V);return}if(g()||c){b(),v.call(null,O,...V);return}r<64&&(r*=2);let Q;f===1?(f=2,Q=0):Q=(r+Math.random())*1e3,E(Q)}let C=!1;function L(O){C||(C=!0,b(),!p&&(a!==null?(O||(f=2),clearTimeout(a),E(0)):O||(f=1)))}return E(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function hO(t){t(!1)}function dO(t){return t!==void 0}function xT(t,e,n,r){if(r<e)throw wT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw wT(`Invalid value for '${t}'. Expected ${n} or less.`)}function fO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var ld;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ld||(ld={}));function mO(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}class gO{constructor(e,n,r,a,l,c,f,g,p,v,E,b=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,L)=>{this.resolve_=C,this.reject_=L,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new bh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const g=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===ld.NO_ERROR,g=l.getStatus();if(!f||mO(g,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ld.ABORT;r(!1,new bh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;r(!0,new bh(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());dO(g)?l(g):l()}catch(g){c(g)}else if(f!==null){const g=iO();g.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,g)):c(g)}else if(a.canceled){const g=this.appDelete_?Ob():sO();c(g)}else{const g=rO();c(g)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=cO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _O(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TO(t,e,n,r,a,l,c=!0,f=!1){const g=fO(t.urlParams),p=t.url+g,v=Object.assign({},t.headers);return _O(v,e),pO(v,n),yO(v,l),vO(v,r),new gO(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}function EO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class ud{constructor(e,n){this._service=e,n instanceof li?this._location=n:this._location=li.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ud(e,n)}get root(){const e=new li(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SO(this._location.path)}get storage(){return this._service}get parent(){const e=EO(this._location.path);if(e===null)return null;const n=new li(this._location.bucket,e);return new ud(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lO(e)}}function RT(t,e){const n=e?.[eO];return n==null?null:li.makeFromBucketSpec(n,t)}function bO(t,e,n,r={}){t.host=`${e}:${n}`;const a=va(e);a&&(op(`https://${t.host}/b`),lp("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:gE(l,t.app.options.projectId))}class wO{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Mb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tO,this._maxUploadRetryTime=nO,this._requests=new Set,a!=null?this._bucket=li.makeFromBucketSpec(a,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=li.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ud(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new uO(Ob());{const c=TO(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const AT="@firebase/storage",CT="0.14.0";const Vb="storage";function xO(t=hp(),e){t=kt(t);const r=md(t,Vb).getImmediate({identifier:e}),a=dE("storage");return a&&RO(r,...a),r}function RO(t,e,n,r={}){bO(t,e,n,r)}function AO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new wO(n,r,a,e,Ta)}function CO(){ma(new vs(Vb,AO,"PUBLIC").setMultipleInstances(!0)),ji(AT,CT,""),ji(AT,CT,"esm2020")}CO();const NO={apiKey:"AIzaSyAtZ2GAFRhbkYKxa6ObUwvKziQvvh7b-AE",authDomain:"pagoda-e927e.firebaseapp.com",projectId:"pagoda-e927e",storageBucket:"pagoda-e927e.firebasestorage.app",messagingSenderId:"755960810296",appId:"1:755960810296:web:317fcaca00f25112058fcd",measurementId:"G-2HD6RG2N5P"},ty=_E(NO),Fo=VM(ty),lg=MI(ty);xO(ty);const Pb=P.createContext();function Uu(){return P.useContext(Pb)}function IO({children:t}){const[e,n]=P.useState(null),[r,a]=P.useState(!0);function l(g,p){return yN(lg,g,p)}function c(){return EN(lg)}P.useEffect(()=>TN(lg,p=>{n(p),a(!1)}),[]);const f={currentUser:e,login:l,logout:c,isAdmin:!!e};return y.jsx(Pb.Provider,{value:f,children:!r&&t})}let DO={data:""},MO=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||DO},OO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,VO=/\/\*[^]*?\*\/|  +/g,NT=/\n+/g,hs=(t,e)=>{let n="",r="",a="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":r+=l[1]=="f"?hs(c,l):l+"{"+hs(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=hs(c,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,f):f?f+" "+g:g)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=hs.p?hs.p(l,c):l+":"+c+";")}return n+(e&&a?e+"{"+a+"}":a)+r},gr={},kb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+kb(t[n]);return e}return t},PO=(t,e,n,r,a)=>{let l=kb(t),c=gr[l]||(gr[l]=(g=>{let p=0,v=11;for(;p<g.length;)v=101*v+g.charCodeAt(p++)>>>0;return"go"+v})(l));if(!gr[c]){let g=l!==t?t:(p=>{let v,E,b=[{}];for(;v=OO.exec(p.replace(VO,""));)v[4]?b.shift():v[3]?(E=v[3].replace(NT," ").trim(),b.unshift(b[0][E]=b[0][E]||{})):b[0][v[1]]=v[2].replace(NT," ").trim();return b[0]})(t);gr[c]=hs(a?{["@keyframes "+c]:g}:g,n?"":"."+c)}let f=n&&gr.g?gr.g:null;return n&&(gr.g=gr[c]),((g,p,v,E)=>{E?p.data=p.data.replace(E,g):p.data.indexOf(g)===-1&&(p.data=v?g+p.data:p.data+g)})(gr[c],e,r,f),c},kO=(t,e,n)=>t.reduce((r,a,l)=>{let c=e[l];if(c&&c.call){let f=c(n),g=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=g?"."+g:f&&typeof f=="object"?f.props?"":hs(f,""):f===!1?"":f}return r+a+(c??"")},"");function kd(t){let e=this||{},n=t.call?t(e.p):t;return PO(n.unshift?n.raw?kO(n,[].slice.call(arguments,1),e.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):n,MO(e.target),e.g,e.o,e.k)}let jb,Gg,Kg;kd.bind({g:1});let xr=kd.bind({k:1});function jO(t,e,n,r){hs.p=e,jb=t,Gg=n,Kg=r}function Is(t,e){let n=this||{};return function(){let r=arguments;function a(l,c){let f=Object.assign({},l),g=f.className||a.className;n.p=Object.assign({theme:Gg&&Gg()},f),n.o=/ *go\d+/.test(g),f.className=kd.apply(n,r)+(g?" "+g:"");let p=t;return t[0]&&(p=f.as||t,delete f.as),Kg&&p[0]&&Kg(f),jb(p,f)}return a}}var LO=t=>typeof t=="function",cd=(t,e)=>LO(t)?t(e):t,UO=(()=>{let t=0;return()=>(++t).toString()})(),Lb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),zO=20,ny="default",Ub=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return Ub(t,{type:t.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},zh=[],zb={toasts:[],pausedAt:void 0,settings:{toastLimit:zO}},ki={},Bb=(t,e=ny)=>{ki[e]=Ub(ki[e]||zb,t),zh.forEach(([n,r])=>{n===e&&r(ki[e])})},Hb=t=>Object.keys(ki).forEach(e=>Bb(t,e)),BO=t=>Object.keys(ki).find(e=>ki[e].toasts.some(n=>n.id===t)),jd=(t=ny)=>e=>{Bb(e,t)},HO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},FO=(t={},e=ny)=>{let[n,r]=P.useState(ki[e]||zb),a=P.useRef(ki[e]);P.useEffect(()=>(a.current!==ki[e]&&r(ki[e]),zh.push([e,r]),()=>{let c=zh.findIndex(([f])=>f===e);c>-1&&zh.splice(c,1)}),[e]);let l=n.toasts.map(c=>{var f,g,p;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((f=t[c.type])==null?void 0:f.removeDelay)||t?.removeDelay,duration:c.duration||((g=t[c.type])==null?void 0:g.duration)||t?.duration||HO[c.type],style:{...t.style,...(p=t[c.type])==null?void 0:p.style,...c.style}}});return{...n,toasts:l}},qO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||UO()}),zu=t=>(e,n)=>{let r=qO(e,t,n);return jd(r.toasterId||BO(r.id))({type:2,toast:r}),r.id},zt=(t,e)=>zu("blank")(t,e);zt.error=zu("error");zt.success=zu("success");zt.loading=zu("loading");zt.custom=zu("custom");zt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?jd(e)(n):Hb(n)};zt.dismissAll=t=>zt.dismiss(void 0,t);zt.remove=(t,e)=>{let n={type:4,toastId:t};e?jd(e)(n):Hb(n)};zt.removeAll=t=>zt.remove(void 0,t);zt.promise=(t,e,n)=>{let r=zt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?cd(e.success,a):void 0;return l?zt.success(l,{id:r,...n,...n?.success}):zt.dismiss(r),a}).catch(a=>{let l=e.error?cd(e.error,a):void 0;l?zt.error(l,{id:r,...n,...n?.error}):zt.dismiss(r)}),t};var $O=1e3,GO=(t,e="default")=>{let{toasts:n,pausedAt:r}=FO(t,e),a=P.useRef(new Map).current,l=P.useCallback((E,b=$O)=>{if(a.has(E))return;let w=setTimeout(()=>{a.delete(E),c({type:4,toastId:E})},b);a.set(E,w)},[]);P.useEffect(()=>{if(r)return;let E=Date.now(),b=n.map(w=>{if(w.duration===1/0)return;let C=(w.duration||0)+w.pauseDuration-(E-w.createdAt);if(C<0){w.visible&&zt.dismiss(w.id);return}return setTimeout(()=>zt.dismiss(w.id,e),C)});return()=>{b.forEach(w=>w&&clearTimeout(w))}},[n,r,e]);let c=P.useCallback(jd(e),[e]),f=P.useCallback(()=>{c({type:5,time:Date.now()})},[c]),g=P.useCallback((E,b)=>{c({type:1,toast:{id:E,height:b}})},[c]),p=P.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),v=P.useCallback((E,b)=>{let{reverseOrder:w=!1,gutter:C=8,defaultPosition:L}=b||{},O=n.filter(Q=>(Q.position||L)===(E.position||L)&&Q.height),V=O.findIndex(Q=>Q.id===E.id),F=O.filter((Q,se)=>se<V&&Q.visible).length;return O.filter(Q=>Q.visible).slice(...w?[F+1]:[0,F]).reduce((Q,se)=>Q+(se.height||0)+C,0)},[n]);return P.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let b=a.get(E.id);b&&(clearTimeout(b),a.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:g,startPause:f,endPause:p,calculateOffset:v}}},KO=xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YO=xr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QO=xr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XO=Is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JO=xr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,WO=Is("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JO} 1s linear infinite;
`,ZO=xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eV=xr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tV=Is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nV=Is("div")`
  position: absolute;
`,iV=Is("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rV=xr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sV=Is("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aV=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?P.createElement(sV,null,e):e:n==="blank"?null:P.createElement(iV,null,P.createElement(WO,{...r}),n!=="loading"&&P.createElement(nV,null,n==="error"?P.createElement(XO,{...r}):P.createElement(tV,{...r})))},oV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,uV="0%{opacity:0;} 100%{opacity:1;}",cV="0%{opacity:1;} 100%{opacity:0;}",hV=Is("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dV=Is("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fV=(t,e)=>{let n=t.includes("top")?1:-1,[r,a]=Lb()?[uV,cV]:[oV(n),lV(n)];return{animation:e?`${xr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mV=P.memo(({toast:t,position:e,style:n,children:r})=>{let a=t.height?fV(t.position||e||"top-center",t.visible):{opacity:0},l=P.createElement(aV,{toast:t}),c=P.createElement(dV,{...t.ariaProps},cd(t.message,t));return P.createElement(hV,{className:t.className,style:{...a,...n,...t.style}},typeof r=="function"?r({icon:l,message:c}):P.createElement(P.Fragment,null,l,c))});jO(P.createElement);var gV=({id:t,className:e,style:n,onHeightUpdate:r,children:a})=>{let l=P.useCallback(c=>{if(c){let f=()=>{let g=c.getBoundingClientRect().height;r(t,g)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return P.createElement("div",{ref:l,className:e,style:n},a)},pV=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...a}},yV=kd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,_V=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:a,toasterId:l,containerStyle:c,containerClassName:f})=>{let{toasts:g,handlers:p}=GO(n,l);return P.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...c},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},g.map(v=>{let E=v.position||e,b=p.calculateOffset(v,{reverseOrder:t,gutter:r,defaultPosition:e}),w=pV(E,b);return P.createElement(gV,{id:v.id,key:v.id,onHeightUpdate:p.updateHeight,className:v.visible?yV:"",style:w},v.type==="custom"?cd(v.message,v):a?a(v):P.createElement(mV,{toast:v,position:E}))}))},St=zt;const vV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),IT=t=>{const e=TV(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),EV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var SV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bV=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},g)=>P.createElement("svg",{ref:g,...SV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Fb("lucide",a),...!l&&!EV(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,v])=>P.createElement(p,v)),...Array.isArray(l)?l:[l]]));const Ie=(t,e)=>{const n=P.forwardRef(({className:r,...a},l)=>P.createElement(bV,{ref:l,iconNode:e,className:Fb(`lucide-${vV(IT(t))}`,`lucide-${t}`,r),...a}));return n.displayName=IT(t),n};const wV=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Wl=Ie("arrow-up-down",wV);const xV=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],RV=Ie("award",xV);const AV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yg=Ie("bell",AV);const CV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],NV=Ie("book-open",CV);const IV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],DV=Ie("briefcase",IV);const MV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OV=Ie("calendar",MV);const VV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qb=Ie("chevron-left",VV);const PV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iy=Ie("chevron-right",PV);const kV=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jV=Ie("download",kV);const LV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$b=Ie("external-link",LV);const UV=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],zV=Ie("file-braces",UV);const BV=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],HV=Ie("file-spreadsheet",BV);const FV=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ld=Ie("file-text",FV);const qV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],$V=Ie("folder",qV);const GV=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],KV=Ie("gamepad-2",GV);const YV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Gb=Ie("house",YV);const QV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XV=Ie("image",QV);const JV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Kb=Ie("link",JV);const WV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DT=Ie("lock",WV);const ZV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yb=Ie("log-in",ZV);const e3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],t3=Ie("log-out",e3);const n3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i3=Ie("mail",n3);const r3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],s3=Ie("map-pin",r3);const a3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],MT=Ie("megaphone",a3);const o3=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Qb=Ie("music",o3);const l3=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Xb=Ie("network",l3);const u3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],c3=Ie("pencil",u3);const h3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],d3=Ie("phone",h3);const f3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jb=Ie("plus",f3);const m3=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Wb=Ie("scroll-text",m3);const g3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zb=Ie("search",g3);const p3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y3=Ie("settings",p3);const _3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],v3=Ie("square-pen",_3);const T3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ew=Ie("trash-2",T3);const E3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OT=Ie("triangle-alert",E3);const S3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VT=Ie("user-plus",S3);const b3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tw=Ie("user",b3);const w3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nw=Ie("users",w3);const x3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],R3=Ie("video",x3);const A3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],C3=Ie("wrench",A3);const N3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ud=Ie("x",N3);const I3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],D3=Ie("youtube",I3);function M3({alertCount:t=0}){const{currentUser:e,logout:n,isAdmin:r}=Uu(),a=Rr(),l=[{path:"/",label:"Trang Ch",icon:Gb},{path:"/org-chart",label:"S  T Chc",icon:Xb},{path:"/members",label:"Danh Sch",icon:nw},{path:"/documents",label:"Ti Liu",icon:Ld}],c=g=>a.pathname===g,f=async()=>{try{await n()}catch(g){console.error("Logout error:",g)}};return y.jsxs("div",{className:"navbar bg-base-200 shadow-lg sticky top-0 z-50",children:[y.jsxs("div",{className:"navbar-start gap-0",children:[y.jsxs("div",{className:"dropdown",children:[y.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-sm px-2 lg:hidden",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),y.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:l.map(g=>y.jsx("li",{children:y.jsxs(qn,{to:g.path,className:c(g.path)?"active":"",children:[y.jsx(g.icon,{className:"w-4 h-4"}),g.label]})},g.path))})]}),y.jsxs(qn,{to:"/",className:"btn btn-ghost text-base md:text-xl px-1 md:px-3",children:[y.jsx("span",{className:"text-primary",children:"GPT"})," Vnh An"]})]}),y.jsx("div",{className:"navbar-center hidden lg:flex",children:y.jsx("ul",{className:"menu menu-horizontal px-1",children:l.map(g=>y.jsx("li",{children:y.jsxs(qn,{to:g.path,className:c(g.path)?"active bg-primary text-primary-content":"",children:[y.jsx(g.icon,{className:"w-4 h-4"}),g.label]})},g.path))})}),y.jsxs("div",{className:"navbar-end gap-2",children:[t>0&&y.jsx(qn,{to:"/members?filter=alerts",className:"btn btn-ghost btn-circle",children:y.jsxs("div",{className:"indicator",children:[y.jsx(Yg,{className:"w-5 h-5"}),y.jsx("span",{className:"badge badge-sm badge-warning indicator-item",children:t})]})}),r?y.jsxs("div",{className:"dropdown dropdown-end",children:[y.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar placeholder",children:y.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:y.jsx("span",{className:"text-sm",children:"QT"})})}),y.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[y.jsx("li",{className:"menu-title",children:y.jsx("span",{children:e?.email})}),y.jsx("li",{children:y.jsxs("button",{onClick:f,children:[y.jsx(t3,{className:"w-4 h-4"}),"ng Xut"]})})]})]}):y.jsxs(qn,{to:"/login",className:"btn btn-primary btn-sm px-2 md:px-3",children:[y.jsx(Yb,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden md:inline",children:"Qun Tr"}),y.jsx("span",{className:"md:hidden",children:"QT"})]})]})]})}function qo(t,e=null){const[n,r]=P.useState([]),[a,l]=P.useState(!0),[c,f]=P.useState(null);return P.useEffect(()=>{let g=_b(Fo,t);e&&(g=$M(g,GM(e)));const p=setTimeout(()=>{a&&(f("Kt ni Firebase qu chm. Vui lng kim tra Firestore Rules."),l(!1))},1e4),v=Db(g,E=>{clearTimeout(p);const b=E.docs.map(w=>({id:w.id,...w.data()}));r(b),l(!1),f(null)},E=>{clearTimeout(p),console.error("Firestore error:",E);let b=E.message;E.code==="permission-denied"&&(b="Khng c quyn truy cp. Vui lng kim tra Firestore Rules trong Firebase Console."),f(b),l(!1)});return()=>{clearTimeout(p),v()}},[t,e]),{documents:n,loading:a,error:c}}function iw(t,e){const[n,r]=P.useState(null),[a,l]=P.useState(!0),[c,f]=P.useState(null);return P.useEffect(()=>{const g=ju(Fo,t,e),p=Db(g,v=>{v.exists()?r({id:v.id,...v.data()}):r(null),l(!1)},v=>{console.error("Firestore error:",v),f(v.message),l(!1)});return()=>p()},[t,e]),{document:n,loading:a,error:c}}async function ry(t,e){return(await WM(_b(Fo,t),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id}async function PT(t,e,n){const r=ju(Fo,t,e);await QM(r,{...n,updatedAt:new Date().toISOString()},{merge:!0})}async function rw(t,e,n){const r=ju(Fo,t,e);await XM(r,{...n,updatedAt:new Date().toISOString()})}async function sw(t,e){const n=ju(Fo,t,e);await JM(n)}function sy(t){return new Date().getFullYear()-t}function O3(t){const e=sy(t);return e<7?{branch:"Cha  tui",code:"none",ageRange:"Di 7 tui"}:e>=7&&e<=12?{branch:"Ngnh Oanh",code:"oanh",ageRange:"7-12 tui"}:e>=13&&e<=17?{branch:"Ngnh Thiu",code:"thieu",ageRange:"13-17 tui"}:{branch:"Ngnh Thanh",code:"thanh",ageRange:"18+ tui"}}const V3=["on trng","on ph","doan truong","doan pho","on ph 1","on ph 2","doan pho 1","doan pho 2","doan_truong","doan_pho","doan_pho_1","doan_pho_2"];function P3(t){if(!t)return!1;const e=t.toLowerCase().trim();return V3.some(n=>e.includes(n))}function Bh(t,e,n=null){if(P3(n)||!(e==="oanh_nam"||e==="oanh_nu")&&!(e==="thieu_nam"||e==="thieu_nu"))return null;const l=O3(t);return!e||e===l.code||e.replace(/_nam|_nu/g,"")===l.code?null:{from:e,to:l.code,toBranchName:l.branch,age:sy(t)}}function aw(t){return t.map(e=>{const n=Bh(e.birthYear,e.nganh,e.chucVu);return n?{...e,transition:n}:null}).filter(Boolean)}const Oo={oanh_nam:"Oanh Nam",oanh_nu:"Oanh N",thieu_nam:"Thiu Nam",thieu_nu:"Thiu N",thanh_nam:"Thanh Nam",thanh_nu:"Thanh N",ban_huynh_truong:"Ban Huynh Trng"};function k3(){const{documents:t}=qo("members"),e=aw(t).length;return y.jsxs("div",{className:"min-h-screen bg-base-100",children:[y.jsx(M3,{alertCount:e}),y.jsx("main",{className:"container mx-auto px-4 py-6",children:y.jsx(iR,{})}),y.jsx("footer",{className:"footer footer-center p-4 bg-base-200 text-base-content mt-auto",children:y.jsx("div",{children:y.jsx("p",{children:"Gia nh Pht T Vnh An - Cha Vnh An"})})}),y.jsx(_V,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--fallback-b1, oklch(var(--b1)))",color:"var(--fallback-bc, oklch(var(--bc)))"}}})]})}const j3={ban_huynh_truong:"Ban Huynh Trng",nganh_thanh:"Ngnh Thanh",nganh_thieu:"Ngnh Thiu",nganh_oanh:"Ngnh Oanh"};function ay({member:t,isOpen:e,onClose:n,isAdmin:r,onEdit:a}){return!e||!t?null:y.jsxs("dialog",{className:"modal modal-open",children:[y.jsxs("div",{className:"modal-box",children:[y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:n,children:y.jsx(Ud,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"avatar placeholder",children:y.jsx("div",{className:"bg-primary text-primary-content rounded-full w-24",children:t.photoUrl?y.jsx("img",{src:t.photoUrl,alt:t.name}):y.jsx(tw,{className:"w-12 h-12"})})}),y.jsxs("div",{className:"text-center",children:[y.jsx("h3",{className:"font-bold text-xl",children:t.name}),y.jsx("p",{className:"text-primary font-medium",children:t.role}),t.phapDanh&&y.jsxs("p",{className:"text-sm opacity-70 italic",children:["Php danh: ",t.phapDanh]})]}),y.jsxs("div",{className:"w-full space-y-3 mt-4",children:[t.birthYear&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(OV,{className:"w-5 h-5 text-primary"}),y.jsxs("span",{children:["Nm sinh: ",t.birthYear]})]}),t.phone&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(d3,{className:"w-5 h-5 text-primary"}),y.jsx("span",{children:t.phone})]}),t.address&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(s3,{className:"w-5 h-5 text-primary"}),y.jsx("span",{children:t.address})]}),t.capBac&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(RV,{className:"w-5 h-5 text-primary"}),y.jsxs("span",{children:["Cp bc: ",t.capBac]})]}),t.chucVu&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(DV,{className:"w-5 h-5 text-primary"}),y.jsxs("span",{children:["Chc v: ",t.chucVu]})]}),t.nganhChinh&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(nw,{className:"w-5 h-5 text-primary"}),y.jsxs("span",{children:["Ngnh: ",j3[t.nganhChinh]||t.nganhChinh]})]}),t.quaTrinhSinhHoat&&y.jsxs("div",{className:"mt-4",children:[y.jsx("h4",{className:"font-semibold mb-2",children:"Qu trnh sinh hot:"}),y.jsx("p",{className:"text-sm bg-base-200 p-3 rounded-lg whitespace-pre-wrap",children:t.quaTrinhSinhHoat})]})]})]}),y.jsxs("div",{className:"modal-action",children:[r&&a&&y.jsxs("button",{className:"btn btn-primary",onClick:()=>a(t),children:[y.jsx(c3,{className:"w-4 h-4"}),"Chnh Sa"]}),y.jsx("button",{className:"btn",onClick:n,children:"ng"})]})]}),y.jsx("form",{method:"dialog",className:"modal-backdrop",children:y.jsx("button",{onClick:n,children:"close"})})]})}const ug="vinhan_dismissed_announcements";function L3(){const{documents:t,loading:e}=qo("documents"),[n,r]=P.useState([]),[a,l]=P.useState(0);P.useEffect(()=>{try{const w=localStorage.getItem(ug);w&&r(JSON.parse(w))}catch(w){console.error("Error loading dismissed announcements:",w)}},[]);const c=P.useMemo(()=>t.filter(w=>w.category==="cong-van"&&w.showAnnouncement===!0&&!n.includes(w.id)),[t,n]);P.useEffect(()=>{a>=c.length&&c.length>0&&l(0)},[c.length,a]);const f=w=>{const C=[...n,w];r(C);try{localStorage.setItem(ug,JSON.stringify(C))}catch(L){console.error("Error saving dismissed announcements:",L)}},g=()=>{r([]);try{localStorage.removeItem(ug)}catch(w){console.error("Error clearing dismissed announcements:",w)}},p=t.some(w=>w.category==="cong-van"&&w.showAnnouncement===!0&&n.includes(w.id)),v=()=>{l(w=>w>0?w-1:c.length-1)},E=()=>{l(w=>w<c.length-1?w+1:0)};if(e)return null;if(c.length===0&&p)return y.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6 p-3 bg-base-200 rounded-xl text-sm",children:[y.jsx("span",{className:"opacity-70",children:"Bn  n thng bo."}),y.jsx("button",{onClick:g,className:"link link-primary font-medium",children:"Xem li"})]});if(c.length===0)return null;const b=c[a];return y.jsxs("div",{className:"rounded-2xl shadow-lg mb-6 p-4 flex-col sm:flex-row gap-3 flex text-white",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)"},children:[y.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0 w-full sm:w-auto",children:[y.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl flex-shrink-0",children:y.jsx(Wb,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsx("span",{className:"px-2 py-0.5 bg-white/25 backdrop-blur-sm rounded-full text-xs font-semibold flex-shrink-0",children:"Cng Vn Mi"}),c.length>1&&y.jsxs("span",{className:"text-xs text-white/80 flex-shrink-0",children:["(",a+1,"/",c.length,")"]})]}),y.jsx("h3",{className:"font-bold text-sm md:text-base truncate max-w-full mt-1",children:b.title}),b.description&&y.jsx("p",{className:"text-xs md:text-sm text-white/85 line-clamp-2 break-words",children:b.description})]})]}),y.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 justify-end w-full sm:w-auto",children:[c.length>1&&y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn btn-ghost btn-xs btn-circle text-white hover:bg-white/20",onClick:v,title:"Trc",children:y.jsx(qb,{className:"w-4 h-4"})}),y.jsx("button",{className:"btn btn-ghost btn-xs btn-circle text-white hover:bg-white/20",onClick:E,title:"Sau",children:y.jsx(iy,{className:"w-4 h-4"})})]}),y.jsxs("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm bg-white/25 hover:bg-white/35 border-0 text-white gap-1",children:[y.jsx($b,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden md:inline",children:"Xem"})]}),y.jsx("button",{className:"btn btn-ghost btn-sm btn-circle text-white hover:bg-white/20",onClick:()=>f(b.id),title:"n thng bo ny",children:y.jsx(Ud,{className:"w-4 h-4"})})]})]})}const cg="/vinhan/assets/logo-gdpt-viet-nam.png-BxIM9NSI.webp";function U3(){const{documents:t,loading:e,error:n}=qo("members"),[r,a]=P.useState(null),l=aw(t),c=t.reduce((f,g)=>(f[g.nganh]=(f[g.nganh]||0)+1,f),{});return y.jsxs("div",{className:"space-y-8",children:[y.jsx(L3,{}),y.jsx("div",{className:"hero bg-base-200 rounded-box py-12",children:y.jsx("div",{className:"hero-content text-center",children:y.jsxs("div",{children:[y.jsx("img",{src:cg,alt:"Logo GPT Vit Nam",className:"w-24 h-24 mx-auto mb-4"}),y.jsxs("h1",{className:"text-4xl md:text-5xl font-bold",children:[y.jsx("span",{className:"text-primary",children:"Gia nh Pht T"})," Vnh An"]}),y.jsx("p",{className:"py-4 text-lg opacity-80",children:"Cha Vnh An - H thng qun l on sinh"}),y.jsx("p",{className:"opacity-60",children:"Qun l on sinh v ti liu sinh hot"})]})})}),n&&y.jsxs("div",{className:"alert alert-error",children:[y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold",children:"Li kt ni Firebase"}),y.jsx("p",{className:"text-sm",children:n}),y.jsx("p",{className:"text-sm mt-2",children:"Vui lng vo Firebase Console  Firestore Database  Rules v t rules cho php c."})]})]}),e?y.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-2",children:[y.jsx("span",{className:"loading loading-spinner loading-lg"}),y.jsx("p",{className:"text-sm opacity-70",children:"ang kt ni Firebase..."})]}):!n&&y.jsxs("div",{className:"stats stats-vertical md:stats-horizontal shadow w-full",children:[y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-figure",children:y.jsx("img",{src:cg,alt:"GPT",className:"w-12 h-12"})}),y.jsx("div",{className:"stat-title",children:"Tng on Sinh"}),y.jsx("div",{className:"stat-value text-primary",children:t.length})]}),y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-figure text-warning",children:y.jsx("span",{className:"text-2xl",children:"Oanh"})}),y.jsx("div",{className:"stat-title",children:"Ngnh Oanh"}),y.jsx("div",{className:"stat-value",children:(c.oanh_nam||0)+(c.oanh_nu||0)})]}),y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-figure text-info",children:y.jsx("span",{className:"text-2xl",children:"Thiu"})}),y.jsx("div",{className:"stat-title",children:"Ngnh Thiu"}),y.jsx("div",{className:"stat-value",children:(c.thieu_nam||0)+(c.thieu_nu||0)})]}),y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-figure text-success",children:y.jsx("span",{className:"text-2xl",children:"Thanh"})}),y.jsx("div",{className:"stat-title",children:"Ngnh Thanh"}),y.jsx("div",{className:"stat-value",children:(c.thanh_nam||0)+(c.thanh_nu||0)})]})]}),l.length>0&&y.jsxs("div",{className:"alert alert-warning",children:[y.jsx(Yg,{className:"w-5 h-5"}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold",children:"Cnh Bo Chuyn Ngnh"}),y.jsxs("p",{className:"text-sm",children:["C ",l.length," on sinh cn chuyn ngnh theo  tui"]})]}),y.jsx(qn,{to:"/members?filter=alerts",className:"btn btn-sm btn-warning",children:"Xem Danh Sch"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsx(qn,{to:"/org-chart",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:y.jsxs("div",{className:"card-body items-center text-center",children:[y.jsx(Xb,{className:"w-12 h-12 text-primary"}),y.jsx("h2",{className:"card-title",children:"S  T Chc"}),y.jsx("p",{className:"opacity-70",children:"Xem cu trc t chc GPT"})]})}),y.jsx(qn,{to:"/members",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:y.jsxs("div",{className:"card-body items-center text-center",children:[y.jsx("img",{src:cg,alt:"GPT",className:"w-12 h-12"}),y.jsx("h2",{className:"card-title",children:"Danh Sch on Sinh"}),y.jsx("p",{className:"opacity-70",children:"Qun l thng tin on sinh"})]})}),y.jsx(qn,{to:"/documents",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:y.jsxs("div",{className:"card-body items-center text-center",children:[y.jsx(Ld,{className:"w-12 h-12 text-accent"}),y.jsx("h2",{className:"card-title",children:"Ti Liu"}),y.jsx("p",{className:"opacity-70",children:"Pht php, bi ht, tr chi"})]})})]}),l.length>0&&y.jsx("div",{className:"card bg-base-200",children:y.jsxs("div",{className:"card-body",children:[y.jsxs("h3",{className:"card-title text-warning",children:[y.jsx(Yg,{className:"w-5 h-5"}),"on Sinh Cn Chuyn Ngnh"]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"table table-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"H Tn"}),y.jsx("th",{children:"Tui"}),y.jsx("th",{children:"Ngnh Hin Ti"}),y.jsx("th",{children:"Nn Chuyn Sang"})]})}),y.jsx("tbody",{children:l.slice(0,5).map(f=>y.jsxs("tr",{className:"hover cursor-pointer",onClick:()=>a(f),children:[y.jsx("td",{children:f.hoTen}),y.jsx("td",{children:f.transition.age}),y.jsx("td",{children:y.jsx("span",{className:"badge badge-outline",children:Oo[f.nganh]})}),y.jsx("td",{children:y.jsx("span",{className:"badge badge-warning",children:f.transition.toBranchName})})]},f.id))})]})}),l.length>5&&y.jsx("div",{className:"card-actions justify-end",children:y.jsxs(qn,{to:"/members?filter=alerts",className:"btn btn-sm btn-outline",children:["Xem tt c (",l.length,")"]})})]})}),y.jsx(ay,{member:r?{name:r.hoTen,phapDanh:r.phapDanh,photoUrl:r.photoUrl,birthYear:r.birthYear,phone:r.phone,address:r.address,capBac:r.capBac,chucVu:r.chucVu,nganhChinh:r.nganhChinh,quaTrinhSinhHoat:r.quaTrinhSinhHoat,role:Oo[r.nganh]||r.nganh}:null,isOpen:!!r,onClose:()=>a(null)})]})}const z3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3c!--%20Lotus%20flower%20for%20GDPT%20--%3e%3c!--%20Center%20petal%20--%3e%3cellipse%20cx='50'%20cy='45'%20rx='8'%20ry='25'%20fill='%23f472b6'/%3e%3c!--%20Left%20petals%20--%3e%3cellipse%20cx='35'%20cy='50'%20rx='8'%20ry='22'%20fill='%23f472b6'%20transform='rotate(-25%2035%2050)'/%3e%3cellipse%20cx='22'%20cy='58'%20rx='7'%20ry='18'%20fill='%23ec4899'%20transform='rotate(-45%2022%2058)'/%3e%3c!--%20Right%20petals%20--%3e%3cellipse%20cx='65'%20cy='50'%20rx='8'%20ry='22'%20fill='%23f472b6'%20transform='rotate(25%2065%2050)'/%3e%3cellipse%20cx='78'%20cy='58'%20rx='7'%20ry='18'%20fill='%23ec4899'%20transform='rotate(45%2078%2058)'/%3e%3c!--%20Inner%20petals%20--%3e%3cellipse%20cx='42'%20cy='48'%20rx='6'%20ry='18'%20fill='%23fb7185'%20transform='rotate(-12%2042%2048)'/%3e%3cellipse%20cx='58'%20cy='48'%20rx='6'%20ry='18'%20fill='%23fb7185'%20transform='rotate(12%2058%2048)'/%3e%3c!--%20Center%20--%3e%3ccircle%20cx='50'%20cy='55'%20r='8'%20fill='%23fbbf24'/%3e%3ccircle%20cx='50'%20cy='55'%20r='5'%20fill='%23f59e0b'/%3e%3c!--%20Base%20leaves%20--%3e%3cellipse%20cx='30'%20cy='78'%20rx='18'%20ry='8'%20fill='%2322c55e'%20transform='rotate(-15%2030%2078)'/%3e%3cellipse%20cx='70'%20cy='78'%20rx='18'%20ry='8'%20fill='%2322c55e'%20transform='rotate(15%2070%2078)'/%3e%3cellipse%20cx='50'%20cy='82'%20rx='20'%20ry='6'%20fill='%2316a34a'/%3e%3c/svg%3e";function B3({node:t,onClick:e,isSelected:n}){const r=a=>({gia_truong:{backgroundColor:"#d97706"},lien_doan_truong:{backgroundColor:"#f59e0b"},lien_doan_pho:{backgroundColor:"#78716c"},thu_ky:{backgroundColor:"#a8a29e"},thu_quy:{backgroundColor:"#a8a29e"},doan_truong:{backgroundColor:"#059669"},doan_pho:{backgroundColor:"#14b8a6"}})[a]||{backgroundColor:"#a8a29e"};return y.jsx("div",{className:`
        cursor-pointer transition-all duration-200
        hover:scale-105 hover:shadow-lg inline-block
        ${n?"ring-2 ring-primary ring-offset-2":""}
      `,onClick:()=>e(t),children:y.jsx("div",{className:"text-white rounded-lg p-2 md:p-4 shadow-md w-[120px] md:w-[180px] min-h-[140px] md:min-h-[200px]",style:r(t.roleCode),children:y.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 md:gap-2 h-full",children:[y.jsx("div",{className:"w-10 h-10 md:w-14 md:h-14 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"rgba(255, 255, 255, 0.25)"},children:t.photoUrl?y.jsx("img",{src:t.photoUrl,alt:t.name,className:"w-full h-full rounded-full object-cover"}):y.jsx("img",{src:z3,alt:"Hoa Sen",className:"w-6 h-6 md:w-8 md:h-8"})}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"font-semibold text-xs md:text-sm leading-tight",children:t.name||"Cha c"}),y.jsx("p",{className:"text-[10px] md:text-xs mt-0.5 md:mt-1",style:{opacity:.9},children:t.role}),t.phapDanh&&y.jsx("p",{className:"text-[10px] md:text-xs italic",style:{opacity:.8},children:t.phapDanh})]})]})})})}function H3({position:t,isOpen:e,onClose:n,members:r,onAssign:a}){const[l,c]=P.useState(""),[f,g]=P.useState("");if(!e||!t)return null;const p=r?.filter(E=>{const b=l.toLowerCase();return E.hoTen?.toLowerCase().includes(b)||E.phapDanh?.toLowerCase().includes(b)})||[],v=()=>{f&&(a(f),g(""),c(""))};return y.jsxs("dialog",{className:"modal modal-open",children:[y.jsxs("div",{className:"modal-box",children:[y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>{n(),g(""),c("")},children:y.jsx(Ud,{className:"w-4 h-4"})}),y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:y.jsx(VT,{className:"w-6 h-6 text-primary"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg",children:"Phn Cng Chc V"}),y.jsx("p",{className:"text-sm text-base-content/70",children:t.role})]})]}),y.jsx("div",{className:"form-control mb-4",children:y.jsxs("div",{className:"input input-bordered flex items-center gap-2",children:[y.jsx(Zb,{className:"w-4 h-4 opacity-50"}),y.jsx("input",{type:"text",placeholder:"Tm kim thnh vin...",className:"grow bg-transparent outline-none",value:l,onChange:E=>c(E.target.value)})]})}),y.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:p.length===0?y.jsx("p",{className:"text-center text-base-content/50 py-4",children:"Khng tm thy thnh vin"}):p.map(E=>y.jsxs("label",{className:`
                  flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors
                  ${f===E.id?"bg-primary/10 ring-2 ring-primary":"bg-base-200 hover:bg-base-300"}
                `,children:[y.jsx("input",{type:"radio",name:"member",className:"radio radio-primary",checked:f===E.id,onChange:()=>g(E.id)}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"font-medium",children:E.hoTen}),E.phapDanh&&y.jsx("p",{className:"text-sm text-base-content/60 italic",children:E.phapDanh})]}),E.photoUrl&&y.jsx("img",{src:E.photoUrl,alt:E.hoTen,className:"w-10 h-10 rounded-full object-cover"})]},E.id))}),y.jsxs("div",{className:"modal-action",children:[y.jsx("button",{className:"btn",onClick:()=>{n(),g(""),c("")},children:"Hy"}),y.jsxs("button",{className:"btn btn-primary",disabled:!f,onClick:v,children:[y.jsx(VT,{className:"w-4 h-4"}),"Phn Cng"]})]})]}),y.jsx("form",{method:"dialog",className:"modal-backdrop",children:y.jsx("button",{onClick:n,children:"close"})})]})}function F3({organization:t,isAdmin:e,onEditMember:n,onAssignMember:r,members:a}){const[l,c]=P.useState(null),[f,g]=P.useState(null),p=b=>{b.memberId?c(b):e&&b.positionKey&&g(b)},v=(b,w,C,L)=>y.jsx(B3,{node:{...b,name:b?.name||"Cha c",role:w,roleCode:C,phapDanh:b?.phapDanh,photoUrl:b?.photoUrl,memberId:b?.id,positionKey:L},onClick:p,isSelected:l?.memberId===b?.id}),E=b=>{const w=t.branches?.[b]||{},C={thanh_nam:{truong:"doanTruongThanhNamId",pho1:"doanPho1ThanhNamId",pho2:"doanPho2ThanhNamId"},thanh_nu:{truong:"doanTruongThanhNuId",pho1:"doanPho1ThanhNuId",pho2:"doanPho2ThanhNuId"},thieu_nam:{truong:"doanTruongThieuNamId",pho1:"doanPho1ThieuNamId",pho2:"doanPho2ThieuNamId"},thieu_nu:{truong:"doanTruongThieuNuId",pho1:"doanPho1ThieuNuId",pho2:"doanPho2ThieuNuId"},oanh_nam:{truong:"doanTruongOanhNamId",pho1:"doanPho1OanhNamId",pho2:"doanPho2OanhNamId"},oanh_nu:{truong:"doanTruongOanhNuId",pho1:"doanPho1OanhNuId",pho2:"doanPho2OanhNuId"}};return y.jsxs("div",{className:"flex flex-col items-center",children:[v(w.doanTruong,"on Trng","doan_truong",C[b].truong),y.jsxs("div",{className:"flex flex-col items-center w-full",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-3",style:{backgroundColor:"#9ca3af"}}),y.jsxs("div",{className:"flex items-start justify-center w-full",children:[y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[y.jsx("div",{className:"w-full h-0.5 rounded-l",style:{backgroundColor:"#9ca3af"}}),y.jsx("div",{className:"w-0.5 h-2 md:h-3",style:{backgroundColor:"#9ca3af"}})]}),y.jsxs("div",{className:"flex flex-col items-center flex-1",children:[y.jsx("div",{className:"w-full h-0.5 rounded-r",style:{backgroundColor:"#9ca3af"}}),y.jsx("div",{className:"w-0.5 h-2 md:h-3",style:{backgroundColor:"#9ca3af"}})]})]})]}),y.jsxs("div",{className:"flex flex-row gap-1 md:gap-4 justify-center",children:[v(w.doanPho1,"on Ph 1","doan_pho",C[b].pho1),v(w.doanPho2,"on Ph 2","doan_pho",C[b].pho2)]})]})};return y.jsxs("div",{className:"overflow-x-auto py-4 md:py-8",children:[y.jsxs("div",{className:"flex flex-col items-center min-w-fit",children:[y.jsxs("div",{className:"rounded-xl p-3 md:p-6 shadow-sm",style:{backgroundColor:"#fffbeb",border:"1px solid #fde68a"},children:[y.jsx("h3",{className:"text-lg md:text-2xl font-bold text-center mb-3 md:mb-6",style:{color:"#92400e"},children:"Ban Huynh Trng"}),y.jsxs("div",{className:"flex flex-col items-center",children:[v(t.giaTruong,"Gia Trng","gia_truong","giaTruongId"),y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fcd34d"}})]}),y.jsxs("div",{className:"flex flex-col items-center",children:[v(t.lienDoanTruong,"Lin on Trng","lien_doan_truong","lienDoanTruongId"),y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fcd34d"}})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-40px)] md:w-[calc(100%-80px)] h-0.5",style:{backgroundColor:"#fcd34d"}}),y.jsxs("div",{className:"flex flex-row justify-center gap-1 md:gap-8 pt-0",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fcd34d"}}),v(t.lienDoanPho,"Lin on Ph","lien_doan_pho","lienDoanPhoId")]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fcd34d"}}),v(t.thuKy,"Th K","thu_ky","thuKyId")]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fcd34d"}}),v(t.thuQuy,"Th Qu","thu_quy","thuQuyId")]})]})]})]}),y.jsx("div",{className:"w-0.5 h-4 md:h-6",style:{backgroundColor:"#d6d3d1"}}),y.jsxs("div",{className:"rounded-xl p-3 md:p-6 shadow-sm",style:{backgroundColor:"#ecfdf5",border:"1px solid #a7f3d0"},children:[y.jsx("h3",{className:"text-lg md:text-2xl font-bold text-center mb-2 md:mb-4",style:{color:"#047857"},children:"Ngnh Thanh"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#6ee7b7"}}),y.jsxs("div",{className:"relative w-full",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-60px)] md:w-[calc(100%-100px)] h-0.5",style:{backgroundColor:"#6ee7b7"}}),y.jsxs("div",{className:"flex flex-row gap-2 md:gap-8 justify-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#6ee7b7"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#059669"},children:"Thanh Nam"}),E("thanh_nam")]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#6ee7b7"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#059669"},children:"Thanh N"}),E("thanh_nu")]})]})]})]})]}),y.jsx("div",{className:"w-0.5 h-4 md:h-6",style:{backgroundColor:"#d6d3d1"}}),y.jsxs("div",{className:"rounded-xl p-3 md:p-6 shadow-sm",style:{backgroundColor:"#f0fdfa",border:"1px solid #99f6e4"},children:[y.jsx("h3",{className:"text-lg md:text-2xl font-bold text-center mb-2 md:mb-4",style:{color:"#0f766e"},children:"Ngnh Thiu"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#5eead4"}}),y.jsxs("div",{className:"relative w-full",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-60px)] md:w-[calc(100%-100px)] h-0.5",style:{backgroundColor:"#5eead4"}}),y.jsxs("div",{className:"flex flex-row gap-2 md:gap-8 justify-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#5eead4"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#0d9488"},children:"Thiu Nam"}),E("thieu_nam")]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#5eead4"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#0d9488"},children:"Thiu N"}),E("thieu_nu")]})]})]})]})]}),y.jsx("div",{className:"w-0.5 h-4 md:h-6",style:{backgroundColor:"#d6d3d1"}}),y.jsxs("div",{className:"rounded-xl p-3 md:p-6 shadow-sm",style:{backgroundColor:"#fff1f2",border:"1px solid #fecdd3"},children:[y.jsx("h3",{className:"text-lg md:text-2xl font-bold text-center mb-2 md:mb-4",style:{color:"#be123c"},children:"Ngnh Oanh"}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fda4af"}}),y.jsxs("div",{className:"relative w-full",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-60px)] md:w-[calc(100%-100px)] h-0.5",style:{backgroundColor:"#fda4af"}}),y.jsxs("div",{className:"flex flex-row gap-2 md:gap-8 justify-center",children:[y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fda4af"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#e11d48"},children:"Oanh Nam"}),E("oanh_nam")]}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("div",{className:"w-0.5 h-2 md:h-4",style:{backgroundColor:"#fda4af"}}),y.jsx("p",{className:"text-xs md:text-base font-semibold mb-1 md:mb-2",style:{color:"#e11d48"},children:"Oanh N"}),E("oanh_nu")]})]})]})]})]})]}),y.jsx(ay,{member:l,isOpen:!!l,onClose:()=>c(null),isAdmin:e,onEdit:b=>{c(null),n?.(b)}}),y.jsx(H3,{position:f,isOpen:!!f,onClose:()=>g(null),members:a,onAssign:b=>{r?.(f.positionKey,b),g(null)}})]})}const kT=t=>{if(!t)return"";if(!t.includes("drive.google.com"))return t;let e=null;const n=t.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);n&&(e=n[1]);const r=t.match(/[?&]id=([a-zA-Z0-9_-]+)/);!e&&r&&(e=r[1]);const a=t.match(/\/uc\?.*id=([a-zA-Z0-9_-]+)/);return!e&&a&&(e=a[1]),e?`https://drive.google.com/thumbnail?id=${e}&sz=w400`:t},q3=[{value:"ban_huynh_truong",label:"Ban Huynh Trng"},{value:"nganh_thanh",label:"Ngnh Thanh"},{value:"nganh_thieu",label:"Ngnh Thiu"},{value:"nganh_oanh",label:"Ngnh Oanh"}],$3=[{value:"oanh_nam",label:"Oanh Nam"},{value:"oanh_nu",label:"Oanh N"},{value:"thieu_nam",label:"Thiu Nam"},{value:"thieu_nu",label:"Thiu N"},{value:"thanh_nam",label:"Thanh Nam"},{value:"thanh_nu",label:"Thanh N"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"}],G3=[{value:"doan_sinh",label:"on Sinh"},{value:"doan_pho",label:"on Ph"},{value:"doan_truong",label:"on Trng"},{value:"thu_quy",label:"Th Qu"},{value:"thu_ky",label:"Th K"},{value:"lien_doan_pho",label:"Lin on Ph"},{value:"lien_doan_truong",label:"Lin on Trng"},{value:"gia_truong",label:"Gia Trng"}],jT={hoTen:"",phapDanh:"",birthYear:"",address:"",chucVu:"doan_sinh",capBac:"",nganhChinh:"nganh_oanh",nganh:"oanh_nam",phone:"",quaTrinhSinhHoat:"",photoUrl:""};function ow({member:t,isOpen:e,onClose:n,onSuccess:r}){const[a,l]=P.useState(jT),[c,f]=P.useState(!1),[g,p]=P.useState(!1);P.useEffect(()=>{l(t?{hoTen:t.hoTen||"",phapDanh:t.phapDanh||"",birthYear:t.birthYear||"",address:t.address||"",chucVu:t.chucVu||"doan_sinh",capBac:t.capBac||"",nganhChinh:t.nganhChinh||"nganh_oanh",nganh:t.nganh||"oanh_nam",phone:t.phone||"",quaTrinhSinhHoat:t.quaTrinhSinhHoat||"",photoUrl:t.photoUrl||""}:jT),p(!1)},[t]);const v=b=>{const{name:w,value:C}=b.target;l(L=>({...L,[w]:C})),w==="photoUrl"&&p(!1)},E=async b=>{b.preventDefault(),f(!0);try{const w={...a,birthYear:parseInt(a.birthYear,10),photoUrl:kT(a.photoUrl)};t?(await rw("members",t.id,w),St.success("Cp nht thnh cng!")):(await ry("members",w),St.success("Thm thnh vin thnh cng!")),r?.(),n()}catch(w){console.error("Error saving member:",w),St.error("Li: "+w.message)}finally{f(!1)}};return e?y.jsxs("dialog",{className:"modal modal-open",children:[y.jsxs("div",{className:"modal-box max-w-2xl",children:[y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:n,children:y.jsx(Ud,{className:"w-4 h-4"})}),y.jsx("h3",{className:"font-bold text-lg mb-4",children:t?"Chnh Sa Thnh Vin":"Thm Thnh Vin Mi"}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"nh i Din (Link Google Drive hoc URL)"})}),y.jsxs("div",{className:"flex gap-4 items-start",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-base-300 flex items-center justify-center overflow-hidden bg-base-200",children:a.photoUrl&&!g?y.jsx("img",{src:kT(a.photoUrl),alt:"Preview",className:"w-full h-full object-cover",onError:()=>p(!0)}):y.jsx(tw,{className:"w-10 h-10 text-base-content/30"})})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("input",{type:"url",name:"photoUrl",value:a.photoUrl,onChange:v,className:"input input-bordered w-full",placeholder:"https://drive.google.com/file/d/xxx/view"}),y.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Dn link chia s t Google Drive (m bo quyn xem cho mi ngi)"}),g&&y.jsx("p",{className:"text-xs text-error mt-1",children:"Khng th ti nh. Kim tra li link v quyn chia s."})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"H v Tn *"})}),y.jsx("input",{type:"text",name:"hoTen",value:a.hoTen,onChange:v,className:"input input-bordered",required:!0})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Php Danh"})}),y.jsx("input",{type:"text",name:"phapDanh",value:a.phapDanh,onChange:v,className:"input input-bordered"})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Nm Sinh *"})}),y.jsx("input",{type:"number",name:"birthYear",value:a.birthYear,onChange:v,className:"input input-bordered",min:"1900",max:new Date().getFullYear(),required:!0})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"S in Thoi"})}),y.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:v,className:"input input-bordered"})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Ngnh *"})}),y.jsx("select",{name:"nganhChinh",value:a.nganhChinh,onChange:v,className:"select select-bordered",required:!0,children:q3.map(b=>y.jsx("option",{value:b.value,children:b.label},b.value))})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"n V Sinh Hot *"})}),y.jsx("select",{name:"nganh",value:a.nganh,onChange:v,className:"select select-bordered",required:!0,children:$3.map(b=>y.jsx("option",{value:b.value,children:b.label},b.value))})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Chc V"})}),y.jsx("select",{name:"chucVu",value:a.chucVu,onChange:v,className:"select select-bordered",children:G3.map(b=>y.jsx("option",{value:b.value,children:b.label},b.value))})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Cp Bc"})}),y.jsx("input",{type:"text",name:"capBac",value:a.capBac,onChange:v,className:"input input-bordered"})]})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"a Ch"})}),y.jsx("input",{type:"text",name:"address",value:a.address,onChange:v,className:"input input-bordered"})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Qu Trnh Sinh Hot"})}),y.jsx("textarea",{name:"quaTrinhSinhHoat",value:a.quaTrinhSinhHoat,onChange:v,className:"textarea textarea-bordered h-24",placeholder:"Nhp qu trnh sinh hot..."})]}),y.jsxs("div",{className:"modal-action",children:[y.jsx("button",{type:"button",className:"btn",onClick:n,children:"Hy"}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?y.jsx("span",{className:"loading loading-spinner loading-sm"}):t?"Cp Nht":"Thm"})]})]})]}),y.jsx("form",{method:"dialog",className:"modal-backdrop",children:y.jsx("button",{onClick:n,children:"close"})})]}):null}function K3(){const{isAdmin:t}=Uu(),{document:e,loading:n}=iw("settings","organization"),{documents:r}=qo("members"),[a,l]=P.useState(!1),[c,f]=P.useState({}),[g,p]=P.useState(null);P.useEffect(()=>{e&&f(e)},[e]);const v=async()=>{try{const{id:V,...F}=c;console.log("Saving organization data:",F),await PT("settings","organization",F),console.log("Save successful!"),St.success(" lu cu hnh!"),l(!1)}catch(V){console.error("Save error:",V),St.error("Li: "+V.message)}},E=async(V,F)=>{try{const Q=e||{},{id:se,...de}=Q,ge={...de,[V]:F};await PT("settings","organization",ge),St.success(" phn cng thnh cng!")}catch(Q){console.error("Assign error:",Q),St.error("Li: "+Q.message)}},b=r.map(V=>({value:V.id,label:`${V.hoTen}${V.phapDanh?` (${V.phapDanh})`:""}`,...V})),w=V=>{if(!V)return null;const F=r.find(Q=>Q.id===V);return F?{id:F.id,name:F.hoTen,phapDanh:F.phapDanh,phone:F.phone,address:F.address,birthYear:F.birthYear,capBac:F.capBac,chucVu:F.chucVu,nganh:F.nganh,quaTrinhSinhHoat:F.quaTrinhSinhHoat,photoUrl:F.photoUrl}:null},C=e||{},L={giaTruong:w(C.giaTruongId),lienDoanTruong:w(C.lienDoanTruongId),lienDoanPho:w(C.lienDoanPhoId),thuKy:w(C.thuKyId),thuQuy:w(C.thuQuyId),branches:{thanh_nam:{doanTruong:w(C.doanTruongThanhNamId),doanPho1:w(C.doanPho1ThanhNamId),doanPho2:w(C.doanPho2ThanhNamId)},thanh_nu:{doanTruong:w(C.doanTruongThanhNuId),doanPho1:w(C.doanPho1ThanhNuId),doanPho2:w(C.doanPho2ThanhNuId)},thieu_nam:{doanTruong:w(C.doanTruongThieuNamId),doanPho1:w(C.doanPho1ThieuNamId),doanPho2:w(C.doanPho2ThieuNamId)},thieu_nu:{doanTruong:w(C.doanTruongThieuNuId),doanPho1:w(C.doanPho1ThieuNuId),doanPho2:w(C.doanPho2ThieuNuId)},oanh_nam:{doanTruong:w(C.doanTruongOanhNamId),doanPho1:w(C.doanPho1OanhNamId),doanPho2:w(C.doanPho2OanhNamId)},oanh_nu:{doanTruong:w(C.doanTruongOanhNuId),doanPho1:w(C.doanPho1OanhNuId),doanPho2:w(C.doanPho2OanhNuId)}}};if(n)return y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("span",{className:"loading loading-spinner loading-lg"})});const O=(V,F)=>y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:V})}),y.jsxs("select",{className:"select select-bordered select-sm",value:c[F]||"",onChange:Q=>f({...c,[F]:Q.target.value}),children:[y.jsx("option",{value:"",children:"-- Chn --"}),b.map(Q=>y.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]});return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsx("h1",{className:"text-lg md:text-2xl font-bold",children:"S  T Chc GPT Vnh An"}),t&&y.jsx("button",{className:`btn btn-sm md:btn-md ${a?"btn-success":"btn-outline"}`,onClick:()=>a?v():l(!0),children:a?"Lu":y.jsxs(y.Fragment,{children:[y.jsx(y3,{className:"w-4 h-4"})," ",y.jsx("span",{className:"hidden sm:inline",children:"Chnh Sa"})]})})]}),a&&t&&y.jsx("div",{className:"card bg-base-200",children:y.jsxs("div",{className:"card-body",children:[y.jsx("h3",{className:"card-title",children:"Cu Hnh T Chc"}),y.jsx("p",{className:"text-sm opacity-70 mb-4",children:"Chn thnh vin cho tng chc v. Thnh vin phi c thm vo danh sch trc."}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.jsx("div",{className:"col-span-full",children:y.jsx("h4",{className:"font-semibold mb-2",children:"Ban Huynh Trng"})}),O("Gia Trng","giaTruongId"),O("Lin on Trng","lienDoanTruongId"),O("Lin on Ph","lienDoanPhoId"),O("Th K","thuKyId"),O("Th Qu","thuQuyId"),y.jsx("div",{className:"col-span-full mt-4",children:y.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Thanh"})}),O("on Trng Thanh Nam","doanTruongThanhNamId"),O("on Ph 1 Thanh Nam","doanPho1ThanhNamId"),O("on Ph 2 Thanh Nam","doanPho2ThanhNamId"),O("on Trng Thanh N","doanTruongThanhNuId"),O("on Ph 1 Thanh N","doanPho1ThanhNuId"),O("on Ph 2 Thanh N","doanPho2ThanhNuId"),y.jsx("div",{className:"col-span-full mt-4",children:y.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Thiu"})}),O("on Trng Thiu Nam","doanTruongThieuNamId"),O("on Ph 1 Thiu Nam","doanPho1ThieuNamId"),O("on Ph 2 Thiu Nam","doanPho2ThieuNamId"),O("on Trng Thiu N","doanTruongThieuNuId"),O("on Ph 1 Thiu N","doanPho1ThieuNuId"),O("on Ph 2 Thiu N","doanPho2ThieuNuId"),y.jsx("div",{className:"col-span-full mt-4",children:y.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Oanh"})}),O("on Trng Oanh Nam","doanTruongOanhNamId"),O("on Ph 1 Oanh Nam","doanPho1OanhNamId"),O("on Ph 2 Oanh Nam","doanPho2OanhNamId"),O("on Trng Oanh N","doanTruongOanhNuId"),O("on Ph 1 Oanh N","doanPho1OanhNuId"),O("on Ph 2 Oanh N","doanPho2OanhNuId")]}),y.jsxs("div",{className:"card-actions justify-end mt-4",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>l(!1),children:"Hy"}),y.jsx("button",{className:"btn btn-primary",onClick:v,children:"Lu Thay i"})]})]})}),y.jsx("div",{className:"card bg-base-200",children:y.jsx("div",{className:"card-body p-2 md:p-8",children:y.jsx(F3,{organization:L,isAdmin:t,members:r,onEditMember:V=>{const F=r.find(Q=>Q.id===V.memberId);F&&p(F)},onAssignMember:E})})}),y.jsx(ow,{member:g,isOpen:!!g,onClose:()=>p(null),onSuccess:()=>p(null)}),y.jsx("div",{className:"text-center text-xs md:text-sm opacity-60 px-2",children:t?"Nhn vo   xem chi tit hoc phn cng chc v":"Nhn vo cc   xem thng tin chi tit"})]})}function fs(t,e){return typeof t=="function"?t(e):t}function In(t,e){return n=>{e.setState(r=>({...r,[t]:fs(n,r[t])}))}}function zd(t){return t instanceof Function}function Y3(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Q3(t,e){const n=[],r=a=>{a.forEach(l=>{n.push(l);const c=e(l);c!=null&&c.length&&r(c)})};return r(t),n}function Te(t,e,n){let r=[],a;return l=>{let c;n.key&&n.debug&&(c=Date.now());const f=t(l);if(!(f.length!==r.length||f.some((v,E)=>r[E]!==v)))return a;r=f;let p;if(n.key&&n.debug&&(p=Date.now()),a=e(...f),n==null||n.onChange==null||n.onChange(a),n.key&&n.debug&&n!=null&&n.debug()){const v=Math.round((Date.now()-c)*100)/100,E=Math.round((Date.now()-p)*100)/100,b=E/16,w=(C,L)=>{for(C=String(C);C.length<L;)C=" "+C;return C};console.info(`%c ${w(E,5)} /${w(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return a}}function Ee(t,e,n,r){return{debug:()=>{var a;return(a=t?.debugAll)!=null?a:t[e]},key:!1,onChange:r}}function X3(t,e,n,r){const a=()=>{var c;return(c=l.getValue())!=null?c:t.options.renderFallbackValue},l={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:a,getContext:Te(()=>[t,n,e,l],(c,f,g,p)=>({table:c,column:f,row:g,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Ee(t.options,"debugCells"))};return t._features.forEach(c=>{c.createCell==null||c.createCell(l,n,e,t)},{}),l}function J3(t,e,n,r){var a,l;const f={...t._getDefaultColumnDef(),...e},g=f.accessorKey;let p=(a=(l=f.id)!=null?l:g?typeof String.prototype.replaceAll=="function"?g.replaceAll(".","_"):g.replace(/\./g,"_"):void 0)!=null?a:typeof f.header=="string"?f.header:void 0,v;if(f.accessorFn?v=f.accessorFn:g&&(g.includes(".")?v=b=>{let w=b;for(const L of g.split(".")){var C;w=(C=w)==null?void 0:C[L]}return w}:v=b=>b[f.accessorKey]),!p)throw new Error;let E={id:`${String(p)}`,accessorFn:v,parent:r,depth:n,columnDef:f,columns:[],getFlatColumns:Te(()=>[!0],()=>{var b;return[E,...(b=E.columns)==null?void 0:b.flatMap(w=>w.getFlatColumns())]},Ee(t.options,"debugColumns")),getLeafColumns:Te(()=>[t._getOrderColumnsFn()],b=>{var w;if((w=E.columns)!=null&&w.length){let C=E.columns.flatMap(L=>L.getLeafColumns());return b(C)}return[E]},Ee(t.options,"debugColumns"))};for(const b of t._features)b.createColumn==null||b.createColumn(E,t);return E}const rn="debugHeaders";function LT(t,e,n){var r;let l={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],f=g=>{g.subHeaders&&g.subHeaders.length&&g.subHeaders.map(f),c.push(g)};return f(l),c},getContext:()=>({table:t,header:l,column:e})};return t._features.forEach(c=>{c.createHeader==null||c.createHeader(l,t)}),l}const W3={createTable:t=>{t.getHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,a)=>{var l,c;const f=(l=r?.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?l:[],g=(c=a?.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?c:[],p=n.filter(E=>!(r!=null&&r.includes(E.id))&&!(a!=null&&a.includes(E.id)));return xh(e,[...f,...p,...g],t)},Ee(t.options,rn)),t.getCenterHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,a)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(a!=null&&a.includes(l.id))),xh(e,n,t,"center")),Ee(t.options,rn)),t.getLeftHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var a;const l=(a=r?.map(c=>n.find(f=>f.id===c)).filter(Boolean))!=null?a:[];return xh(e,l,t,"left")},Ee(t.options,rn)),t.getRightHeaderGroups=Te(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var a;const l=(a=r?.map(c=>n.find(f=>f.id===c)).filter(Boolean))!=null?a:[];return xh(e,l,t,"right")},Ee(t.options,rn)),t.getFooterGroups=Te(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ee(t.options,rn)),t.getLeftFooterGroups=Te(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ee(t.options,rn)),t.getCenterFooterGroups=Te(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ee(t.options,rn)),t.getRightFooterGroups=Te(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ee(t.options,rn)),t.getFlatHeaders=Te(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,rn)),t.getLeftFlatHeaders=Te(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,rn)),t.getCenterFlatHeaders=Te(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,rn)),t.getRightFlatHeaders=Te(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ee(t.options,rn)),t.getCenterLeafHeaders=Te(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ee(t.options,rn)),t.getLeftLeafHeaders=Te(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ee(t.options,rn)),t.getRightLeafHeaders=Te(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Ee(t.options,rn)),t.getLeafHeaders=Te(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var a,l,c,f,g,p;return[...(a=(l=e[0])==null?void 0:l.headers)!=null?a:[],...(c=(f=n[0])==null?void 0:f.headers)!=null?c:[],...(g=(p=r[0])==null?void 0:p.headers)!=null?g:[]].map(v=>v.getLeafHeaders()).flat()},Ee(t.options,rn))}};function xh(t,e,n,r){var a,l;let c=0;const f=function(b,w){w===void 0&&(w=1),c=Math.max(c,w),b.filter(C=>C.getIsVisible()).forEach(C=>{var L;(L=C.columns)!=null&&L.length&&f(C.columns,w+1)},0)};f(t);let g=[];const p=(b,w)=>{const C={depth:w,id:[r,`${w}`].filter(Boolean).join("_"),headers:[]},L=[];b.forEach(O=>{const V=[...L].reverse()[0],F=O.column.depth===C.depth;let Q,se=!1;if(F&&O.column.parent?Q=O.column.parent:(Q=O.column,se=!0),V&&V?.column===Q)V.subHeaders.push(O);else{const de=LT(n,Q,{id:[r,w,Q.id,O?.id].filter(Boolean).join("_"),isPlaceholder:se,placeholderId:se?`${L.filter(ge=>ge.column===Q).length}`:void 0,depth:w,index:L.length});de.subHeaders.push(O),L.push(de)}C.headers.push(O),O.headerGroup=C}),g.push(C),w>0&&p(L,w-1)},v=e.map((b,w)=>LT(n,b,{depth:c,index:w}));p(v,c-1),g.reverse();const E=b=>b.filter(C=>C.column.getIsVisible()).map(C=>{let L=0,O=0,V=[0];C.subHeaders&&C.subHeaders.length?(V=[],E(C.subHeaders).forEach(Q=>{let{colSpan:se,rowSpan:de}=Q;L+=se,V.push(de)})):L=1;const F=Math.min(...V);return O=O+F,C.colSpan=L,C.rowSpan=O,{colSpan:L,rowSpan:O}});return E((a=(l=g[0])==null?void 0:l.headers)!=null?a:[]),g}const Z3=(t,e,n,r,a,l,c)=>{let f={id:e,index:r,original:n,depth:a,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:g=>{if(f._valuesCache.hasOwnProperty(g))return f._valuesCache[g];const p=t.getColumn(g);if(p!=null&&p.accessorFn)return f._valuesCache[g]=p.accessorFn(f.original,r),f._valuesCache[g]},getUniqueValues:g=>{if(f._uniqueValuesCache.hasOwnProperty(g))return f._uniqueValuesCache[g];const p=t.getColumn(g);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(f._uniqueValuesCache[g]=p.columnDef.getUniqueValues(f.original,r),f._uniqueValuesCache[g]):(f._uniqueValuesCache[g]=[f.getValue(g)],f._uniqueValuesCache[g])},renderValue:g=>{var p;return(p=f.getValue(g))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Q3(f.subRows,g=>g.subRows),getParentRow:()=>f.parentId?t.getRow(f.parentId,!0):void 0,getParentRows:()=>{let g=[],p=f;for(;;){const v=p.getParentRow();if(!v)break;g.push(v),p=v}return g.reverse()},getAllCells:Te(()=>[t.getAllLeafColumns()],g=>g.map(p=>X3(t,f,p,p.id)),Ee(t.options,"debugRows")),_getAllCellsByColumnId:Te(()=>[f.getAllCells()],g=>g.reduce((p,v)=>(p[v.column.id]=v,p),{}),Ee(t.options,"debugRows"))};for(let g=0;g<t._features.length;g++){const p=t._features[g];p==null||p.createRow==null||p.createRow(f,t)}return f},eP={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},lw=(t,e,n)=>{var r,a;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((a=t.getValue(e))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(l))};lw.autoRemove=t=>ui(t);const uw=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};uw.autoRemove=t=>ui(t);const cw=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};cw.autoRemove=t=>ui(t);const hw=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};hw.autoRemove=t=>ui(t);const dw=(t,e,n)=>!n.some(r=>{var a;return!((a=t.getValue(e))!=null&&a.includes(r))});dw.autoRemove=t=>ui(t)||!(t!=null&&t.length);const fw=(t,e,n)=>n.some(r=>{var a;return(a=t.getValue(e))==null?void 0:a.includes(r)});fw.autoRemove=t=>ui(t)||!(t!=null&&t.length);const mw=(t,e,n)=>t.getValue(e)===n;mw.autoRemove=t=>ui(t);const gw=(t,e,n)=>t.getValue(e)==n;gw.autoRemove=t=>ui(t);const oy=(t,e,n)=>{let[r,a]=n;const l=t.getValue(e);return l>=r&&l<=a};oy.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,a=typeof n!="number"?parseFloat(n):n,l=e===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(a)?1/0:a;if(l>c){const f=l;l=c,c=f}return[l,c]};oy.autoRemove=t=>ui(t)||ui(t[0])&&ui(t[1]);const pr={includesString:lw,includesStringSensitive:uw,equalsString:cw,arrIncludes:hw,arrIncludesAll:dw,arrIncludesSome:fw,equals:mw,weakEquals:gw,inNumberRange:oy};function ui(t){return t==null||t===""}const tP={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:In("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?pr.includesString:typeof r=="number"?pr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?pr.equals:Array.isArray(r)?pr.arrIncludes:pr.weakEquals},t.getFilterFn=()=>{var n,r;return zd(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:pr[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,a;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((a=e.options.enableFilters)!=null?a:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(a=>a.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const a=t.getFilterFn(),l=r?.find(v=>v.id===t.id),c=fs(n,l?l.value:void 0);if(UT(a,c,t)){var f;return(f=r?.filter(v=>v.id!==t.id))!=null?f:[]}const g={id:t.id,value:c};if(l){var p;return(p=r?.map(v=>v.id===t.id?g:v))!=null?p:[]}return r!=null&&r.length?[...r,g]:[g]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=a=>{var l;return(l=fs(e,a))==null?void 0:l.filter(c=>{const f=n.find(g=>g.id===c.id);if(f){const g=f.getFilterFn();if(UT(g,c.value,f))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function UT(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const nP=(t,e,n)=>n.reduce((r,a)=>{const l=a.getValue(t);return r+(typeof l=="number"?l:0)},0),iP=(t,e,n)=>{let r;return n.forEach(a=>{const l=a.getValue(t);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},rP=(t,e,n)=>{let r;return n.forEach(a=>{const l=a.getValue(t);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},sP=(t,e,n)=>{let r,a;return n.forEach(l=>{const c=l.getValue(t);c!=null&&(r===void 0?c>=c&&(r=a=c):(r>c&&(r=c),a<c&&(a=c)))}),[r,a]},aP=(t,e)=>{let n=0,r=0;if(e.forEach(a=>{let l=a.getValue(t);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},oP=(t,e)=>{if(!e.length)return;const n=e.map(l=>l.getValue(t));if(!Y3(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),a=n.sort((l,c)=>l-c);return n.length%2!==0?a[r]:(a[r-1]+a[r])/2},lP=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),uP=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,cP=(t,e)=>e.length,hg={sum:nP,min:iP,max:rP,extent:sP,mean:aP,median:oP,unique:lP,uniqueCount:uP,count:cP},hP={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:In("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return hg.sum;if(Object.prototype.toString.call(r)==="[object Date]")return hg.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return zd(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:hg[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var a;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((a=n.subRows)!=null&&a.length)}}};function dP(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(l=>!e.includes(l.id));return n==="remove"?r:[...e.map(l=>t.find(c=>c.id===l)).filter(Boolean),...r]}const fP={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:In("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Te(n=>[du(e,n)],n=>n.findIndex(r=>r.id===t.id),Ee(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=du(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const a=du(e,n);return((r=a[a.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Te(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>a=>{let l=[];if(!(e!=null&&e.length))l=a;else{const c=[...e],f=[...a];for(;f.length&&c.length;){const g=c.shift(),p=f.findIndex(v=>v.id===g);p>-1&&l.push(f.splice(p,1)[0])}l=[...l,...f]}return dP(l,n,r)},Ee(t.options,"debugTable"))}},dg=()=>({left:[],right:[]}),mP={getInitialState:t=>({columnPinning:dg(),...t}),getDefaultOptions:t=>({onColumnPinningChange:In("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(a=>a.id).filter(Boolean);e.setColumnPinning(a=>{var l,c;if(n==="right"){var f,g;return{left:((f=a?.left)!=null?f:[]).filter(E=>!(r!=null&&r.includes(E))),right:[...((g=a?.right)!=null?g:[]).filter(E=>!(r!=null&&r.includes(E))),...r]}}if(n==="left"){var p,v;return{left:[...((p=a?.left)!=null?p:[]).filter(E=>!(r!=null&&r.includes(E))),...r],right:((v=a?.right)!=null?v:[]).filter(E=>!(r!=null&&r.includes(E)))}}return{left:((l=a?.left)!=null?l:[]).filter(E=>!(r!=null&&r.includes(E))),right:((c=a?.right)!=null?c:[]).filter(E=>!(r!=null&&r.includes(E)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var a,l,c;return((a=r.columnDef.enablePinning)!=null?a:!0)&&((l=(c=e.options.enableColumnPinning)!=null?c:e.options.enablePinning)!=null?l:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(f=>f.id),{left:r,right:a}=e.getState().columnPinning,l=n.some(f=>r?.includes(f)),c=n.some(f=>a?.includes(f));return l?"left":c?"right":!1},t.getPinnedIndex=()=>{var n,r;const a=t.getIsPinned();return a?(n=(r=e.getState().columnPinning)==null||(r=r[a])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,a)=>{const l=[...r??[],...a??[]];return n.filter(c=>!l.includes(c.column.id))},Ee(e.options,"debugRows")),t.getLeftVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Ee(e.options,"debugRows")),t.getRightVisibleCells=Te(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Ee(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?dg():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:dg())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var a,l;return!!((a=r.left)!=null&&a.length||(l=r.right)!=null&&l.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(a=>a.id===r)).filter(Boolean),Ee(t.options,"debugColumns")),t.getRightLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(a=>a.id===r)).filter(Boolean),Ee(t.options,"debugColumns")),t.getCenterLeafColumns=Te(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const a=[...n??[],...r??[]];return e.filter(l=>!a.includes(l.id))},Ee(t.options,"debugColumns"))}};function gP(t){return t||(typeof document<"u"?document:null)}const Rh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},fg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),pP={getDefaultColumnDef:()=>Rh,getInitialState:t=>({columnSizing:{},columnSizingInfo:fg(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:In("columnSizing",t),onColumnSizingInfoChange:In("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,a;const l=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Rh.minSize,(r=l??t.columnDef.size)!=null?r:Rh.size),(a=t.columnDef.maxSize)!=null?a:Rh.maxSize)},t.getStart=Te(n=>[n,du(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((a,l)=>a+l.getSize(),0),Ee(e.options,"debugColumns")),t.getAfter=Te(n=>[n,du(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((a,l)=>a+l.getSize(),0),Ee(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...a}=n;return a})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=a=>{if(a.subHeaders.length)a.subHeaders.forEach(r);else{var l;n+=(l=a.column.getSize())!=null?l:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),a=r?.getCanResize();return l=>{if(!r||!a||(l.persist==null||l.persist(),mg(l)&&l.touches&&l.touches.length>1))return;const c=t.getSize(),f=t?t.getLeafHeaders().map(V=>[V.column.id,V.column.getSize()]):[[r.id,r.getSize()]],g=mg(l)?Math.round(l.touches[0].clientX):l.clientX,p={},v=(V,F)=>{typeof F=="number"&&(e.setColumnSizingInfo(Q=>{var se,de;const ge=e.options.columnResizeDirection==="rtl"?-1:1,I=(F-((se=Q?.startOffset)!=null?se:0))*ge,A=Math.max(I/((de=Q?.startSize)!=null?de:0),-.999999);return Q.columnSizingStart.forEach(N=>{let[z,k]=N;p[z]=Math.round(Math.max(k+k*A,0)*100)/100}),{...Q,deltaOffset:I,deltaPercentage:A}}),(e.options.columnResizeMode==="onChange"||V==="end")&&e.setColumnSizing(Q=>({...Q,...p})))},E=V=>v("move",V),b=V=>{v("end",V),e.setColumnSizingInfo(F=>({...F,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},w=gP(n),C={moveHandler:V=>E(V.clientX),upHandler:V=>{w?.removeEventListener("mousemove",C.moveHandler),w?.removeEventListener("mouseup",C.upHandler),b(V.clientX)}},L={moveHandler:V=>(V.cancelable&&(V.preventDefault(),V.stopPropagation()),E(V.touches[0].clientX),!1),upHandler:V=>{var F;w?.removeEventListener("touchmove",L.moveHandler),w?.removeEventListener("touchend",L.upHandler),V.cancelable&&(V.preventDefault(),V.stopPropagation()),b((F=V.touches[0])==null?void 0:F.clientX)}},O=yP()?{passive:!1}:!1;mg(l)?(w?.addEventListener("touchmove",L.moveHandler,O),w?.addEventListener("touchend",L.upHandler,O)):(w?.addEventListener("mousemove",C.moveHandler,O),w?.addEventListener("mouseup",C.upHandler,O)),e.setColumnSizingInfo(V=>({...V,startOffset:g,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:f,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?fg():(n=t.initialState.columnSizingInfo)!=null?n:fg())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,a)=>r+a.getSize(),0))!=null?e:0}}};let Ah=null;function yP(){if(typeof Ah=="boolean")return Ah;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Ah=t,Ah}function mg(t){return t.type==="touchstart"}const _P={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:In("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const a=t.columns;return(n=a.length?a.some(l=>l.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Te(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Ee(e.options,"debugRows")),t.getVisibleCells=Te(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,a)=>[...n,...r,...a],Ee(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Te(()=>[r(),r().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Ee(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((a,l)=>({...a,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function du(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const vP={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},TP={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:In("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,a,l;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((a=e.options.enableFilters)!=null?a:!0)&&((l=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?l:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>pr.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return zd(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:pr[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},EP={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:In("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,a;if(!e){t._queue(()=>{e=!0});return}if((r=(a=t.options.autoResetAll)!=null?a:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var a,l;t.setExpanded(r?{}:(a=(l=t.initialState)==null?void 0:l.expanded)!=null?a:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var a;const l=r===!0?!0:!!(r!=null&&r[t.id]);let c={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(f=>{c[f]=!0}):c=r,n=(a=n)!=null?a:!l,!l&&n)return{...c,[t.id]:!0};if(l&&!n){const{[t.id]:f,...g}=c;return g}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,a;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((a=t.subRows)!=null&&a.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Qg=0,Xg=10,gg=()=>({pageIndex:Qg,pageSize:Xg}),SP={getInitialState:t=>({...t,pagination:{...gg(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:In("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,a;if(!e){t._queue(()=>{e=!0});return}if((r=(a=t.options.autoResetAll)!=null?a:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const a=l=>fs(r,l);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(a)},t.resetPagination=r=>{var a;t.setPagination(r?gg():(a=t.initialState.pagination)!=null?a:gg())},t.setPageIndex=r=>{t.setPagination(a=>{let l=fs(r,a.pageIndex);const c=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...a,pageIndex:l}})},t.resetPageIndex=r=>{var a,l;t.setPageIndex(r?Qg:(a=(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?a:Qg)},t.resetPageSize=r=>{var a,l;t.setPageSize(r?Xg:(a=(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?a:Xg)},t.setPageSize=r=>{t.setPagination(a=>{const l=Math.max(1,fs(r,a.pageSize)),c=a.pageSize*a.pageIndex,f=Math.floor(c/l);return{...a,pageIndex:f,pageSize:l}})},t.setPageCount=r=>t.setPagination(a=>{var l;let c=fs(r,(l=t.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...a,pageCount:c}}),t.getPageOptions=Te(()=>[t.getPageCount()],r=>{let a=[];return r&&r>0&&(a=[...new Array(r)].fill(null).map((l,c)=>c)),a},Ee(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,a=t.getPageCount();return a===-1?!0:a===0?!1:r<a-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},pg=()=>({top:[],bottom:[]}),bP={getInitialState:t=>({rowPinning:pg(),...t}),getDefaultOptions:t=>({onRowPinningChange:In("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,a)=>{const l=r?t.getLeafRows().map(g=>{let{id:p}=g;return p}):[],c=a?t.getParentRows().map(g=>{let{id:p}=g;return p}):[],f=new Set([...c,t.id,...l]);e.setRowPinning(g=>{var p,v;if(n==="bottom"){var E,b;return{top:((E=g?.top)!=null?E:[]).filter(L=>!(f!=null&&f.has(L))),bottom:[...((b=g?.bottom)!=null?b:[]).filter(L=>!(f!=null&&f.has(L))),...Array.from(f)]}}if(n==="top"){var w,C;return{top:[...((w=g?.top)!=null?w:[]).filter(L=>!(f!=null&&f.has(L))),...Array.from(f)],bottom:((C=g?.bottom)!=null?C:[]).filter(L=>!(f!=null&&f.has(L)))}}return{top:((p=g?.top)!=null?p:[]).filter(L=>!(f!=null&&f.has(L))),bottom:((v=g?.bottom)!=null?v:[]).filter(L=>!(f!=null&&f.has(L)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:a}=e.options;return typeof r=="function"?r(t):(n=r??a)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:a}=e.getState().rowPinning,l=n.some(f=>r?.includes(f)),c=n.some(f=>a?.includes(f));return l?"top":c?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const a=t.getIsPinned();if(!a)return-1;const l=(n=a==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(c=>{let{id:f}=c;return f});return(r=l?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?pg():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:pg())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var a,l;return!!((a=r.top)!=null&&a.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var a;return((a=t.options.keepPinnedRows)==null||a?(n??[]).map(c=>{const f=t.getRow(c,!0);return f.getIsAllParentsExpanded()?f:null}):(n??[]).map(c=>e.find(f=>f.id===c))).filter(Boolean).map(c=>({...c,position:r}))},t.getTopRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ee(t.options,"debugRows")),t.getBottomRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ee(t.options,"debugRows")),t.getCenterRows=Te(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const a=new Set([...n??[],...r??[]]);return e.filter(l=>!a.has(l.id))},Ee(t.options,"debugRows"))}},wP={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:In("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},a=t.getPreGroupedRowModel().flatRows;return e?a.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):a.forEach(l=>{delete r[l.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),a={...n};return t.getRowModel().rows.forEach(l=>{Jg(a,l.id,r,!0,t)}),a}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getFilteredSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getGroupedSelectedRowModel=Te(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?yg(t,n):{rows:[],flatRows:[],rowsById:{}},Ee(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(a=>a.getCanSelect()&&!n[a.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(a=>!n[a.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const a=t.getIsSelected();e.setRowSelection(l=>{var c;if(n=typeof n<"u"?n:!a,t.getCanSelect()&&a===n)return l;const f={...l};return Jg(f,t.id,n,(c=r?.selectChildren)!=null?c:!0,e),f})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return ly(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Wg(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Wg(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var a;n&&t.toggleSelected((a=r.target)==null?void 0:a.checked)}}}},Jg=(t,e,n,r,a)=>{var l;const c=a.getRow(e,!0);n?(c.getCanMultiSelect()||Object.keys(t).forEach(f=>delete t[f]),c.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(f=>Jg(t,f.id,n,r,a))};function yg(t,e){const n=t.getState().rowSelection,r=[],a={},l=function(c,f){return c.map(g=>{var p;const v=ly(g,n);if(v&&(r.push(g),a[g.id]=g),(p=g.subRows)!=null&&p.length&&(g={...g,subRows:l(g.subRows)}),v)return g}).filter(Boolean)};return{rows:l(e.rows),flatRows:r,rowsById:a}}function ly(t,e){var n;return(n=e[t.id])!=null?n:!1}function Wg(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let a=!0,l=!1;return t.subRows.forEach(c=>{if(!(l&&!a)&&(c.getCanSelect()&&(ly(c,e)?l=!0:a=!1),c.subRows&&c.subRows.length)){const f=Wg(c,e);f==="all"?l=!0:(f==="some"&&(l=!0),a=!1)}}),a?"all":l?"some":!1}const Zg=/([0-9]+)/gm,xP=(t,e,n)=>pw(Rs(t.getValue(n)).toLowerCase(),Rs(e.getValue(n)).toLowerCase()),RP=(t,e,n)=>pw(Rs(t.getValue(n)),Rs(e.getValue(n))),AP=(t,e,n)=>uy(Rs(t.getValue(n)).toLowerCase(),Rs(e.getValue(n)).toLowerCase()),CP=(t,e,n)=>uy(Rs(t.getValue(n)),Rs(e.getValue(n))),NP=(t,e,n)=>{const r=t.getValue(n),a=e.getValue(n);return r>a?1:r<a?-1:0},IP=(t,e,n)=>uy(t.getValue(n),e.getValue(n));function uy(t,e){return t===e?0:t>e?1:-1}function Rs(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function pw(t,e){const n=t.split(Zg).filter(Boolean),r=e.split(Zg).filter(Boolean);for(;n.length&&r.length;){const a=n.shift(),l=r.shift(),c=parseInt(a,10),f=parseInt(l,10),g=[c,f].sort();if(isNaN(g[0])){if(a>l)return 1;if(l>a)return-1;continue}if(isNaN(g[1]))return isNaN(c)?-1:1;if(c>f)return 1;if(f>c)return-1}return n.length-r.length}const Zl={alphanumeric:xP,alphanumericCaseSensitive:RP,text:AP,textCaseSensitive:CP,datetime:NP,basic:IP},DP={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:In("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const a of n){const l=a?.getValue(t.id);if(Object.prototype.toString.call(l)==="[object Date]")return Zl.datetime;if(typeof l=="string"&&(r=!0,l.split(Zg).length>1))return Zl.alphanumeric}return r?Zl.text:Zl.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return zd(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Zl[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const a=t.getNextSortingOrder(),l=typeof n<"u"&&n!==null;e.setSorting(c=>{const f=c?.find(w=>w.id===t.id),g=c?.findIndex(w=>w.id===t.id);let p=[],v,E=l?n:a==="desc";if(c!=null&&c.length&&t.getCanMultiSort()&&r?f?v="toggle":v="add":c!=null&&c.length&&g!==c.length-1?v="replace":f?v="toggle":v="replace",v==="toggle"&&(l||a||(v="remove")),v==="add"){var b;p=[...c,{id:t.id,desc:E}],p.splice(0,p.length-((b=e.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else v==="toggle"?p=c.map(w=>w.id===t.id?{...w,desc:E}:w):v==="remove"?p=c.filter(w=>w.id!==t.id):p=[{id:t.id,desc:E}];return p})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,a;const l=t.getFirstSortDir(),c=t.getIsSorted();return c?c!==l&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(a=e.options.enableMultiRemove)!=null)||a)?!1:c==="desc"?"asc":"desc":l},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(a=>a.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(a=>a.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},MP=[W3,_P,fP,mP,eP,tP,vP,TP,DP,hP,EP,SP,bP,wP,pP];function OP(t){var e,n;const r=[...MP,...(e=t._features)!=null?e:[]];let a={_features:r};const l=a._features.reduce((b,w)=>Object.assign(b,w.getDefaultOptions==null?void 0:w.getDefaultOptions(a)),{}),c=b=>a.options.mergeOptions?a.options.mergeOptions(l,b):{...l,...b};let g={...{},...(n=t.initialState)!=null?n:{}};a._features.forEach(b=>{var w;g=(w=b.getInitialState==null?void 0:b.getInitialState(g))!=null?w:g});const p=[];let v=!1;const E={_features:r,options:{...l,...t},initialState:g,_queue:b=>{p.push(b),v||(v=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();v=!1}).catch(w=>setTimeout(()=>{throw w})))},reset:()=>{a.setState(a.initialState)},setOptions:b=>{const w=fs(b,a.options);a.options=c(w)},getState:()=>a.options.state,setState:b=>{a.options.onStateChange==null||a.options.onStateChange(b)},_getRowId:(b,w,C)=>{var L;return(L=a.options.getRowId==null?void 0:a.options.getRowId(b,w,C))!=null?L:`${C?[C.id,w].join("."):w}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(b,w)=>{let C=(w?a.getPrePaginationRowModel():a.getRowModel()).rowsById[b];if(!C&&(C=a.getCoreRowModel().rowsById[b],!C))throw new Error;return C},_getDefaultColumnDef:Te(()=>[a.options.defaultColumn],b=>{var w;return b=(w=b)!=null?w:{},{header:C=>{const L=C.header.column.columnDef;return L.accessorKey?L.accessorKey:L.accessorFn?L.id:null},cell:C=>{var L,O;return(L=(O=C.renderValue())==null||O.toString==null?void 0:O.toString())!=null?L:null},...a._features.reduce((C,L)=>Object.assign(C,L.getDefaultColumnDef==null?void 0:L.getDefaultColumnDef()),{}),...b}},Ee(t,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:Te(()=>[a._getColumnDefs()],b=>{const w=function(C,L,O){return O===void 0&&(O=0),C.map(V=>{const F=J3(a,V,O,L),Q=V;return F.columns=Q.columns?w(Q.columns,F,O+1):[],F})};return w(b)},Ee(t,"debugColumns")),getAllFlatColumns:Te(()=>[a.getAllColumns()],b=>b.flatMap(w=>w.getFlatColumns()),Ee(t,"debugColumns")),_getAllFlatColumnsById:Te(()=>[a.getAllFlatColumns()],b=>b.reduce((w,C)=>(w[C.id]=C,w),{}),Ee(t,"debugColumns")),getAllLeafColumns:Te(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(b,w)=>{let C=b.flatMap(L=>L.getLeafColumns());return w(C)},Ee(t,"debugColumns")),getColumn:b=>a._getAllFlatColumnsById()[b]};Object.assign(a,E);for(let b=0;b<a._features.length;b++){const w=a._features[b];w==null||w.createTable==null||w.createTable(a)}return a}function VP(){return t=>Te(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(a,l,c){l===void 0&&(l=0);const f=[];for(let p=0;p<a.length;p++){const v=Z3(t,t._getRowId(a[p],p,c),a[p],p,l,void 0,c?.id);if(n.flatRows.push(v),n.rowsById[v.id]=v,f.push(v),t.options.getSubRows){var g;v.originalSubRows=t.options.getSubRows(a[p],p),(g=v.originalSubRows)!=null&&g.length&&(v.subRows=r(v.originalSubRows,l+1,v))}}return f};return n.rows=r(e),n},Ee(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function PP(t){const e=[],n=r=>{var a;e.push(r),(a=r.subRows)!=null&&a.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function kP(t){return e=>Te(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:a,pageIndex:l}=n;let{rows:c,flatRows:f,rowsById:g}=r;const p=a*l,v=p+a;c=c.slice(p,v);let E;e.options.paginateExpandedRows?E={rows:c,flatRows:f,rowsById:g}:E=PP({rows:c,flatRows:f,rowsById:g}),E.flatRows=[];const b=w=>{E.flatRows.push(w),w.subRows.length&&w.subRows.forEach(b)};return E.rows.forEach(b),E},Ee(e.options,"debugTable"))}function jP(){return t=>Te(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,a=[],l=r.filter(g=>{var p;return(p=t.getColumn(g.id))==null?void 0:p.getCanSort()}),c={};l.forEach(g=>{const p=t.getColumn(g.id);p&&(c[g.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const f=g=>{const p=g.map(v=>({...v}));return p.sort((v,E)=>{for(let w=0;w<l.length;w+=1){var b;const C=l[w],L=c[C.id],O=L.sortUndefined,V=(b=C?.desc)!=null?b:!1;let F=0;if(O){const Q=v.getValue(C.id),se=E.getValue(C.id),de=Q===void 0,ge=se===void 0;if(de||ge){if(O==="first")return de?-1:1;if(O==="last")return de?1:-1;F=de&&ge?0:de?O:-O}}if(F===0&&(F=L.sortingFn(v,E,C.id)),F!==0)return V&&(F*=-1),L.invertSorting&&(F*=-1),F}return v.index-E.index}),p.forEach(v=>{var E;a.push(v),(E=v.subRows)!=null&&E.length&&(v.subRows=f(v.subRows))}),p};return{rows:f(n.rows),flatRows:a,rowsById:n.rowsById}},Ee(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function zT(t,e){return t?LP(t)?P.createElement(t,e):t:null}function LP(t){return UP(t)||typeof t=="function"||zP(t)}function UP(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function zP(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function BP(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=P.useState(()=>({current:OP(e)})),[r,a]=P.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...t,state:{...r,...t.state},onStateChange:c=>{a(c),t.onStateChange==null||t.onStateChange(c)}})),n.current}const HP=[{hoTen:"Nguyn Vn An",phapDanh:"Tm An",birthYear:2015,nganhChinh:"nganh_oanh",nganh:"oanh_nam",chucVu:"doan_sinh",phone:"0901234567",address:"Qun 1, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2022"},{hoTen:"Trn Th Bnh",phapDanh:"Tm Bnh",birthYear:2016,nganhChinh:"nganh_oanh",nganh:"oanh_nu",chucVu:"doan_sinh",phone:"0901234568",address:"Qun 3, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2023"},{hoTen:"L Minh Chu",phapDanh:"Tm Chu",birthYear:2014,nganhChinh:"nganh_oanh",nganh:"oanh_nam",chucVu:"doan_sinh",phone:"0901234569",address:"Qun 5, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2021"},{hoTen:"Phm Vn Dng",phapDanh:"Tm Dng",birthYear:2010,nganhChinh:"nganh_thieu",nganh:"thieu_nam",chucVu:"doan_sinh",phone:"0901234570",address:"Qun 7, TP.HCM",capBac:"Hng Thin",quaTrinhSinhHoat:`Gia nhp GPT nm 2018
Chuyn ngnh Thiu nm 2023`},{hoTen:"Hong Th Em",phapDanh:"Tm Em",birthYear:2009,nganhChinh:"nganh_thieu",nganh:"thieu_nu",chucVu:"doan_sinh",phone:"0901234571",address:"Qun 10, TP.HCM",capBac:"S Thin",quaTrinhSinhHoat:"Gia nhp GPT nm 2017"},{hoTen:"V Minh Pht",phapDanh:"Tm Pht",birthYear:2011,nganhChinh:"nganh_thieu",nganh:"thieu_nam",chucVu:"doan_sinh",phone:"0901234572",address:"Qun Bnh Thnh, TP.HCM",capBac:"Trung Thin",quaTrinhSinhHoat:"Gia nhp GPT nm 2019"},{hoTen:"ng Vn Giang",phapDanh:"Tm Giang",birthYear:2004,nganhChinh:"nganh_thanh",nganh:"thanh_nam",chucVu:"doan_truong",phone:"0901234573",address:"Qun Tn Bnh, TP.HCM",capBac:"Kin Tr",quaTrinhSinhHoat:`Gia nhp GPT nm 2012
on Trng Thanh Nam t 2023`},{hoTen:"Ng Th Hng",phapDanh:"Tm Hng",birthYear:2003,nganhChinh:"nganh_thanh",nganh:"thanh_nu",chucVu:"doan_truong",phone:"0901234574",address:"Qun Ph Nhun, TP.HCM",capBac:"Kin Tr",quaTrinhSinhHoat:`Gia nhp GPT nm 2011
on Trng Thanh N t 2022`},{hoTen:"Bi Vn Khoa",phapDanh:"Tm Khoa",birthYear:2005,nganhChinh:"nganh_thanh",nganh:"thanh_nam",chucVu:"doan_pho",phone:"0901234575",address:"Qun G Vp, TP.HCM",capBac:"Dng Tin",quaTrinhSinhHoat:`Gia nhp GPT nm 2013
on Ph Thanh Nam t 2024`},{hoTen:"Trng Vn Lm",phapDanh:"Tm Lm",birthYear:1985,nganhChinh:"ban_huynh_truong",nganh:"thanh_nam",chucVu:"lien_doan_truong",phone:"0901234576",address:"Qun 1, TP.HCM",capBac:"Cp Tn",quaTrinhSinhHoat:`Gia nhp GPT nm 1995
Lin on Trng t 2020`},{hoTen:"L Th Mai",phapDanh:"Tm Mai",birthYear:1988,nganhChinh:"ban_huynh_truong",nganh:"thanh_nu",chucVu:"lien_doan_pho",phone:"0901234577",address:"Qun 3, TP.HCM",capBac:"Cp Tn",quaTrinhSinhHoat:`Gia nhp GPT nm 1998
Lin on Ph t 2021`},{hoTen:"inh Vn Nam",phapDanh:"Tm Nam",birthYear:1980,nganhChinh:"ban_huynh_truong",nganh:"thanh_nam",chucVu:"gia_truong",phone:"0901234578",address:"Qun 5, TP.HCM",capBac:"Cp Dng",quaTrinhSinhHoat:`Gia nhp GPT nm 1990
Gia Trng t 2018`}];async function FP(){const t=[];for(const e of HP)try{const n=await ry("members",e);t.push({success:!0,name:e.hoTen,id:n})}catch(n){t.push({success:!1,name:e.hoTen,error:n.message})}return t}const yw={ban_huynh_truong:"Ban Huynh Trng",nganh_thanh:"Ngnh Thanh",nganh_thieu:"Ngnh Thiu",nganh_oanh:"Ngnh Oanh"};function dt(t,e){if(!e||!t)return null;const n=t.find(r=>r.id===e);return n?{id:n.id,name:n.hoTen,hoTen:n.hoTen,phapDanh:n.phapDanh,phone:n.phone,address:n.address,birthYear:n.birthYear,capBac:n.capBac,chucVu:n.chucVu,nganh:n.nganh}:null}function _w(t,e){return t?{giaTruong:dt(e,t.giaTruongId),lienDoanTruong:dt(e,t.lienDoanTruongId),lienDoanPho:dt(e,t.lienDoanPhoId),thuKy:dt(e,t.thuKyId),thuQuy:dt(e,t.thuQuyId),branches:{thanh_nam:{doanTruong:dt(e,t.doanTruongThanhNamId),doanPho1:dt(e,t.doanPho1ThanhNamId),doanPho2:dt(e,t.doanPho2ThanhNamId)},thanh_nu:{doanTruong:dt(e,t.doanTruongThanhNuId),doanPho1:dt(e,t.doanPho1ThanhNuId),doanPho2:dt(e,t.doanPho2ThanhNuId)},thieu_nam:{doanTruong:dt(e,t.doanTruongThieuNamId),doanPho1:dt(e,t.doanPho1ThieuNamId),doanPho2:dt(e,t.doanPho2ThieuNamId)},thieu_nu:{doanTruong:dt(e,t.doanTruongThieuNuId),doanPho1:dt(e,t.doanPho1ThieuNuId),doanPho2:dt(e,t.doanPho2ThieuNuId)},oanh_nam:{doanTruong:dt(e,t.doanTruongOanhNamId),doanPho1:dt(e,t.doanPho1OanhNamId),doanPho2:dt(e,t.doanPho2OanhNamId)},oanh_nu:{doanTruong:dt(e,t.doanTruongOanhNuId),doanPho1:dt(e,t.doanPho1OanhNuId),doanPho2:dt(e,t.doanPho2OanhNuId)}}}:null}function qP(t,e){const n=["H Tn","Php Danh","Nm Sinh","Ngnh","n V","Chc V","Cp Bc","ST","a Ch","Qu Trnh Sinh Hot"],r=t.map(f=>[f.hoTen||"",f.phapDanh||"",f.birthYear||"",yw[f.nganhChinh]||f.nganhChinh||"",Oo[f.nganh]||f.nganh||"",f.chucVu||"",f.capBac||"",f.phone||"",f.address||"",(f.quaTrinhSinhHoat||"").replace(/\n/g," ")]),a=[n.join(","),...r.map(f=>f.map(g=>`"${g}"`).join(","))].join(`
`),l="\uFEFF",c=new Blob([l+a],{type:"text/csv;charset=utf-8;"});vw(c,"danh-sach-doan-sinh.csv")}function $P(t,e){const n=_w(e,t),r={exportDate:new Date().toISOString(),organization:{name:"GPT Vnh An",giaTruong:n?.giaTruong||null,lienDoanTruong:n?.lienDoanTruong||null,lienDoanPho:n?.lienDoanPho||null,thuKy:n?.thuKy||null,thuQuy:n?.thuQuy||null,branches:n?.branches||{}},members:t.map(l=>({hoTen:l.hoTen,phapDanh:l.phapDanh,birthYear:l.birthYear,nganhChinh:l.nganhChinh,nganh:l.nganh,chucVu:l.chucVu,capBac:l.capBac,phone:l.phone,address:l.address,quaTrinhSinhHoat:l.quaTrinhSinhHoat})),totalMembers:t.length},a=new Blob([JSON.stringify(r,null,2)],{type:"application/json"});vw(a,"gdpt-vinhan-data.json")}function GP(t,e){const n=_w(e,t),r=KP(n),a=YP(t),l=`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>GPT Vnh An - Danh Sch on Sinh</title>
      <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
          padding: 20px;
          font-size: 16px;
          color: #44403c;
          background: #fdfcfb;
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
        /* Peaceful, harmonious colors for Buddhist pagoda */
        h1 { text-align: center; color: #92400e; margin-bottom: 10px; font-size: 28px; }
        h2 { color: #78716c; margin: 20px 0 10px; font-size: 22px; border-bottom: 2px solid #d6d3d1; padding-bottom: 5px; }
        h3 { color: #78716c; margin: 15px 0 8px; font-size: 18px; }
        .header { text-align: center; margin-bottom: 30px; }
        .header p { color: #78716c; font-size: 14px; }
        .org-section { margin-bottom: 30px; }
        .org-group {
          background: #faf8f5;
          padding: 15px;
          border-radius: 8px;
          margin-bottom: 15px;
          border: 1px solid #e7e5e4;
        }
        .org-group-title {
          font-weight: bold;
          color: #92400e;
          margin-bottom: 10px;
          font-size: 18px;
        }
        .org-member {
          display: inline-block;
          background: #fff;
          padding: 10px 14px;
          margin: 5px;
          border-radius: 4px;
          border: 1px solid #e7e5e4;
        }
        .org-member strong { color: #44403c; font-size: 15px; display: block; }
        .org-member span { color: #78716c; font-size: 13px; }
        .branch-section {
          display: inline-block;
          vertical-align: top;
          margin: 5px 10px;
          text-align: center;
        }
        .branch-name {
          font-weight: bold;
          color: #78716c;
          margin-bottom: 5px;
          font-size: 15px;
        }
        table {
          width: 100%;
          border-collapse: collapse;
          margin-top: 10px;
          font-size: 13px;
        }
        th, td {
          border: 1px solid #d6d3d1;
          padding: 8px 10px;
          text-align: left;
          color: #44403c;
        }
        th {
          background: #b45309;
          color: #fff;
          font-weight: 600;
          font-size: 14px;
        }
        tr:nth-child(even) { background: #faf8f5; }
        tr:nth-child(odd) { background: #fff; }
        .footer {
          margin-top: 30px;
          text-align: center;
          color: #78716c;
          font-size: 13px;
        }
        .print-btn {
          display: block;
          margin: 0 auto 20px;
          padding: 12px 24px;
          font-size: 16px;
          background: #b45309;
          color: #fff;
          border: none;
          border-radius: 6px;
          cursor: pointer;
        }
        .print-btn:hover { background: #92400e; }
        .safari-note {
          text-align: center;
          padding: 10px;
          background: #fef7ed;
          border: 1px solid #fed7aa;
          border-radius: 6px;
          margin-bottom: 15px;
          font-size: 13px;
          color: #9a3412;
        }
        @media print {
          body { padding: 10px; background: #fff; }
          .no-print { display: none !important; }
          .org-group { background: #faf8f5 !important; }
          th { background: #b45309 !important; color: #fff !important; }
        }
      </style>
    </head>
    <body>
      <div class="no-print safari-note">
        <strong>Hng dn:</strong> Nhn nt bn di hoc dng Cmd+P (Mac) / Ctrl+P (Windows)  in hoc lu PDF
      </div>

      <button class="no-print print-btn" onclick="window.print()">
        In / Lu PDF
      </button>

      <div class="header">
        <h1>Gia nh Pht T Vnh An</h1>
        <p>Cha Vnh An - Danh Sch on Sinh</p>
        <p>Ngy xut: ${new Date().toLocaleDateString("vi-VN")}</p>
      </div>

      ${r}
      ${a}

      <div class="footer">
        <p>Tng s on sinh: ${t.length}</p>
        <p>GPT Vnh An - Xut bi h thng qun l</p>
      </div>
    </body>
    </html>
  `;let c=null;try{if(c=window.open("about:blank","_blank"),c)c.document.open(),c.document.write(l),c.document.close();else throw new Error("Popup blocked")}catch{try{const f=new Blob([l],{type:"text/html;charset=utf-8"}),g=URL.createObjectURL(f);if(c=window.open(g,"_blank"),!c){const p=document.createElement("a");p.href=g,p.download="gdpt-vinhan-baocao.html",p.click(),setTimeout(()=>{URL.revokeObjectURL(g),alert(" ti file HTML. M file v nhn Cmd+P (Mac) hoc Ctrl+P (Windows)  in PDF.")},100);return}c.onload=()=>{setTimeout(()=>URL.revokeObjectURL(g),1e3)}}catch{alert("Khng th m ca s in. Vui lng cho php popup trong trnh duyt v th li.")}}}function KP(t){if(!t)return'<p style="color: #78716c;">Cha c d liu s  t chc</p>';const e=(w,C)=>{const L="display: inline-block; background: #fff; padding: 10px 14px; margin: 5px; border-radius: 4px; border: 1px solid #e7e5e4;",O="color: #44403c; font-size: 15px; font-weight: bold; display: block;",V="color: #78716c; font-size: 13px;";return w?`<div style="${L}"><strong style="${O}">${w.name||w.hoTen||"Cha c"}</strong><span style="${V}">${C}${w.phapDanh?` - ${w.phapDanh}`:""}</span></div>`:`<div style="${L}"><strong style="${O}">Cha c</strong><span style="${V}">${C}</span></div>`},n=(w,C)=>!w||!(w.doanTruong||w.doanPho1||w.doanPho2)?"":`
      <div style="display: inline-block; vertical-align: top; margin: 5px 10px; text-align: center;">
        <div style="font-weight: bold; color: #78716c; margin-bottom: 5px; font-size: 15px;">${C}</div>
        ${w.doanTruong?e(w.doanTruong,"on Trng"):""}
        ${w.doanPho1?e(w.doanPho1,"on Ph 1"):""}
        ${w.doanPho2?e(w.doanPho2,"on Ph 2"):""}
      </div>
    `,r=t.giaTruong||t.lienDoanTruong||t.lienDoanPho||t.thuKy||t.thuQuy,a=n(t.branches?.thanh_nam,"Thanh Nam"),l=n(t.branches?.thanh_nu,"Thanh N"),c=n(t.branches?.thieu_nam,"Thiu Nam"),f=n(t.branches?.thieu_nu,"Thiu N"),g=n(t.branches?.oanh_nam,"Oanh Nam"),p=n(t.branches?.oanh_nu,"Oanh N"),v="margin-bottom: 30px;",E="background: #faf8f5; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #e7e5e4;",b="font-weight: bold; color: #92400e; margin-bottom: 10px; font-size: 18px;";return`
    <div style="${v}">
      <h2 style="color: #78716c; margin: 20px 0 10px; font-size: 22px; border-bottom: 2px solid #d6d3d1; padding-bottom: 5px;">S  T Chc</h2>

      <div style="${E}">
        <div style="${b}">Ban Huynh Trng</div>
        ${r?`
          ${t.giaTruong?e(t.giaTruong,"Gia Trng"):""}
          ${t.lienDoanTruong?e(t.lienDoanTruong,"Lin on Trng"):""}
          ${t.lienDoanPho?e(t.lienDoanPho,"Lin on Ph"):""}
          ${t.thuKy?e(t.thuKy,"Th K"):""}
          ${t.thuQuy?e(t.thuQuy,"Th Qu"):""}
        `:'<p style="color: #78716c; font-style: italic;">Cha phn cng</p>'}
      </div>

      ${a||l?`
        <div style="${E}">
          <div style="${b}">Ngnh Thanh</div>
          ${a}
          ${l}
        </div>
      `:""}

      ${c||f?`
        <div style="${E}">
          <div style="${b}">Ngnh Thiu</div>
          ${c}
          ${f}
        </div>
      `:""}

      ${g||p?`
        <div style="${E}">
          <div style="${b}">Ngnh Oanh</div>
          ${g}
          ${p}
        </div>
      `:""}
    </div>
  `}function YP(t){return`
    <div>
      <h2 style="color: #78716c; margin: 20px 0 10px; font-size: 22px; border-bottom: 2px solid #d6d3d1; padding-bottom: 5px;">Danh Sch on Sinh</h2>
      <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
        <thead>
          <tr>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">H Tn</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">Php Danh</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">Nm Sinh</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">Ngnh</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">n V</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">Chc V</th>
            <th style="background: #b45309; color: #fff; padding: 10px; border: 1px solid #b45309; text-align: left;">ST</th>
          </tr>
        </thead>
        <tbody>
          ${t.map((n,r)=>`
    <tr style="background: ${r%2===0?"#fff":"#faf8f5"};">
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${n.hoTen||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${n.phapDanh||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${n.birthYear||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${yw[n.nganhChinh]||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${Oo[n.nganh]||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${n.chucVu||""}</td>
      <td style="color: #44403c; border: 1px solid #d6d3d1; padding: 8px;">${n.phone||""}</td>
    </tr>
  `).join("")}
        </tbody>
      </table>
    </div>
  `}function vw(t,e){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}const QP=[{value:"",label:"Tt c Ngnh"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"},{value:"nganh_thanh",label:"Ngnh Thanh"},{value:"nganh_thieu",label:"Ngnh Thiu"},{value:"nganh_oanh",label:"Ngnh Oanh"}],XP={ban_huynh_truong:"Ban Huynh Trng",nganh_thanh:"Ngnh Thanh",nganh_thieu:"Ngnh Thiu",nganh_oanh:"Ngnh Oanh"},JP=[{value:"",label:"Tt c n V"},{value:"oanh_nam",label:"Oanh Nam"},{value:"oanh_nu",label:"Oanh N"},{value:"thieu_nam",label:"Thiu Nam"},{value:"thieu_nu",label:"Thiu N"},{value:"thanh_nam",label:"Thanh Nam"},{value:"thanh_nu",label:"Thanh N"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"}];function WP(){const{isAdmin:t}=Uu(),{documents:e,loading:n}=qo("members","hoTen"),{document:r}=iw("settings","organization"),[a,l]=P.useState(""),[c,f]=P.useState(""),[g,p]=P.useState(""),[v,E]=P.useState(!1),[b,w]=P.useState(!1),[C,L]=P.useState(null),[O,V]=P.useState([]),[F,Q]=P.useState(!1),[se,de]=P.useState(null),ge=P.useMemo(()=>{let re=e;if(a){const K=a.toLowerCase();re=re.filter(oe=>oe.hoTen?.toLowerCase().includes(K)||oe.phapDanh?.toLowerCase().includes(K)||oe.phone?.includes(K))}return c&&(re=re.filter(K=>K.nganhChinh===c)),g&&(re=re.filter(K=>K.nganh===g)),v&&(re=re.filter(K=>Bh(K.birthYear,K.nganh,K.chucVu))),re},[e,a,c,g,v]),I=P.useMemo(()=>[{accessorKey:"hoTen",header:({column:re})=>y.jsxs("button",{className:"flex items-center gap-1",onClick:()=>re.toggleSorting(),children:["H Tn",y.jsx(Wl,{className:"w-4 h-4"})]}),cell:({row:re})=>y.jsxs("div",{className:"min-w-[120px]",children:[y.jsx("p",{className:"font-medium",children:re.original.hoTen}),re.original.phapDanh&&y.jsx("p",{className:"text-sm opacity-70 italic",children:re.original.phapDanh})]})},{accessorKey:"birthYear",header:({column:re})=>y.jsxs("button",{className:"flex items-center gap-1",onClick:()=>re.toggleSorting(),children:["Nm Sinh",y.jsx(Wl,{className:"w-4 h-4"})]}),cell:({row:re})=>{const K=sy(re.original.birthYear);return y.jsxs("div",{children:[y.jsx("span",{children:re.original.birthYear}),y.jsxs("span",{className:"text-sm opacity-70 ml-1",children:["(",K," tui)"]})]})}},{accessorKey:"nganhChinh",header:({column:re})=>y.jsxs("button",{className:"flex items-center gap-1",onClick:()=>re.toggleSorting(),children:["Ngnh",y.jsx(Wl,{className:"w-4 h-4"})]}),cell:({row:re})=>{const K=re.original.nganhChinh;return y.jsx("span",{className:"badge badge-primary badge-outline",children:XP[K]||K||"-"})}},{accessorKey:"nganh",header:({column:re})=>y.jsxs("button",{className:"flex items-center gap-1",onClick:()=>re.toggleSorting(),children:["n V",y.jsx(Wl,{className:"w-4 h-4"})]}),cell:({row:re})=>{const K=Bh(re.original.birthYear,re.original.nganh,re.original.chucVu);return y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"badge badge-outline",children:Oo[re.original.nganh]||re.original.nganh}),K&&y.jsx("div",{className:"tooltip","data-tip":`Nn chuyn sang ${K.toBranchName}`,children:y.jsx(OT,{className:"w-4 h-4 text-warning"})})]})}},{accessorKey:"chucVu",header:({column:re})=>y.jsxs("button",{className:"flex items-center gap-1",onClick:()=>re.toggleSorting(),children:["Chc V",y.jsx(Wl,{className:"w-4 h-4"})]}),cell:({row:re})=>re.original.chucVu||"-"},{accessorKey:"phone",header:"ST",cell:({row:re})=>re.original.phone||"-"},{id:"actions",header:"",cell:({row:re})=>t?y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>N(re.original),children:y.jsx(v3,{className:"w-4 h-4"})}),y.jsx("button",{className:"btn btn-ghost btn-sm text-error",onClick:()=>z(re.original),children:y.jsx(ew,{className:"w-4 h-4"})})]}):null}],[t]),A=BP({data:ge,columns:I,state:{sorting:O},onSortingChange:V,getCoreRowModel:VP(),getSortedRowModel:jP(),getPaginationRowModel:kP(),initialState:{pagination:{pageSize:10}}}),N=re=>{L(re),w(!0)},z=async re=>{if(confirm(`Bn c chc mun xa ${re.hoTen}?`))try{await sw("members",re.id),St.success(" xa thnh vin")}catch(K){St.error("Li khi xa: "+K.message)}},k=()=>{L(null),w(!0)},H=()=>{w(!1),L(null)},D=async()=>{if(confirm("Thm d liu demo (12 thnh vin mu)?")){Q(!0);try{const K=(await FP()).filter(oe=>oe.success).length;St.success(` thm ${K} thnh vin demo!`)}catch(re){St.error("Li: "+re.message)}finally{Q(!1)}}},it=e.filter(re=>Bh(re.birthYear,re.nganh,re.chucVu)).length;return n?y.jsx("div",{className:"flex justify-center items-center h-64",children:y.jsx("span",{className:"loading loading-spinner loading-lg"})}):y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[y.jsx("div",{className:"form-control",children:y.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[y.jsx(Zb,{className:"w-4 h-4 opacity-50"}),y.jsx("input",{type:"text",placeholder:"Tm kim...",className:"grow",value:a,onChange:re=>l(re.target.value)})]})}),y.jsx("select",{className:"select select-bordered",value:c,onChange:re=>f(re.target.value),children:QP.map(re=>y.jsx("option",{value:re.value,children:re.label},re.value))}),y.jsx("select",{className:"select select-bordered",value:g,onChange:re=>p(re.target.value),children:JP.map(re=>y.jsx("option",{value:re.value,children:re.label},re.value))}),it>0&&y.jsxs("button",{className:`btn ${v?"btn-warning":"btn-outline btn-warning"}`,onClick:()=>E(!v),children:[y.jsx(OT,{className:"w-4 h-4"}),"Cnh bo (",it,")"]})]}),t&&y.jsxs("div",{className:"flex gap-2",children:[e.length===0&&y.jsx("button",{className:"btn btn-outline btn-secondary",onClick:D,disabled:F,children:F?y.jsx("span",{className:"loading loading-spinner loading-sm"}):"Thm Demo"}),e.length>0&&y.jsxs("div",{className:"dropdown dropdown-end",children:[y.jsxs("div",{tabIndex:0,role:"button",className:"btn btn-outline btn-success",children:[y.jsx(jV,{className:"w-4 h-4"}),"Xut D Liu"]}),y.jsxs("ul",{tabIndex:0,className:"dropdown-content menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow",children:[y.jsx("li",{children:y.jsxs("button",{onClick:()=>qP(e),children:[y.jsx(HV,{className:"w-4 h-4"}),"Xut CSV"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>$P(e,r),children:[y.jsx(zV,{className:"w-4 h-4"}),"Xut JSON"]})}),y.jsx("li",{children:y.jsxs("button",{onClick:()=>GP(e,r),children:[y.jsx(Ld,{className:"w-4 h-4"}),"Xut PDF"]})})]})]}),y.jsxs("button",{className:"btn btn-primary",onClick:k,children:[y.jsx(Jb,{className:"w-4 h-4"}),"Thm Thnh Vin"]})]})]}),y.jsxs("div",{className:"stats shadow",children:[y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-title",children:"Tng Thnh Vin"}),y.jsx("div",{className:"stat-value text-primary",children:e.length})]}),y.jsxs("div",{className:"stat",children:[y.jsx("div",{className:"stat-title",children:"ang Hin Th"}),y.jsx("div",{className:"stat-value",children:ge.length})]})]}),y.jsx("p",{className:"text-xs text-center opacity-50 md:hidden mb-1",children:" Vut  xem thm "}),y.jsx("div",{className:"overflow-x-auto bg-base-100 rounded-lg shadow",children:y.jsxs("table",{className:"table table-zebra w-full",style:{minWidth:"700px"},children:[y.jsx("thead",{children:A.getHeaderGroups().map(re=>y.jsx("tr",{children:re.headers.map(K=>y.jsx("th",{className:"whitespace-nowrap",children:K.isPlaceholder?null:zT(K.column.columnDef.header,K.getContext())},K.id))},re.id))}),y.jsx("tbody",{children:A.getRowModel().rows.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:I.length,className:"text-center py-8",children:"Khng c d liu"})}):A.getRowModel().rows.map(re=>y.jsx("tr",{className:"hover cursor-pointer",onClick:()=>de(re.original),children:re.getVisibleCells().map(K=>y.jsx("td",{className:"whitespace-nowrap",children:zT(K.column.columnDef.cell,K.getContext())},K.id))},re.id))})]})}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-sm opacity-70",children:["Trang ",A.getState().pagination.pageIndex+1," / ",A.getPageCount()]}),y.jsxs("div",{className:"join",children:[y.jsx("button",{className:"join-item btn btn-sm",onClick:()=>A.previousPage(),disabled:!A.getCanPreviousPage(),children:y.jsx(qb,{className:"w-4 h-4"})}),y.jsx("button",{className:"join-item btn btn-sm",onClick:()=>A.nextPage(),disabled:!A.getCanNextPage(),children:y.jsx(iy,{className:"w-4 h-4"})})]})]}),y.jsx(ow,{member:C,isOpen:b,onClose:H}),y.jsx(ay,{member:se?{name:se.hoTen,phapDanh:se.phapDanh,photoUrl:se.photoUrl,birthYear:se.birthYear,phone:se.phone,address:se.address,capBac:se.capBac,chucVu:se.chucVu,nganhChinh:se.nganhChinh,quaTrinhSinhHoat:se.quaTrinhSinhHoat,role:Oo[se.nganh]||se.nganh}:null,isOpen:!!se,onClose:()=>de(null),isAdmin:t,onEdit:()=>{de(null),N(se)}})]})}function ZP(){return y.jsxs("div",{className:"space-y-4",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Danh Sch on Sinh GPT Vnh An"}),y.jsx(WP,{})]})}const ek=[{id:"cong-van",name:"Cng Vn",icon:Wb,color:"text-red-500",hasAnnouncement:!0},{id:"phat-phap",name:"Pht Php",icon:NV,color:"text-amber-500"},{id:"ky-nang",name:"K Nng Chuyn Mn",icon:C3,color:"text-blue-500"},{id:"bai-hat",name:"Bi Ht Sinh Hot",icon:Qb,color:"text-pink-500"},{id:"tro-choi",name:"Tng Hp Tr Chi",icon:KV,color:"text-green-500"}],BT=[{value:"document",label:"Ti liu (PDF, Word)",icon:Ld},{value:"audio",label:"m thanh (MP3)",icon:Qb},{value:"video",label:"Video",icon:R3},{value:"youtube",label:"YouTube",icon:D3},{value:"image",label:"Hnh nh",icon:XV},{value:"other",label:"Link khc",icon:Kb}];function tk(){const{isAdmin:t}=Uu(),{documents:e,loading:n}=qo("documents"),[r,a]=P.useState(null),[l,c]=P.useState(!1),[f,g]=P.useState({title:"",url:"",type:"document",description:""}),p=P.useMemo(()=>r?e.filter(V=>V.category===r.id):[],[e,r]),v=P.useMemo(()=>e.reduce((V,F)=>(V[F.category]=(V[F.category]||0)+1,V),{}),[e]),E=async V=>{if(V.preventDefault(),!f.title.trim()||!f.url.trim()){St.error("Vui lng nhp  thng tin");return}try{new URL(f.url)}catch{St.error("URL khng hp l");return}try{await ry("documents",{...f,category:r.id}),St.success(" thm ti liu!"),c(!1),g({title:"",url:"",type:"document",description:""})}catch(F){St.error("Li: "+F.message)}},b=async V=>{if(confirm(`Bn c chc mun xa "${V.title}"?`))try{await sw("documents",V.id),St.success(" xa ti liu")}catch(F){St.error("Li: "+F.message)}},w=async V=>{try{await rw("documents",V.id,{showAnnouncement:!V.showAnnouncement}),St.success(V.showAnnouncement?" tt thng bo":" bt thng bo trang ch")}catch(F){St.error("Li: "+F.message)}},C=V=>BT.find(Q=>Q.value===V)?.icon||Kb,L=V=>{const F=V.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);return F?F[1]:null};if(!r)return y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Ti Liu"}),y.jsx("p",{className:"opacity-70",children:"Chn danh mc  xem ti liu"}),n?y.jsx("div",{className:"flex justify-center py-8",children:y.jsx("span",{className:"loading loading-spinner loading-lg"})}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ek.map(V=>{const F=V.icon,Q=v[V.id]||0;return y.jsx("div",{className:"card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors",onClick:()=>a(V),children:y.jsxs("div",{className:"card-body flex-row items-center gap-4",children:[y.jsx("div",{className:`p-3 rounded-lg bg-base-100 ${V.color}`,children:y.jsx(F,{className:"w-8 h-8"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"card-title",children:V.name}),y.jsxs("p",{className:"text-sm opacity-70",children:[Q," ti liu"]})]}),y.jsx(iy,{className:"w-5 h-5 opacity-50"})]})},V.id)})}),y.jsx("div",{className:"alert alert-info",children:y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold",children:"Hng dn thm ti liu:"}),y.jsxs("ol",{className:"list-decimal list-inside text-sm mt-2 space-y-1",children:[y.jsxs("li",{children:["Upload file ln ",y.jsx("strong",{children:"Google Drive"})," v copy link chia s"]}),y.jsxs("li",{children:["Hoc copy link t ",y.jsx("strong",{children:"YouTube"}),", ",y.jsx("strong",{children:"SoundCloud"})]}),y.jsx("li",{children:"Vo danh mc  Thm Ti Liu  Dn link"})]})]})})]});const O=r.icon;return y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"breadcrumbs text-sm",children:y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs("button",{className:"flex items-center gap-1 hover:text-primary",onClick:()=>a(null),children:[y.jsx(Gb,{className:"w-4 h-4"}),"Ti Liu"]})}),y.jsx("li",{children:y.jsxs("span",{className:`flex items-center gap-1 ${r.color}`,children:[y.jsx(O,{className:"w-4 h-4"}),r.name]})})]})}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[y.jsx(O,{className:`w-6 h-6 ${r.color}`}),r.name]}),t&&y.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),children:[y.jsx(Jb,{className:"w-4 h-4"}),"Thm Ti Liu"]})]}),n&&y.jsx("div",{className:"flex justify-center py-8",children:y.jsx("span",{className:"loading loading-spinner loading-lg"})}),!n&&p.length===0&&y.jsxs("div",{className:"text-center py-12 opacity-70",children:[y.jsx($V,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),y.jsx("p",{children:"Cha c ti liu no"}),t&&y.jsx("p",{className:"text-sm mt-2",children:'Nhn "Thm Ti Liu"  thm link'})]}),!n&&p.length>0&&y.jsx("div",{className:"grid gap-3",children:p.map(V=>{const F=C(V.type),Q=V.type==="youtube"?L(V.url):null;return y.jsx("div",{className:"card bg-base-200",children:y.jsx("div",{className:"card-body p-4",children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:`p-2 rounded-lg bg-base-300 ${r.color}`,children:y.jsx(F,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("h3",{className:"font-semibold",children:V.title}),V.showAnnouncement&&y.jsxs("span",{className:"badge badge-warning badge-sm gap-1",children:[y.jsx(MT,{className:"w-3 h-3"}),"Thng bo"]})]}),V.description&&y.jsx("p",{className:"text-sm opacity-70 mt-1",children:V.description}),Q&&y.jsx("div",{className:"mt-3 aspect-video max-w-md",children:y.jsx("iframe",{className:"w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${Q}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("a",{href:V.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-ghost btn-sm",children:[y.jsx($b,{className:"w-4 h-4"}),"M"]}),t&&r?.hasAnnouncement&&y.jsx("button",{className:`btn btn-ghost btn-sm ${V.showAnnouncement?"text-warning":"opacity-50"}`,onClick:se=>{se.stopPropagation(),w(V)},title:V.showAnnouncement?"ang hin th thng bo":"Bt thng bo trang ch",children:y.jsx(MT,{className:"w-4 h-4"})}),t&&y.jsx("button",{className:"btn btn-ghost btn-sm text-error",onClick:se=>{se.stopPropagation(),b(V)},children:y.jsx(ew,{className:"w-4 h-4"})})]})]})})},V.id)})}),y.jsxs("dialog",{className:`modal ${l?"modal-open":""}`,children:[y.jsxs("div",{className:"modal-box",children:[y.jsx("h3",{className:"font-bold text-lg mb-4",children:"Thm Ti Liu"}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Tiu  *"})}),y.jsx("input",{type:"text",className:"input input-bordered",placeholder:"VD: Bi Ca Sen Trng",value:f.title,onChange:V=>g({...f,title:V.target.value}),required:!0})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Loi ti liu"})}),y.jsx("select",{className:"select select-bordered",value:f.type,onChange:V=>g({...f,type:V.target.value}),children:BT.map(V=>y.jsx("option",{value:V.value,children:V.label},V.value))})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Link URL *"})}),y.jsx("input",{type:"url",className:"input input-bordered",placeholder:"https://drive.google.com/... hoc https://youtube.com/...",value:f.url,onChange:V=>g({...f,url:V.target.value}),required:!0}),y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text-alt opacity-70",children:"Dn link t Google Drive, YouTube, SoundCloud, v.v."})})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"M t (ty chn)"})}),y.jsx("textarea",{className:"textarea textarea-bordered",placeholder:"M t ngn v ti liu...",rows:2,value:f.description,onChange:V=>g({...f,description:V.target.value})})]}),y.jsxs("div",{className:"modal-action",children:[y.jsx("button",{type:"button",className:"btn",onClick:()=>c(!1),children:"Hy"}),y.jsx("button",{type:"submit",className:"btn btn-primary",children:"Thm"})]})]})]}),y.jsx("form",{method:"dialog",className:"modal-backdrop",children:y.jsx("button",{onClick:()=>c(!1),children:"close"})})]})]})}function nk(){return y.jsx("div",{className:"space-y-4",children:y.jsx(tk,{})})}function ik(){const[t,e]=P.useState(""),[n,r]=P.useState(""),[a,l]=P.useState(!1),{login:c}=Uu(),f=np(),g=async p=>{p.preventDefault(),l(!0);try{await c(t,n),St.success("ng nhp thnh cng!"),f("/")}catch(v){console.error("Login error:",v);let E="ng nhp tht bi";v.code==="auth/user-not-found"?E="Khng tm thy ti khon":v.code==="auth/wrong-password"?E="Sai mt khu":v.code==="auth/invalid-email"?E="Email khng hp l":v.code==="auth/invalid-credential"&&(E="Email hoc mt khu khng ng"),St.error(E)}finally{l(!1)}};return y.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:y.jsx("div",{className:"card w-full max-w-md bg-base-200 shadow-xl",children:y.jsxs("div",{className:"card-body",children:[y.jsxs("h2",{className:"card-title justify-center text-2xl mb-4",children:[y.jsx(DT,{className:"w-6 h-6"}),"ng Nhp Qun Tr"]}),y.jsxs("form",{onSubmit:g,className:"space-y-4",children:[y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Email"})}),y.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[y.jsx(i3,{className:"w-4 h-4 opacity-70"}),y.jsx("input",{type:"email",className:"grow",placeholder:"admin@example.com",value:t,onChange:p=>e(p.target.value),required:!0})]})]}),y.jsxs("div",{className:"form-control",children:[y.jsx("label",{className:"label",children:y.jsx("span",{className:"label-text",children:"Mt Khu"})}),y.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[y.jsx(DT,{className:"w-4 h-4 opacity-70"}),y.jsx("input",{type:"password",className:"grow",placeholder:"********",value:n,onChange:p=>r(p.target.value),required:!0})]})]}),y.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?y.jsx("span",{className:"loading loading-spinner loading-sm"}):y.jsxs(y.Fragment,{children:[y.jsx(Yb,{className:"w-4 h-4"}),"ng Nhp"]})})]}),y.jsx("div",{className:"divider",children:"Lu "}),y.jsxs("p",{className:"text-sm opacity-70 text-center",children:["Ch qun tr vin mi c quyn ng nhp.",y.jsx("br",{}),"Lin h ban qun tr  c cp ti khon."]})]})})})}function rk(){const t=np(),e=Rr();return P.useEffect(()=>{const n=e.search;if(n.startsWith("?/")){const r=n.slice(2).split("&")[0].replace(/~and~/g,"&");t("/"+r,{replace:!0})}},[e,t]),null}function sk(){return y.jsx(IO,{children:y.jsxs(NR,{basename:"/vinhan",children:[y.jsx(rk,{}),y.jsx(sR,{children:y.jsxs(la,{path:"/",element:y.jsx(k3,{}),children:[y.jsx(la,{index:!0,element:y.jsx(U3,{})}),y.jsx(la,{path:"org-chart",element:y.jsx(K3,{})}),y.jsx(la,{path:"members",element:y.jsx(ZP,{})}),y.jsx(la,{path:"documents",element:y.jsx(nk,{})}),y.jsx(la,{path:"login",element:y.jsx(ik,{})})]})})]})})}sx.createRoot(document.getElementById("root")).render(y.jsx(P.StrictMode,{children:y.jsx(sk,{})}));
