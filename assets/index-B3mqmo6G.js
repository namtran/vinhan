(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var km={exports:{}},$l={};var R0;function jR(){if(R0)return $l;R0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:t,type:r,key:c,ref:o!==void 0?o:null,props:l}}return $l.Fragment=e,$l.jsx=n,$l.jsxs=n,$l}var A0;function UR(){return A0||(A0=1,km.exports=jR()),km.exports}var _=UR(),Lm={exports:{}},Re={};var C0;function zR(){if(C0)return Re;C0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),b=Symbol.iterator;function R(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,N={};function B(j,te,ae){this.props=j,this.context=te,this.refs=N,this.updater=ae||I}B.prototype.isReactComponent={},B.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},B.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function $(){}$.prototype=B.prototype;function X(j,te,ae){this.props=j,this.context=te,this.refs=N,this.updater=ae||I}var le=X.prototype=new $;le.constructor=X,z(le,B.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function me(){}var O={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function M(j,te,ae){var he=ae.ref;return{$$typeof:t,type:j,key:te,ref:he!==void 0?he:null,props:ae}}function U(j,te){return M(j.type,te,j.props)}function P(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function D(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ae){return te[ae]})}var C=/\/+/g;function Ke(j,te){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):te.toString(36)}function Vt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(me,me):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,te,ae,he,be){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var ze=!1;if(j===null)ze=!0;else switch(Ne){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(j.$$typeof){case t:case e:ze=!0;break;case v:return ze=j._init,Z(ze(j._payload),te,ae,he,be)}}if(ze)return be=be(j),ze=he===""?"."+Ke(j,0):he,oe(be)?(ae="",ze!=null&&(ae=ze.replace(C,"$&/")+"/"),Z(be,te,ae,"",function(Is){return Is})):be!=null&&(P(be)&&(be=U(be,ae+(be.key==null||j&&j.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+ze)),te.push(be)),1;ze=0;var Pt=he===""?".":he+":";if(oe(j))for(var lt=0;lt<j.length;lt++)he=j[lt],Ne=Pt+Ke(he,lt),ze+=Z(he,te,ae,Ne,be);else if(lt=R(j),typeof lt=="function")for(j=lt.call(j),lt=0;!(he=j.next()).done;)he=he.value,Ne=Pt+Ke(he,lt++),ze+=Z(he,te,ae,Ne,be);else if(Ne==="object"){if(typeof j.then=="function")return Z(Vt(j),te,ae,he,be);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(j,te,ae){if(j==null)return j;var he=[],be=0;return Z(j,he,"","",function(Ne){return te.call(ae,Ne,be++)}),he}function ye(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=ae)},function(ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=ae)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var He=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Qe={map:se,forEach:function(j,te,ae){se(j,function(){te.apply(this,arguments)},ae)},count:function(j){var te=0;return se(j,function(){te++}),te},toArray:function(j){return se(j,function(te){return te})||[]},only:function(j){if(!P(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Re.Activity=E,Re.Children=Qe,Re.Component=B,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=X,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Re.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},Re.cache=function(j){return function(){return j.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(j,te,ae){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=z({},j.props),be=j.key;if(te!=null)for(Ne in te.key!==void 0&&(be=""+te.key),te)!x.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(he[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=ae;else if(1<Ne){for(var ze=Array(Ne),Pt=0;Pt<Ne;Pt++)ze[Pt]=arguments[Pt+2];he.children=ze}return M(j.type,be,he)},Re.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Re.createElement=function(j,te,ae){var he,be={},Ne=null;if(te!=null)for(he in te.key!==void 0&&(Ne=""+te.key),te)x.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=te[he]);var ze=arguments.length-2;if(ze===1)be.children=ae;else if(1<ze){for(var Pt=Array(ze),lt=0;lt<ze;lt++)Pt[lt]=arguments[lt+2];be.children=Pt}if(j&&j.defaultProps)for(he in ze=j.defaultProps,ze)be[he]===void 0&&(be[he]=ze[he]);return M(j,Ne,be)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:m,render:j}},Re.isValidElement=P,Re.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ye}},Re.memo=function(j,te){return{$$typeof:p,type:j,compare:te===void 0?null:te}},Re.startTransition=function(j){var te=O.T,ae={};O.T=ae;try{var he=j(),be=O.S;be!==null&&be(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,He)}catch(Ne){He(Ne)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),O.T=te}},Re.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Re.use=function(j){return O.H.use(j)},Re.useActionState=function(j,te,ae){return O.H.useActionState(j,te,ae)},Re.useCallback=function(j,te){return O.H.useCallback(j,te)},Re.useContext=function(j){return O.H.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j,te){return O.H.useDeferredValue(j,te)},Re.useEffect=function(j,te){return O.H.useEffect(j,te)},Re.useEffectEvent=function(j){return O.H.useEffectEvent(j)},Re.useId=function(){return O.H.useId()},Re.useImperativeHandle=function(j,te,ae){return O.H.useImperativeHandle(j,te,ae)},Re.useInsertionEffect=function(j,te){return O.H.useInsertionEffect(j,te)},Re.useLayoutEffect=function(j,te){return O.H.useLayoutEffect(j,te)},Re.useMemo=function(j,te){return O.H.useMemo(j,te)},Re.useOptimistic=function(j,te){return O.H.useOptimistic(j,te)},Re.useReducer=function(j,te,ae){return O.H.useReducer(j,te,ae)},Re.useRef=function(j){return O.H.useRef(j)},Re.useState=function(j){return O.H.useState(j)},Re.useSyncExternalStore=function(j,te,ae){return O.H.useSyncExternalStore(j,te,ae)},Re.useTransition=function(){return O.H.useTransition()},Re.version="19.2.3",Re}var x0;function Qg(){return x0||(x0=1,Lm.exports=zR()),Lm.exports}var L=Qg(),jm={exports:{}},Kl={},Um={exports:{}},zm={};var N0;function BR(){return N0||(N0=1,(function(t){function e(Z,se){var ye=Z.length;Z.push(se);e:for(;0<ye;){var He=ye-1>>>1,Qe=Z[He];if(0<o(Qe,se))Z[He]=se,Z[ye]=Qe,ye=He;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],ye=Z.pop();if(ye!==se){Z[0]=ye;e:for(var He=0,Qe=Z.length,j=Qe>>>1;He<j;){var te=2*(He+1)-1,ae=Z[te],he=te+1,be=Z[he];if(0>o(ae,ye))he<Qe&&0>o(be,ae)?(Z[He]=be,Z[he]=ye,He=he):(Z[He]=ae,Z[te]=ye,He=te);else if(he<Qe&&0>o(be,ye))Z[He]=be,Z[he]=ye,He=he;else break e}}return se}function o(Z,se){var ye=Z.sortIndex-se.sortIndex;return ye!==0?ye:Z.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();t.unstable_now=function(){return c.now()-m}}var g=[],p=[],v=1,E=null,b=3,R=!1,I=!1,z=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function le(Z){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=Z)r(p),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(p)}}function oe(Z){if(z=!1,le(Z),!I)if(n(g)!==null)I=!0,me||(me=!0,D());else{var se=n(p);se!==null&&Vt(oe,se.startTime-Z)}}var me=!1,O=-1,x=5,M=-1;function U(){return N?!0:!(t.unstable_now()-M<x)}function P(){if(N=!1,me){var Z=t.unstable_now();M=Z;var se=!0;try{e:{I=!1,z&&(z=!1,$(O),O=-1),R=!0;var ye=b;try{t:{for(le(Z),E=n(g);E!==null&&!(E.expirationTime>Z&&U());){var He=E.callback;if(typeof He=="function"){E.callback=null,b=E.priorityLevel;var Qe=He(E.expirationTime<=Z);if(Z=t.unstable_now(),typeof Qe=="function"){E.callback=Qe,le(Z),se=!0;break t}E===n(g)&&r(g),le(Z)}else r(g);E=n(g)}if(E!==null)se=!0;else{var j=n(p);j!==null&&Vt(oe,j.startTime-Z),se=!1}}break e}finally{E=null,b=ye,R=!1}se=void 0}}finally{se?D():me=!1}}}var D;if(typeof X=="function")D=function(){X(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ke=C.port2;C.port1.onmessage=P,D=function(){Ke.postMessage(null)}}else D=function(){B(P,0)};function Vt(Z,se){O=B(function(){Z(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ye=b;b=se;try{return Z()}finally{b=ye}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=b;b=Z;try{return se()}finally{b=ye}},t.unstable_scheduleCallback=function(Z,se,ye){var He=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?He+ye:He):ye=He,Z){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ye+Qe,Z={id:v++,callback:se,priorityLevel:Z,startTime:ye,expirationTime:Qe,sortIndex:-1},ye>He?(Z.sortIndex=ye,e(p,Z),n(g)===null&&Z===n(p)&&(z?($(O),O=-1):z=!0,Vt(oe,ye-He))):(Z.sortIndex=Qe,e(g,Z),I||R||(I=!0,me||(me=!0,D()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var se=b;return function(){var ye=b;b=se;try{return Z.apply(this,arguments)}finally{b=ye}}}})(zm)),zm}var I0;function HR(){return I0||(I0=1,Um.exports=BR()),Um.exports}var Bm={exports:{}},en={};var D0;function FR(){if(D0)return en;D0=1;var t=Qg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},en.flushSync=function(g){var p=c.T,v=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=v,r.d.f()}},en.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,E=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:R}):v==="script"&&r.d.X(g,{crossOrigin:E,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},en.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=m(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,p){return g(p)},en.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.3",en}var M0;function qR(){if(M0)return Bm.exports;M0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bm.exports=FR(),Bm.exports}var O0;function GR(){if(O0)return Kl;O0=1;var t=HR(),e=Qg(),n=qR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var a=i,u=s;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),i;if(d===u)return g(f),s;d=d.sibling}throw Error(r(188))}if(a.return!==u.return)a=f,u=d;else{for(var T=!1,w=f.child;w;){if(w===a){T=!0,a=f,u=d;break}if(w===u){T=!0,u=f,a=d;break}w=w.sibling}if(!T){for(w=d.child;w;){if(w===a){T=!0,a=d,u=f;break}if(w===u){T=!0,u=d,a=f;break}w=w.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),X=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function Ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case oe:return"Suspense";case me:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case X:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return s=i.displayName||null,s!==null?s:Ke(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Ke(i(s))}catch{}}return null}var Vt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},He=[],Qe=-1;function j(i){return{current:i}}function te(i){0>Qe||(i.current=He[Qe],He[Qe]=null,Qe--)}function ae(i,s){Qe++,He[Qe]=i.current,i.current=s}var he=j(null),be=j(null),Ne=j(null),ze=j(null);function Pt(i,s){switch(ae(Ne,s),ae(be,i),ae(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Yv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Yv(s),i=Qv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(he),ae(he,i)}function lt(){te(he),te(be),te(Ne)}function Is(i){i.memoizedState!==null&&ae(ze,i);var s=he.current,a=Qv(s,i.type);s!==a&&(ae(be,i),ae(he,a))}function wa(i){be.current===i&&(te(he),te(be)),ze.current===i&&(te(ze),Hl._currentValue=ye)}var Ra,Aa;function fi(i){if(Ra===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ra=s&&s[1]||"",Aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ra+i+Aa}var Ho=!1;function Ds(i,s){if(!i||Ho)return"";Ho=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var K=Q}Reflect.construct(i,[],ee)}else{try{ee.call()}catch(Q){K=Q}i.call(ee.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),T=d[0],w=d[1];if(T&&w){var V=T.split(`
`),G=w.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===G.length)for(u=V.length-1,f=G.length-1;1<=u&&0<=f&&V[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==G[f]){var W=`
`+V[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=f);break}}}finally{Ho=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?fi(a):""}function Fo(i,s){switch(i.tag){case 26:case 27:case 5:return fi(i.type);case 16:return fi("Lazy");case 13:return i.child!==s&&s!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Ds(i.type,!1);case 11:return Ds(i.type.render,!1);case 1:return Ds(i.type,!0);case 31:return fi("Activity");default:return""}}function qo(i){try{var s="",a=null;do s+=Fo(i,a),a=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Et=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,Ar=t.unstable_cancelCallback,jf=t.unstable_shouldYield,Uu=t.unstable_requestPaint,on=t.unstable_now,Ms=t.unstable_getCurrentPriorityLevel,Go=t.unstable_ImmediatePriority,$o=t.unstable_UserBlockingPriority,Cr=t.unstable_NormalPriority,Uf=t.unstable_LowPriority,zu=t.unstable_IdlePriority,Bu=t.log,Hu=t.unstable_setDisableYieldValue,Yn=null,Gt=null;function In(i){if(typeof Bu=="function"&&Hu(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Yn,i)}catch{}}var gt=Math.clz32?Math.clz32:qu,Fu=Math.log,Ca=Math.LN2;function qu(i){return i>>>=0,i===0?32:31-(Fu(i)/Ca|0)|0}var di=256,Os=262144,St=4194304;function mi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gi(i,s,a){var u=i.pendingLanes;if(u===0)return 0;var f=0,d=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~d,u!==0?f=mi(u):(T&=w,T!==0?f=mi(T):a||(a=w&~i,a!==0&&(f=mi(a))))):(w=u&~d,w!==0?f=mi(w):T!==0?f=mi(T):a||(a=u&~i,a!==0&&(f=mi(a)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:f}function Qn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function zf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gu(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function pi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Vs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Bf(i,s,a,u,f,d){var T=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,V=i.expirationTimes,G=i.hiddenUpdates;for(a=T&~a;0<a;){var W=31-gt(a),ee=1<<W;w[W]=0,V[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var Q=K[W];Q!==null&&(Q.lane&=-536870913)}a&=~ee}u!==0&&Ps(i,u,0),d!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=d&~(T&~s))}function Ps(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-gt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function Ko(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var u=31-gt(a),f=1<<u;f&s|i[u]&s&&(i[u]|=s),a&=~f}}function Yo(i,s){var a=s&-s;return a=(a&42)!==0?1:ks(a),(a&(i.suspendedLanes|s))!==0?0:a}function ks(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $u(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:_0(i.type))}function Xn(i,s){var a=se.p;try{return se.p=i,s()}finally{se.p=a}}var Wn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Wn,Bt="__reactProps$"+Wn,yi="__reactContainer$"+Wn,xa="__reactEvents$"+Wn,Hf="__reactListeners$"+Wn,Ku="__reactHandles$"+Wn,Yu="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function Na(i){delete i[bt],delete i[Bt],delete i[xa],delete i[Hf],delete i[Ku]}function vi(i){var s=i[bt];if(s)return s;for(var a=i.parentNode;a;){if(s=a[yi]||a[bt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=n0(i);i!==null;){if(a=i[bt])return a;i=n0(i)}return s}i=a,a=i.parentNode}return null}function Dn(i){if(i=i[bt]||i[yi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function vn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ti(i){var s=i[Yu];return s||(s=i[Yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(i){i[_i]=!0}var Qo=new Set,Xo={};function Ei(i,s){Si(i,s),Si(i+"Capture",s)}function Si(i,s){for(Xo[i]=s,i=0;i<s.length;i++)Qo.add(s[i])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function Qu(i){return Et.call(Jo,i)?!0:Et.call(Zo,i)?!1:Wo.test(i)?Jo[i]=!0:(Zo[i]=!0,!1)}function Ia(i,s,a){if(Qu(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Tn(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Rt(i,s,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+u)}}function Ht(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function el(i,s,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){a=""+T,d.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(T){a=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Xe(i){if(!i._valueTracker){var s=xr(i)?"checked":"value";i._valueTracker=el(i,s,""+i[s])}}function Ls(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return i&&(u=xr(i)?i.checked?"true":"false":i.value),i=u,i!==a?(s.setValue(i),!0):!1}function bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var js=/[\n"\\]/g;function cn(i){return i.replace(js,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Da(i,s,a,u,f,d,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ht(s)):i.value!==""+Ht(s)&&(i.value=""+Ht(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?tl(i,T,Ht(s)):a!=null?tl(i,T,Ht(a)):u!=null&&i.removeAttribute("value"),f==null&&d!=null&&(i.defaultChecked=!!d),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Ht(w):i.removeAttribute("name")}function Xu(i,s,a,u,f,d,T,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(i.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Xe(i);return}a=a!=null?""+Ht(a):"",s=s!=null?""+Ht(s):a,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Xe(i)}function tl(i,s,a){s==="number"&&bi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Nr(i,s,a,u){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Ht(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Wu(i,s,a){if(s!=null&&(s=""+Ht(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+Ht(a):""}function Ir(i,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(r(92));if(Vt(u)){if(1<u.length)throw Error(r(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Ht(s),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),Xe(i)}function hn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(i,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,a):typeof a!="number"||a===0||Zu.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function il(i,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&a[f]!==u&&nl(i,f,u)}else for(var d in s)s.hasOwnProperty(d)&&nl(i,d,s[d])}function Ma(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(i){return Dr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Zn(){}var rl=null;function Mn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mr=null,wi=null;function Us(i){var s=Dn(i);if(s&&(i=s.stateNode)){var a=i[Bt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Da(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==i&&u.form===i.form){var f=u[Bt]||null;if(!f)throw Error(r(90));Da(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===i.form&&Ls(u)}break e;case"textarea":Wu(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Nr(i,!!a.multiple,s,!1)}}}var Va=!1;function Or(i,s,a){if(Va)return i(s,a);Va=!0;try{var u=i(s);return u}finally{if(Va=!1,(Mr!==null||wi!==null)&&($c(),Mr&&(s=Mr,i=wi,wi=Mr=null,Us(s),i)))for(s=0;s<i.length;s++)Us(i[s])}}function Jn(i,s){var a=i.stateNode;if(a===null)return null;var u=a[Bt]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{zs=!1}var Ri=null,sl=null,Bs=null;function al(){if(Bs)return Bs;var i,s=sl,a=s.length,u,f="value"in Ri?Ri.value:Ri.textContent,d=f.length;for(i=0;i<a&&s[i]===f[i];i++);var T=a-i;for(u=1;u<=T&&s[a-u]===f[d-u];u++);return Bs=f.slice(i,1<u?1-u:void 0)}function Hs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Xi(){return!0}function ei(){return!1}function $t(i){function s(a,u,f,d,T){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ei,this.isPropagationStopped=ei,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=$t(Wi),Vr=E({},Wi,{view:0,detail:0}),ol=$t(Vr),Pr,Pa,Ci,ka=E({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(Pr=i.screenX-Ci.screenX,Pa=i.screenY-Ci.screenY):Pa=Pr=0,Ci=i),Pr)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),ll=$t(ka),Fs=E({},ka,{dataTransfer:0}),ec=$t(Fs),tc=E({},Vr,{relatedTarget:0}),qs=$t(tc),ul=E({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),nc=$t(ul),La=E({},Wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ic=$t(La),rc=E({},Wi,{data:0}),xi=$t(rc),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=oc[i])?!!s[i]:!1}function kr(){return lc}var ln=E({},Vr,{key:function(i){if(i.key){var s=sc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Hs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(i){return i.type==="keypress"?Hs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),uc=$t(ln),cc=E({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=$t(cc),h=E({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=$t(h),S=E({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=$t(S),F=E({},ka,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=$t(F),re=E({},Wi,{newState:0,oldState:0}),Ce=$t(re),pt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,ut=null;On&&"documentMode"in document&&(ut=document.documentMode);var Vn=On&&"TextEvent"in window&&!ut,Ni=On&&(!Ge||ut&&8<ut&&11>=ut),ti=" ",ni=!1;function Gs(i,s){switch(i){case"keyup":return pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ua=!1;function lw(i,s){switch(i){case"compositionend":return ja(s);case"keypress":return s.which!==32?null:(ni=!0,ti);case"textInput":return i=s.data,i===ti&&ni?null:i;default:return null}}function uw(i,s){if(Ua)return i==="compositionend"||!Ge&&Gs(i,s)?(i=al(),Bs=sl=Ri=null,Ua=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ni&&s.locale!=="ko"?null:s.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!cw[i.type]:s==="textarea"}function ay(i,s,a,u){Mr?wi?wi.push(u):wi=[u]:Mr=u,s=Jc(s,"onChange"),0<s.length&&(a=new Ai("onChange","change",null,a,u),i.push({event:a,listeners:s}))}var cl=null,hl=null;function hw(i){Hv(i,0)}function hc(i){var s=vn(i);if(Ls(s))return i}function oy(i,s){if(i==="change")return s}var ly=!1;if(On){var Ff;if(On){var qf="oninput"in document;if(!qf){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),qf=typeof uy.oninput=="function"}Ff=qf}else Ff=!1;ly=Ff&&(!document.documentMode||9<document.documentMode)}function cy(){cl&&(cl.detachEvent("onpropertychange",hy),hl=cl=null)}function hy(i){if(i.propertyName==="value"&&hc(hl)){var s=[];ay(s,hl,i,Mn(i)),Or(hw,s)}}function fw(i,s,a){i==="focusin"?(cy(),cl=s,hl=a,cl.attachEvent("onpropertychange",hy)):i==="focusout"&&cy()}function dw(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hc(hl)}function mw(i,s){if(i==="click")return hc(s)}function gw(i,s){if(i==="input"||i==="change")return hc(s)}function pw(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var En=typeof Object.is=="function"?Object.is:pw;function fl(i,s){if(En(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Et.call(s,f)||!En(i[f],s[f]))return!1}return!0}function fy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dy(i,s){var a=fy(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=s&&u>=s)return{node:a,offset:s-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fy(a)}}function my(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?my(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=bi(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=bi(i.document)}return s}function Gf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var yw=On&&"documentMode"in document&&11>=document.documentMode,za=null,$f=null,dl=null,Kf=!1;function py(i,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||za==null||za!==bi(u)||(u=za,"selectionStart"in u&&Gf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=Jc($f,"onSelect"),0<u.length&&(s=new Ai("onSelect","select",null,s,a),i.push({event:s,listeners:u}),s.target=za)))}function $s(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Ba={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},Yf={},yy={};On&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Ks(i){if(Yf[i])return Yf[i];if(!Ba[i])return i;var s=Ba[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in yy)return Yf[i]=s[a];return i}var _y=Ks("animationend"),vy=Ks("animationiteration"),Ty=Ks("animationstart"),_w=Ks("transitionrun"),vw=Ks("transitionstart"),Tw=Ks("transitioncancel"),Ey=Ks("transitionend"),Sy=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function ii(i,s){Sy.set(i,s),Ei(s,[i])}var fc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],Ha=0,Xf=0;function dc(){for(var i=Ha,s=Xf=Ha=0;s<i;){var a=Pn[s];Pn[s++]=null;var u=Pn[s];Pn[s++]=null;var f=Pn[s];Pn[s++]=null;var d=Pn[s];if(Pn[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}d!==0&&by(a,f,d)}}function mc(i,s,a,u){Pn[Ha++]=i,Pn[Ha++]=s,Pn[Ha++]=a,Pn[Ha++]=u,Xf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Wf(i,s,a,u){return mc(i,s,a,u),gc(i)}function Ys(i,s){return mc(i,null,null,s),gc(i)}function by(i,s,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=i.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(i=d.stateNode,i===null||i._visibility&1||(f=!0)),i=d,d=d.return;return i.tag===3?(d=i.stateNode,f&&s!==null&&(f=31-gt(a),i=d.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=a|536870912),d):null}function gc(i){if(50<Pl)throw Pl=0,am=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fa={};function Ew(i,s,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(i,s,a,u){return new Ew(i,s,a,u)}function Zf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,s){var a=i.alternate;return a===null?(a=Sn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function wy(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function pc(i,s,a,u,f,d){var T=0;if(u=i,typeof i=="function")Zf(i)&&(T=1);else if(typeof i=="string")T=AR(i,a,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Sn(31,a,s,f),i.elementType=M,i.lanes=d,i;case z:return Qs(a.children,f,d,s);case N:T=8,f|=24;break;case B:return i=Sn(12,a,s,f|2),i.elementType=B,i.lanes=d,i;case oe:return i=Sn(13,a,s,f),i.elementType=oe,i.lanes=d,i;case me:return i=Sn(19,a,s,f),i.elementType=me,i.lanes=d,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case X:T=10;break e;case $:T=9;break e;case le:T=11;break e;case O:T=14;break e;case x:T=16,u=null;break e}T=29,a=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Sn(T,a,s,f),s.elementType=i,s.type=u,s.lanes=d,s}function Qs(i,s,a,u){return i=Sn(7,i,u,s),i.lanes=a,i}function Jf(i,s,a){return i=Sn(6,i,null,s),i.lanes=a,i}function Ry(i){var s=Sn(18,null,null,0);return s.stateNode=i,s}function ed(i,s,a){return s=Sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ay=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var a=Ay.get(i);return a!==void 0?a:(s={value:i,source:s,stack:qo(s)},Ay.set(i,s),s)}return{value:i,source:s,stack:qo(s)}}var qa=[],Ga=0,yc=null,ml=0,Ln=[],jn=0,Lr=null,Ii=1,Di="";function er(i,s){qa[Ga++]=ml,qa[Ga++]=yc,yc=i,ml=s}function Cy(i,s,a){Ln[jn++]=Ii,Ln[jn++]=Di,Ln[jn++]=Lr,Lr=i;var u=Ii;i=Di;var f=32-gt(u)-1;u&=~(1<<f),a+=1;var d=32-gt(s)+f;if(30<d){var T=f-f%5;d=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Ii=1<<32-gt(s)+f|a<<f|u,Di=d+i}else Ii=1<<d|a<<f|u,Di=i}function td(i){i.return!==null&&(er(i,1),Cy(i,1,0))}function nd(i){for(;i===yc;)yc=qa[--Ga],qa[Ga]=null,ml=qa[--Ga],qa[Ga]=null;for(;i===Lr;)Lr=Ln[--jn],Ln[jn]=null,Di=Ln[--jn],Ln[jn]=null,Ii=Ln[--jn],Ln[jn]=null}function xy(i,s){Ln[jn++]=Ii,Ln[jn++]=Di,Ln[jn++]=Lr,Ii=s.id,Di=s.overflow,Lr=i}var Kt=null,st=null,Ue=!1,jr=null,Un=!1,id=Error(r(519));function Ur(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(kn(s,i)),id}function Ny(i){var s=i.stateNode,a=i.type,u=i.memoizedProps;switch(s[bt]=i,s[Bt]=u,a){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Me(Ll[a],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Xu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),Ir(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||$v(s.textContent,a)?(u.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),u.onScroll!=null&&Me("scroll",s),u.onScrollEnd!=null&&Me("scrollend",s),u.onClick!=null&&(s.onclick=Zn),s=!0):s=!1,s||Ur(i,!0)}function Iy(i){for(Kt=i.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Kt=Kt.return}}function $a(i){if(i!==Kt)return!1;if(!Ue)return Iy(i),Ue=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Em(i.type,i.memoizedProps)),a=!a),a&&st&&Ur(i),Iy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));st=t0(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));st=t0(i)}else s===27?(s=st,Jr(i.type)?(i=Am,Am=null,st=i):st=s):st=Kt?Bn(i.stateNode.nextSibling):null;return!0}function Xs(){st=Kt=null,Ue=!1}function rd(){var i=jr;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),jr=null),i}function gl(i){jr===null?jr=[i]:jr.push(i)}var sd=j(null),Ws=null,tr=null;function zr(i,s,a){ae(sd,s._currentValue),s._currentValue=a}function nr(i){i._currentValue=sd.current,te(sd)}function ad(i,s,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===a)break;i=i.return}}function od(i,s,a,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var V=0;V<s.length;V++)if(w.context===s[V]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),ad(d.return,a,i),u||(T=null);break e}d=w.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),ad(T,a,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Ka(i,s,a,u){i=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var w=f.type;En(f.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(f===ze.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Hl):i=[Hl])}f=f.return}i!==null&&od(s,i,a,u),s.flags|=262144}function _c(i){for(i=i.firstContext;i!==null;){if(!En(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zs(i){Ws=i,tr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yt(i){return Dy(Ws,i)}function vc(i,s){return Ws===null&&Zs(i),Dy(i,s)}function Dy(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},tr===null){if(i===null)throw Error(r(308));tr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else tr=tr.next=s;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},bw=t.unstable_scheduleCallback,ww=t.unstable_NormalPriority,At={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new Sw,data:new Map,refCount:0}}function pl(i){i.refCount--,i.refCount===0&&bw(ww,function(){i.controller.abort()})}var yl=null,ud=0,Ya=0,Qa=null;function Rw(i,s){if(yl===null){var a=yl=[];ud=0,Ya=fm(),Qa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return ud++,s.then(My,My),s}function My(){if(--ud===0&&yl!==null){Qa!==null&&(Qa.status="fulfilled");var i=yl;yl=null,Ya=0,Qa=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Aw(i,s){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Oy=Z.S;Z.S=function(i,s){pv=on(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Rw(i,s),Oy!==null&&Oy(i,s)};var Js=j(null);function cd(){var i=Js.current;return i!==null?i:it.pooledCache}function Tc(i,s){s===null?ae(Js,Js.current):ae(Js,s.pool)}function Vy(){var i=cd();return i===null?null:{parent:At._currentValue,pool:i}}var Xa=Error(r(460)),hd=Error(r(474)),Ec=Error(r(542)),Sc={then:function(){}};function Py(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ky(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Zn,Zn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jy(i),i;default:if(typeof s.status=="string")s.then(Zn,Zn);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jy(i),i}throw ta=s,Xa}}function ea(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Xa):a}}var ta=null;function Ly(){if(ta===null)throw Error(r(459));var i=ta;return ta=null,i}function jy(i){if(i===Xa||i===Ec)throw Error(r(483))}var Wa=null,_l=0;function bc(i){var s=_l;return _l+=1,Wa===null&&(Wa=[]),ky(Wa,i,s)}function vl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function wc(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Uy(i){function s(H,k){if(i){var q=H.deletions;q===null?(H.deletions=[k],H.flags|=16):q.push(k)}}function a(H,k){if(!i)return null;for(;k!==null;)s(H,k),k=k.sibling;return null}function u(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function f(H,k){return H=Ji(H,k),H.index=0,H.sibling=null,H}function d(H,k,q){return H.index=q,i?(q=H.alternate,q!==null?(q=q.index,q<k?(H.flags|=67108866,k):q):(H.flags|=67108866,k)):(H.flags|=1048576,k)}function T(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,k,q,J){return k===null||k.tag!==6?(k=Jf(q,H.mode,J),k.return=H,k):(k=f(k,q),k.return=H,k)}function V(H,k,q,J){var ge=q.type;return ge===z?W(H,k,q.props.children,J,q.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ea(ge)===k.type)?(k=f(k,q.props),vl(k,q),k.return=H,k):(k=pc(q.type,q.key,q.props,null,H.mode,J),vl(k,q),k.return=H,k)}function G(H,k,q,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=ed(q,H.mode,J),k.return=H,k):(k=f(k,q.children||[]),k.return=H,k)}function W(H,k,q,J,ge){return k===null||k.tag!==7?(k=Qs(q,H.mode,J,ge),k.return=H,k):(k=f(k,q),k.return=H,k)}function ee(H,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jf(""+k,H.mode,q),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return q=pc(k.type,k.key,k.props,null,H.mode,q),vl(q,k),q.return=H,q;case I:return k=ed(k,H.mode,q),k.return=H,k;case x:return k=ea(k),ee(H,k,q)}if(Vt(k)||D(k))return k=Qs(k,H.mode,q,null),k.return=H,k;if(typeof k.then=="function")return ee(H,bc(k),q);if(k.$$typeof===X)return ee(H,vc(H,k),q);wc(H,k)}return null}function K(H,k,q,J){var ge=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(H,k,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===ge?V(H,k,q,J):null;case I:return q.key===ge?G(H,k,q,J):null;case x:return q=ea(q),K(H,k,q,J)}if(Vt(q)||D(q))return ge!==null?null:W(H,k,q,J,null);if(typeof q.then=="function")return K(H,k,bc(q),J);if(q.$$typeof===X)return K(H,k,vc(H,q),J);wc(H,q)}return null}function Q(H,k,q,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(q)||null,w(k,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return H=H.get(J.key===null?q:J.key)||null,V(k,H,J,ge);case I:return H=H.get(J.key===null?q:J.key)||null,G(k,H,J,ge);case x:return J=ea(J),Q(H,k,q,J,ge)}if(Vt(J)||D(J))return H=H.get(q)||null,W(k,H,J,ge,null);if(typeof J.then=="function")return Q(H,k,q,bc(J),ge);if(J.$$typeof===X)return Q(H,k,q,vc(k,J),ge);wc(k,J)}return null}function fe(H,k,q,J){for(var ge=null,Fe=null,de=k,Ie=k=0,Pe=null;de!==null&&Ie<q.length;Ie++){de.index>Ie?(Pe=de,de=null):Pe=de.sibling;var qe=K(H,de,q[Ie],J);if(qe===null){de===null&&(de=Pe);break}i&&de&&qe.alternate===null&&s(H,de),k=d(qe,k,Ie),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe,de=Pe}if(Ie===q.length)return a(H,de),Ue&&er(H,Ie),ge;if(de===null){for(;Ie<q.length;Ie++)de=ee(H,q[Ie],J),de!==null&&(k=d(de,k,Ie),Fe===null?ge=de:Fe.sibling=de,Fe=de);return Ue&&er(H,Ie),ge}for(de=u(de);Ie<q.length;Ie++)Pe=Q(de,H,Ie,q[Ie],J),Pe!==null&&(i&&Pe.alternate!==null&&de.delete(Pe.key===null?Ie:Pe.key),k=d(Pe,k,Ie),Fe===null?ge=Pe:Fe.sibling=Pe,Fe=Pe);return i&&de.forEach(function(rs){return s(H,rs)}),Ue&&er(H,Ie),ge}function _e(H,k,q,J){if(q==null)throw Error(r(151));for(var ge=null,Fe=null,de=k,Ie=k=0,Pe=null,qe=q.next();de!==null&&!qe.done;Ie++,qe=q.next()){de.index>Ie?(Pe=de,de=null):Pe=de.sibling;var rs=K(H,de,qe.value,J);if(rs===null){de===null&&(de=Pe);break}i&&de&&rs.alternate===null&&s(H,de),k=d(rs,k,Ie),Fe===null?ge=rs:Fe.sibling=rs,Fe=rs,de=Pe}if(qe.done)return a(H,de),Ue&&er(H,Ie),ge;if(de===null){for(;!qe.done;Ie++,qe=q.next())qe=ee(H,qe.value,J),qe!==null&&(k=d(qe,k,Ie),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe);return Ue&&er(H,Ie),ge}for(de=u(de);!qe.done;Ie++,qe=q.next())qe=Q(de,H,Ie,qe.value,J),qe!==null&&(i&&qe.alternate!==null&&de.delete(qe.key===null?Ie:qe.key),k=d(qe,k,Ie),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe);return i&&de.forEach(function(LR){return s(H,LR)}),Ue&&er(H,Ie),ge}function nt(H,k,q,J){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var ge=q.key;k!==null;){if(k.key===ge){if(ge=q.type,ge===z){if(k.tag===7){a(H,k.sibling),J=f(k,q.props.children),J.return=H,H=J;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&ea(ge)===k.type){a(H,k.sibling),J=f(k,q.props),vl(J,q),J.return=H,H=J;break e}a(H,k);break}else s(H,k);k=k.sibling}q.type===z?(J=Qs(q.props.children,H.mode,J,q.key),J.return=H,H=J):(J=pc(q.type,q.key,q.props,null,H.mode,J),vl(J,q),J.return=H,H=J)}return T(H);case I:e:{for(ge=q.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(H,k.sibling),J=f(k,q.children||[]),J.return=H,H=J;break e}else{a(H,k);break}else s(H,k);k=k.sibling}J=ed(q,H.mode,J),J.return=H,H=J}return T(H);case x:return q=ea(q),nt(H,k,q,J)}if(Vt(q))return fe(H,k,q,J);if(D(q)){if(ge=D(q),typeof ge!="function")throw Error(r(150));return q=ge.call(q),_e(H,k,q,J)}if(typeof q.then=="function")return nt(H,k,bc(q),J);if(q.$$typeof===X)return nt(H,k,vc(H,q),J);wc(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(H,k.sibling),J=f(k,q),J.return=H,H=J):(a(H,k),J=Jf(q,H.mode,J),J.return=H,H=J),T(H)):a(H,k)}return function(H,k,q,J){try{_l=0;var ge=nt(H,k,q,J);return Wa=null,ge}catch(de){if(de===Xa||de===Ec)throw de;var Fe=Sn(29,de,null,H.mode);return Fe.lanes=J,Fe.return=H,Fe}}}var na=Uy(!0),zy=Uy(!1),Br=!1;function fd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Hr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fr(i,s,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=gc(i),by(i,null,a),s}return mc(i,u,s,a),gc(i)}function Tl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Ko(i,a)}}function md(i,s){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=s:d=d.next=s}else f=d=s;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var gd=!1;function El(){if(gd){var i=Qa;if(i!==null)throw i}}function Sl(i,s,a,u){gd=!1;var f=i.updateQueue;Br=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var V=w,G=V.next;V.next=null,T===null?d=G:T.next=G,T=V;var W=i.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==T&&(w===null?W.firstBaseUpdate=G:w.next=G,W.lastBaseUpdate=V))}if(d!==null){var ee=f.baseState;T=0,W=G=V=null,w=d;do{var K=w.lane&-536870913,Q=K!==w.lane;if(Q?(Ve&K)===K:(u&K)===K){K!==0&&K===Ya&&(gd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=i,_e=w;K=s;var nt=a;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){ee=fe.call(nt,ee,K);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,K=typeof fe=="function"?fe.call(nt,ee,K):fe,K==null)break e;ee=E({},ee,K);break e;case 2:Br=!0}}K=w.callback,K!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(G=W=Q,V=ee):W=W.next=Q,T|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(V=ee),f.baseState=V,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Yr|=T,i.lanes=T,i.memoizedState=ee}}function By(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Hy(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)By(a[i],s)}var Za=j(null),Rc=j(0);function Fy(i,s){i=hr,ae(Rc,i),ae(Za,s),hr=i|s.baseLanes}function pd(){ae(Rc,hr),ae(Za,Za.current)}function yd(){hr=Rc.current,te(Za),te(Rc)}var bn=j(null),zn=null;function qr(i){var s=i.alternate;ae(yt,yt.current&1),ae(bn,i),zn===null&&(s===null||Za.current!==null||s.memoizedState!==null)&&(zn=i)}function _d(i){ae(yt,yt.current),ae(bn,i),zn===null&&(zn=i)}function qy(i){i.tag===22?(ae(yt,yt.current),ae(bn,i),zn===null&&(zn=i)):Gr()}function Gr(){ae(yt,yt.current),ae(bn,bn.current)}function wn(i){te(bn),zn===i&&(zn=null),te(yt)}var yt=j(0);function Ac(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wm(a)||Rm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ir=0,xe=null,et=null,Ct=null,Cc=!1,Ja=!1,ia=!1,xc=0,bl=0,eo=null,Cw=0;function dt(){throw Error(r(321))}function vd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!En(i[a],s[a]))return!1;return!0}function Td(i,s,a,u,f,d){return ir=d,xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?C_:Pd,ia=!1,d=a(u,f),ia=!1,Ja&&(d=$y(s,a,u,f)),Gy(i),d}function Gy(i){Z.H=Al;var s=et!==null&&et.next!==null;if(ir=0,Ct=et=xe=null,Cc=!1,bl=0,eo=null,s)throw Error(r(300));i===null||xt||(i=i.dependencies,i!==null&&_c(i)&&(xt=!0))}function $y(i,s,a,u){xe=i;var f=0;do{if(Ja&&(eo=null),bl=0,Ja=!1,25<=f)throw Error(r(301));if(f+=1,Ct=et=null,i.updateQueue!=null){var d=i.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=x_,d=s(a,u)}while(Ja);return d}function xw(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?wl(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(xe.flags|=1024),s}function Ed(){var i=xc!==0;return xc=0,i}function Sd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function bd(i){if(Cc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Cc=!1}ir=0,Ct=et=xe=null,Ja=!1,bl=xc=0,eo=null}function un(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?xe.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function _t(){if(et===null){var i=xe.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Ct===null?xe.memoizedState:Ct.next;if(s!==null)Ct=s,et=i;else{if(i===null)throw xe.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?xe.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(i){var s=bl;return bl+=1,eo===null&&(eo=[]),i=ky(eo,i,s),s=xe,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?C_:Pd),i}function Ic(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wl(i);if(i.$$typeof===X)return Yt(i)}throw Error(r(438,String(i)))}function wd(i){var s=null,a=xe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Nc(),xe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),u=0;u<i;u++)a[u]=U;return s.index++,a}function rr(i,s){return typeof s=="function"?s(i):s}function Dc(i){var s=_t();return Rd(s,et,i)}function Rd(i,s,a){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=i.baseQueue,d=u.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}s.baseQueue=f=d,u.pending=null}if(d=i.baseState,f===null)i.memoizedState=d;else{s=f.next;var w=T=null,V=null,G=s,W=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Ve&ee)===ee:(ir&ee)===ee){var K=G.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===Ya&&(W=!0);else if((ir&K)===K){G=G.next,K===Ya&&(W=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=ee,T=d):V=V.next=ee,xe.lanes|=K,Yr|=K;ee=G.action,ia&&a(d,ee),d=G.hasEagerState?G.eagerState:a(d,ee)}else K={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=K,T=d):V=V.next=K,xe.lanes|=ee,Yr|=ee;G=G.next}while(G!==null&&G!==s);if(V===null?T=d:V.next=w,!En(d,i.memoizedState)&&(xt=!0,W&&(a=Qa,a!==null)))throw a;i.memoizedState=d,i.baseState=T,i.baseQueue=V,u.lastRenderedState=d}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ad(i){var s=_t(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var u=a.dispatch,f=a.pending,d=s.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=i(d,T.action),T=T.next;while(T!==f);En(d,s.memoizedState)||(xt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,u]}function Ky(i,s,a){var u=xe,f=_t(),d=Ue;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!En((et||f).memoizedState,a);if(T&&(f.memoizedState=a,xt=!0),f=f.queue,Nd(Xy.bind(null,u,f,i),[i]),f.getSnapshot!==s||T||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,to(9,{destroy:void 0},Qy.bind(null,u,f,a,s),null),it===null)throw Error(r(349));d||(ir&127)!==0||Yy(u,s,a)}return a}function Yy(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=xe.updateQueue,s===null?(s=Nc(),xe.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function Qy(i,s,a,u){s.value=a,s.getSnapshot=u,Wy(s)&&Zy(i)}function Xy(i,s,a){return a(function(){Wy(s)&&Zy(i)})}function Wy(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!En(i,a)}catch{return!0}}function Zy(i){var s=Ys(i,2);s!==null&&pn(s,i,2)}function Cd(i){var s=un();if(typeof i=="function"){var a=i;if(i=a(),ia){In(!0);try{a()}finally{In(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:i},s}function Jy(i,s,a,u){return i.baseState=a,Rd(i,et,typeof u=="function"?u:rr)}function Nw(i,s,a,u,f){if(Vc(i))throw Error(r(485));if(i=s.action,i!==null){var d={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};Z.T!==null?a(!0):d.isTransition=!1,u(d),a=s.pending,a===null?(d.next=s.pending=d,e_(s,d)):(d.next=a.next,s.pending=a.next=d)}}function e_(i,s){var a=s.action,u=s.payload,f=i.state;if(s.isTransition){var d=Z.T,T={};Z.T=T;try{var w=a(f,u),V=Z.S;V!==null&&V(T,w),t_(i,s,w)}catch(G){xd(i,s,G)}finally{d!==null&&T.types!==null&&(d.types=T.types),Z.T=d}}else try{d=a(f,u),t_(i,s,d)}catch(G){xd(i,s,G)}}function t_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){n_(i,s,u)},function(u){return xd(i,s,u)}):n_(i,s,a)}function n_(i,s,a){s.status="fulfilled",s.value=a,i_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,e_(i,a)))}function xd(i,s,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,i_(s),s=s.next;while(s!==u)}i.action=null}function i_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function r_(i,s){return s}function s_(i,s){if(Ue){var a=it.formState;if(a!==null){e:{var u=xe;if(Ue){if(st){t:{for(var f=st,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Bn(f.nextSibling),u=f.data==="F!";break e}}Ur(u)}u=!1}u&&(s=a[0])}}return a=un(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},a.queue=u,a=w_.bind(null,xe,u),u.dispatch=a,u=Cd(!1),d=Vd.bind(null,xe,!1,u.queue),u=un(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,a=Nw.bind(null,xe,f,d,a),f.dispatch=a,u.memoizedState=i,[s,a,!1]}function a_(i){var s=_t();return o_(s,et,i)}function o_(i,s,a){if(s=Rd(i,s,r_)[0],i=Dc(rr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=wl(s)}catch(T){throw T===Xa?Ec:T}else u=s;s=_t();var f=s.queue,d=f.dispatch;return a!==s.memoizedState&&(xe.flags|=2048,to(9,{destroy:void 0},Iw.bind(null,f,a),null)),[u,d,i]}function Iw(i,s){i.action=s}function l_(i){var s=_t(),a=et;if(a!==null)return o_(s,a,i);_t(),s=s.memoizedState,a=_t();var u=a.queue.dispatch;return a.memoizedState=i,[s,u,!1]}function to(i,s,a,u){return i={tag:i,create:a,deps:u,inst:s,next:null},s=xe.updateQueue,s===null&&(s=Nc(),xe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,s.lastEffect=i),i}function u_(){return _t().memoizedState}function Mc(i,s,a,u){var f=un();xe.flags|=i,f.memoizedState=to(1|s,{destroy:void 0},a,u===void 0?null:u)}function Oc(i,s,a,u){var f=_t();u=u===void 0?null:u;var d=f.memoizedState.inst;et!==null&&u!==null&&vd(u,et.memoizedState.deps)?f.memoizedState=to(s,d,a,u):(xe.flags|=i,f.memoizedState=to(1|s,d,a,u))}function c_(i,s){Mc(8390656,8,i,s)}function Nd(i,s){Oc(2048,8,i,s)}function Dw(i){xe.flags|=4;var s=xe.updateQueue;if(s===null)s=Nc(),xe.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function h_(i){var s=_t().memoizedState;return Dw({ref:s,nextImpl:i}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function f_(i,s){return Oc(4,2,i,s)}function d_(i,s){return Oc(4,4,i,s)}function m_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function g_(i,s,a){a=a!=null?a.concat([i]):null,Oc(4,4,m_.bind(null,s,i),a)}function Id(){}function p_(i,s){var a=_t();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&vd(s,u[1])?u[0]:(a.memoizedState=[i,s],i)}function y_(i,s){var a=_t();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&vd(s,u[1]))return u[0];if(u=i(),ia){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[u,s],u}function Dd(i,s,a){return a===void 0||(ir&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=_v(),xe.lanes|=i,Yr|=i,a)}function __(i,s,a,u){return En(a,s)?a:Za.current!==null?(i=Dd(i,a,u),En(i,s)||(xt=!0),i):(ir&42)===0||(ir&1073741824)!==0&&(Ve&261930)===0?(xt=!0,i.memoizedState=a):(i=_v(),xe.lanes|=i,Yr|=i,s)}function v_(i,s,a,u,f){var d=se.p;se.p=d!==0&&8>d?d:8;var T=Z.T,w={};Z.T=w,Vd(i,!1,s,a);try{var V=f(),G=Z.S;if(G!==null&&G(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=Aw(V,u);Rl(i,s,W,Cn(i))}else Rl(i,s,u,Cn(i))}catch(ee){Rl(i,s,{then:function(){},status:"rejected",reason:ee},Cn())}finally{se.p=d,T!==null&&w.types!==null&&(T.types=w.types),Z.T=T}}function Mw(){}function Md(i,s,a,u){if(i.tag!==5)throw Error(r(476));var f=T_(i).queue;v_(i,f,s,ye,a===null?Mw:function(){return E_(i),a(u)})}function T_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function E_(i){var s=T_(i);s.next===null&&(s=i.alternate.memoizedState),Rl(i,s.next.queue,{},Cn())}function Od(){return Yt(Hl)}function S_(){return _t().memoizedState}function b_(){return _t().memoizedState}function Ow(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Cn();i=Hr(a);var u=Fr(s,i,a);u!==null&&(pn(u,s,a),Tl(u,s,a)),s={cache:ld()},i.payload=s;return}s=s.return}}function Vw(i,s,a){var u=Cn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(i)?R_(s,a):(a=Wf(i,s,a,u),a!==null&&(pn(a,i,u),A_(a,s,u)))}function w_(i,s,a){var u=Cn();Rl(i,s,a,u)}function Rl(i,s,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(i))R_(s,f);else{var d=i.alternate;if(i.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var T=s.lastRenderedState,w=d(T,a);if(f.hasEagerState=!0,f.eagerState=w,En(w,T))return mc(i,s,f,0),it===null&&dc(),!1}catch{}if(a=Wf(i,s,f,u),a!==null)return pn(a,i,u),A_(a,s,u),!0}return!1}function Vd(i,s,a,u){if(u={lane:2,revertLane:fm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Vc(i)){if(s)throw Error(r(479))}else s=Wf(i,a,u,2),s!==null&&pn(s,i,2)}function Vc(i){var s=i.alternate;return i===xe||s!==null&&s===xe}function R_(i,s){Ja=Cc=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function A_(i,s,a){if((a&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Ko(i,a)}}var Al={readContext:Yt,use:Ic,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Al.useEffectEvent=dt;var C_={readContext:Yt,use:Ic,useCallback:function(i,s){return un().memoizedState=[i,s===void 0?null:s],i},useContext:Yt,useEffect:c_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Mc(4194308,4,m_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Mc(4194308,4,i,s)},useInsertionEffect:function(i,s){Mc(4,2,i,s)},useMemo:function(i,s){var a=un();s=s===void 0?null:s;var u=i();if(ia){In(!0);try{i()}finally{In(!1)}}return a.memoizedState=[u,s],u},useReducer:function(i,s,a){var u=un();if(a!==void 0){var f=a(s);if(ia){In(!0);try{a(s)}finally{In(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=Vw.bind(null,xe,i),[u.memoizedState,i]},useRef:function(i){var s=un();return i={current:i},s.memoizedState=i},useState:function(i){i=Cd(i);var s=i.queue,a=w_.bind(null,xe,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(i,s){var a=un();return Dd(a,i,s)},useTransition:function(){var i=Cd(!1);return i=v_.bind(null,xe,i.queue,!0,!1),un().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var u=xe,f=un();if(Ue){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),it===null)throw Error(r(349));(Ve&127)!==0||Yy(u,s,a)}f.memoizedState=a;var d={value:a,getSnapshot:s};return f.queue=d,c_(Xy.bind(null,u,d,i),[i]),u.flags|=2048,to(9,{destroy:void 0},Qy.bind(null,u,d,a,s),null),a},useId:function(){var i=un(),s=it.identifierPrefix;if(Ue){var a=Di,u=Ii;a=(u&~(1<<32-gt(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=xc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Cw++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Od,useFormState:s_,useActionState:s_,useOptimistic:function(i){var s=un();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Vd.bind(null,xe,!0,a),a.dispatch=s,[i,s]},useMemoCache:wd,useCacheRefresh:function(){return un().memoizedState=Ow.bind(null,xe)},useEffectEvent:function(i){var s=un(),a={impl:i};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:Yt,use:Ic,useCallback:p_,useContext:Yt,useEffect:Nd,useImperativeHandle:g_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:Dc,useRef:u_,useState:function(){return Dc(rr)},useDebugValue:Id,useDeferredValue:function(i,s){var a=_t();return __(a,et.memoizedState,i,s)},useTransition:function(){var i=Dc(rr)[0],s=_t().memoizedState;return[typeof i=="boolean"?i:wl(i),s]},useSyncExternalStore:Ky,useId:S_,useHostTransitionStatus:Od,useFormState:a_,useActionState:a_,useOptimistic:function(i,s){var a=_t();return Jy(a,et,i,s)},useMemoCache:wd,useCacheRefresh:b_};Pd.useEffectEvent=h_;var x_={readContext:Yt,use:Ic,useCallback:p_,useContext:Yt,useEffect:Nd,useImperativeHandle:g_,useInsertionEffect:f_,useLayoutEffect:d_,useMemo:y_,useReducer:Ad,useRef:u_,useState:function(){return Ad(rr)},useDebugValue:Id,useDeferredValue:function(i,s){var a=_t();return et===null?Dd(a,i,s):__(a,et.memoizedState,i,s)},useTransition:function(){var i=Ad(rr)[0],s=_t().memoizedState;return[typeof i=="boolean"?i:wl(i),s]},useSyncExternalStore:Ky,useId:S_,useHostTransitionStatus:Od,useFormState:l_,useActionState:l_,useOptimistic:function(i,s){var a=_t();return et!==null?Jy(a,et,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:b_};x_.useEffectEvent=h_;function kd(i,s,a,u){s=i.memoizedState,a=a(u,s),a=a==null?s:E({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Ld={enqueueSetState:function(i,s,a){i=i._reactInternals;var u=Cn(),f=Hr(u);f.payload=s,a!=null&&(f.callback=a),s=Fr(i,f,u),s!==null&&(pn(s,i,u),Tl(s,i,u))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var u=Cn(),f=Hr(u);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Fr(i,f,u),s!==null&&(pn(s,i,u),Tl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Cn(),u=Hr(a);u.tag=2,s!=null&&(u.callback=s),s=Fr(i,u,a),s!==null&&(pn(s,i,a),Tl(s,i,a))}};function N_(i,s,a,u,f,d,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,d,T):s.prototype&&s.prototype.isPureReactComponent?!fl(a,u)||!fl(f,d):!0}function I_(i,s,a,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==i&&Ld.enqueueReplaceState(s,s.state,null)}function ra(i,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(i=i.defaultProps){a===s&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function D_(i){fc(i)}function M_(i){console.error(i)}function O_(i){fc(i)}function Pc(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function V_(i,s,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jd(i,s,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(i,s)},a}function P_(i){return i=Hr(i),i.tag=3,i}function k_(i,s,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;i.payload=function(){return f(d)},i.callback=function(){V_(s,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){V_(s,a,u),typeof f!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function Pw(i,s,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Ka(s,a,f,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return zn===null?Kc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Sc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),um(i,u,f)),!1;case 22:return a.flags|=65536,u===Sc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),um(i,u,f)),!1}throw Error(r(435,a.tag))}return um(i,u,f),Kc(),!1}if(Ue)return s=bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==id&&(i=Error(r(422),{cause:u}),gl(kn(i,a)))):(u!==id&&(s=Error(r(423),{cause:u}),gl(kn(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=kn(u,a),f=jd(i.stateNode,u,f),md(i,f),mt!==4&&(mt=2)),!1;var d=Error(r(520),{cause:u});if(d=kn(d,a),Vl===null?Vl=[d]:Vl.push(d),mt!==4&&(mt=2),s===null)return!0;u=kn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=jd(a.stateNode,u,i),md(a,i),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qr===null||!Qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=P_(f),k_(f,i,a,u),md(a,f),!1}a=a.return}while(a!==null);return!1}var Ud=Error(r(461)),xt=!1;function Qt(i,s,a,u){s.child=i===null?zy(s,null,a,u):na(s,i.child,a,u)}function L_(i,s,a,u,f){a=a.render;var d=s.ref;if("ref"in u){var T={};for(var w in u)w!=="ref"&&(T[w]=u[w])}else T=u;return Zs(s),u=Td(i,s,a,T,d,f),w=Ed(),i!==null&&!xt?(Sd(i,s,f),sr(i,s,f)):(Ue&&w&&td(s),s.flags|=1,Qt(i,s,u,f),s.child)}function j_(i,s,a,u,f){if(i===null){var d=a.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,U_(i,s,d,u,f)):(i=pc(a.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(d=i.child,!Kd(i,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(T,u)&&i.ref===s.ref)return sr(i,s,f)}return s.flags|=1,i=Ji(d,u),i.ref=s.ref,i.return=s,s.child=i}function U_(i,s,a,u,f){if(i!==null){var d=i.memoizedProps;if(fl(d,u)&&i.ref===s.ref)if(xt=!1,s.pendingProps=u=d,Kd(i,f))(i.flags&131072)!==0&&(xt=!0);else return s.lanes=i.lanes,sr(i,s,f)}return zd(i,s,a,u,f)}function z_(i,s,a,u){var f=u.children,d=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,i!==null){for(u=s.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,s.child=null;return B_(i,s,d,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tc(s,d!==null?d.cachePool:null),d!==null?Fy(s,d):pd(),qy(s);else return u=s.lanes=536870912,B_(i,s,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Tc(s,d.cachePool),Fy(s,d),Gr(),s.memoizedState=null):(i!==null&&Tc(s,null),pd(),Gr());return Qt(i,s,f,a),s.child}function Cl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function B_(i,s,a,u,f){var d=cd();return d=d===null?null:{parent:At._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},i!==null&&Tc(s,null),pd(),qy(s),i!==null&&Ka(i,s,u,!0),s.childLanes=f,null}function kc(i,s){return s=jc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function H_(i,s,a){return na(s,i.child,null,a),i=kc(s,s.pendingProps),i.flags|=2,wn(s),s.memoizedState=null,i}function kw(i,s,a){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ue){if(u.mode==="hidden")return i=kc(s,u),s.lanes=536870912,Cl(null,i);if(_d(s),(i=st)?(i=e0(i,Un),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ry(i),a.return=s,s.child=a,Kt=s,st=null)):i=null,i===null)throw Ur(s);return s.lanes=536870912,null}return kc(s,u)}var d=i.memoizedState;if(d!==null){var T=d.dehydrated;if(_d(s),f)if(s.flags&256)s.flags&=-257,s=H_(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(xt||Ka(i,s,a,!1),f=(a&i.childLanes)!==0,xt||f){if(u=it,u!==null&&(T=Yo(u,a),T!==0&&T!==d.retryLane))throw d.retryLane=T,Ys(i,T),pn(u,i,T),Ud;Kc(),s=H_(i,s,a)}else i=d.treeContext,st=Bn(T.nextSibling),Kt=s,Ue=!0,jr=null,Un=!1,i!==null&&xy(s,i),s=kc(s,u),s.flags|=4096;return s}return i=Ji(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Lc(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function zd(i,s,a,u,f){return Zs(s),a=Td(i,s,a,u,void 0,f),u=Ed(),i!==null&&!xt?(Sd(i,s,f),sr(i,s,f)):(Ue&&u&&td(s),s.flags|=1,Qt(i,s,a,f),s.child)}function F_(i,s,a,u,f,d){return Zs(s),s.updateQueue=null,a=$y(s,u,a,f),Gy(i),u=Ed(),i!==null&&!xt?(Sd(i,s,d),sr(i,s,d)):(Ue&&u&&td(s),s.flags|=1,Qt(i,s,a,d),s.child)}function q_(i,s,a,u,f){if(Zs(s),s.stateNode===null){var d=Fa,T=a.contextType;typeof T=="object"&&T!==null&&(d=Yt(T)),d=new a(u,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ld,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=u,d.state=s.memoizedState,d.refs={},fd(s),T=a.contextType,d.context=typeof T=="object"&&T!==null?Yt(T):Fa,d.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(kd(s,a,T,u),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&Ld.enqueueReplaceState(d,d.state,null),Sl(s,u,d,f),El(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){d=s.stateNode;var w=s.memoizedProps,V=ra(a,w);d.props=V;var G=d.context,W=a.contextType;T=Fa,typeof W=="object"&&W!==null&&(T=Yt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||G!==T)&&I_(s,d,u,T),Br=!1;var K=s.memoizedState;d.state=K,Sl(s,u,d,f),El(),G=s.memoizedState,w||K!==G||Br?(typeof ee=="function"&&(kd(s,a,ee,u),G=s.memoizedState),(V=Br||N_(s,a,V,u,K,G,T))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),d.props=u,d.state=G,d.context=T,u=V):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{d=s.stateNode,dd(i,s),T=s.memoizedProps,W=ra(a,T),d.props=W,ee=s.pendingProps,K=d.context,G=a.contextType,V=Fa,typeof G=="object"&&G!==null&&(V=Yt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ee||K!==V)&&I_(s,d,u,V),Br=!1,K=s.memoizedState,d.state=K,Sl(s,u,d,f),El();var Q=s.memoizedState;T!==ee||K!==Q||Br||i!==null&&i.dependencies!==null&&_c(i.dependencies)?(typeof w=="function"&&(kd(s,a,w,u),Q=s.memoizedState),(W=Br||N_(s,a,W,u,K,Q,V)||i!==null&&i.dependencies!==null&&_c(i.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,V)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),d.props=u,d.state=Q,d.context=V,u=W):(typeof d.componentDidUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return d=u,Lc(i,s),u=(s.flags&128)!==0,d||u?(d=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,i!==null&&u?(s.child=na(s,i.child,null,f),s.child=na(s,null,a,f)):Qt(i,s,a,f),s.memoizedState=d.state,i=s.child):i=sr(i,s,f),i}function G_(i,s,a,u){return Xs(),s.flags|=256,Qt(i,s,a,u),s.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(i){return{baseLanes:i,cachePool:Vy()}}function Fd(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=An),i}function $_(i,s,a){var u=s.pendingProps,f=!1,d=(s.flags&128)!==0,T;if((T=d)||(T=i!==null&&i.memoizedState===null?!1:(yt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ue){if(f?qr(s):Gr(),(i=st)?(i=e0(i,Un),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Lr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Ry(i),a.return=s,s.child=a,Kt=s,st=null)):i=null,i===null)throw Ur(s);return Rm(i)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,f?(Gr(),f=s.mode,w=jc({mode:"hidden",children:w},f),u=Qs(u,f,a,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=Hd(a),u.childLanes=Fd(i,T,a),s.memoizedState=Bd,Cl(null,u)):(qr(s),qd(s,w))}var V=i.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(d)s.flags&256?(qr(s),s.flags&=-257,s=Gd(i,s,a)):s.memoizedState!==null?(Gr(),s.child=i.child,s.flags|=128,s=null):(Gr(),w=u.fallback,f=s.mode,u=jc({mode:"visible",children:u.children},f),w=Qs(w,f,a,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,na(s,i.child,null,a),u=s.child,u.memoizedState=Hd(a),u.childLanes=Fd(i,T,a),s.memoizedState=Bd,s=Cl(null,u));else if(qr(s),Rm(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var G=T.dgst;T=G,u=Error(r(419)),u.stack="",u.digest=T,gl({value:u,source:null,stack:null}),s=Gd(i,s,a)}else if(xt||Ka(i,s,a,!1),T=(a&i.childLanes)!==0,xt||T){if(T=it,T!==null&&(u=Yo(T,a),u!==0&&u!==V.retryLane))throw V.retryLane=u,Ys(i,u),pn(T,i,u),Ud;wm(w)||Kc(),s=Gd(i,s,a)}else wm(w)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,st=Bn(w.nextSibling),Kt=s,Ue=!0,jr=null,Un=!1,i!==null&&xy(s,i),s=qd(s,u.children),s.flags|=4096);return s}return f?(Gr(),w=u.fallback,f=s.mode,V=i.child,G=V.sibling,u=Ji(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?w=Ji(G,w):(w=Qs(w,f,a,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,Cl(null,u),u=s.child,w=i.child.memoizedState,w===null?w=Hd(a):(f=w.cachePool,f!==null?(V=At._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=Vy(),w={baseLanes:w.baseLanes|a,cachePool:f}),u.memoizedState=w,u.childLanes=Fd(i,T,a),s.memoizedState=Bd,Cl(i.child,u)):(qr(s),a=i.child,i=a.sibling,a=Ji(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=a,s.memoizedState=null,a)}function qd(i,s){return s=jc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function jc(i,s){return i=Sn(22,i,null,s),i.lanes=0,i}function Gd(i,s,a){return na(s,i.child,null,a),i=qd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function K_(i,s,a){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),ad(i.return,s,a)}function $d(i,s,a,u,f,d){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=a,T.tailMode=f,T.treeForkCount=d)}function Y_(i,s,a){var u=s.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var T=yt.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,ae(yt,T),Qt(i,s,u,a),u=Ue?ml:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&K_(i,a,s);else if(i.tag===19)K_(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Ac(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),$d(s,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Ac(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}$d(s,!0,a,null,d,u);break;case"together":$d(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function sr(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Yr|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Ka(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,a=Ji(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Ji(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Kd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&_c(i)))}function Lw(i,s,a){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),zr(s,At,i.memoizedState.cache),Xs();break;case 27:case 5:Is(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_d(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(qr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?$_(i,s,a):(qr(s),i=sr(i,s,a),i!==null?i.sibling:null);qr(s);break;case 19:var f=(i.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Ka(i,s,a,!1),u=(a&s.childLanes)!==0),f){if(u)return Y_(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(yt,yt.current),u)break;return null;case 22:return s.lanes=0,z_(i,s,a,s.pendingProps);case 24:zr(s,At,i.memoizedState.cache)}return sr(i,s,a)}function Q_(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)xt=!0;else{if(!Kd(i,a)&&(s.flags&128)===0)return xt=!1,Lw(i,s,a);xt=(i.flags&131072)!==0}else xt=!1,Ue&&(s.flags&1048576)!==0&&Cy(s,ml,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ea(s.elementType),s.type=i,typeof i=="function")Zf(i)?(u=ra(i,u),s.tag=1,s=q_(null,s,i,u,a)):(s.tag=0,s=zd(null,s,i,u,a));else{if(i!=null){var f=i.$$typeof;if(f===le){s.tag=11,s=L_(null,s,i,u,a);break e}else if(f===O){s.tag=14,s=j_(null,s,i,u,a);break e}}throw s=Ke(i)||i,Error(r(306,s,""))}}return s;case 0:return zd(i,s,s.type,s.pendingProps,a);case 1:return u=s.type,f=ra(u,s.pendingProps),q_(i,s,u,f,a);case 3:e:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var d=s.memoizedState;f=d.element,dd(i,s),Sl(s,u,null,a);var T=s.memoizedState;if(u=T.cache,zr(s,At,u),u!==d.cache&&od(s,[At],a,!0),El(),u=T.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=G_(i,s,u,a);break e}else if(u!==f){f=kn(Error(r(424)),s),gl(f),s=G_(i,s,u,a);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,st=Bn(i.firstChild),Kt=s,Ue=!0,jr=null,Un=!0,a=zy(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xs(),u===f){s=sr(i,s,a);break e}Qt(i,s,u,a)}s=s.child}return s;case 26:return Lc(i,s),i===null?(a=a0(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ue||(a=s.type,i=s.pendingProps,u=eh(Ne.current).createElement(a),u[bt]=s,u[Bt]=i,Xt(u,a,i),wt(u),s.stateNode=u):s.memoizedState=a0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Is(s),i===null&&Ue&&(u=s.stateNode=i0(s.type,s.pendingProps,Ne.current),Kt=s,Un=!0,f=st,Jr(s.type)?(Am=f,st=Bn(u.firstChild)):st=f),Qt(i,s,s.pendingProps.children,a),Lc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ue&&((f=u=st)&&(u=dR(u,s.type,s.pendingProps,Un),u!==null?(s.stateNode=u,Kt=s,st=Bn(u.firstChild),Un=!1,f=!0):f=!1),f||Ur(s)),Is(s),f=s.type,d=s.pendingProps,T=i!==null?i.memoizedProps:null,u=d.children,Em(f,d)?u=null:T!==null&&Em(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=Td(i,s,xw,null,null,a),Hl._currentValue=f),Lc(i,s),Qt(i,s,u,a),s.child;case 6:return i===null&&Ue&&((i=a=st)&&(a=mR(a,s.pendingProps,Un),a!==null?(s.stateNode=a,Kt=s,st=null,i=!0):i=!1),i||Ur(s)),null;case 13:return $_(i,s,a);case 4:return Pt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=na(s,null,u,a):Qt(i,s,u,a),s.child;case 11:return L_(i,s,s.type,s.pendingProps,a);case 7:return Qt(i,s,s.pendingProps,a),s.child;case 8:return Qt(i,s,s.pendingProps.children,a),s.child;case 12:return Qt(i,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,zr(s,s.type,u.value),Qt(i,s,u.children,a),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Zs(s),f=Yt(f),u=u(f),s.flags|=1,Qt(i,s,u,a),s.child;case 14:return j_(i,s,s.type,s.pendingProps,a);case 15:return U_(i,s,s.type,s.pendingProps,a);case 19:return Y_(i,s,a);case 31:return kw(i,s,a);case 22:return z_(i,s,a,s.pendingProps);case 24:return Zs(s),u=Yt(At),i===null?(f=cd(),f===null&&(f=it,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),s.memoizedState={parent:u,cache:f},fd(s),zr(s,At,f)):((i.lanes&a)!==0&&(dd(i,s),Sl(s,null,null,a),El()),f=i.memoizedState,d=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),zr(s,At,u)):(u=d.cache,zr(s,At,u),u!==f.cache&&od(s,[At],a,!0))),Qt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ar(i){i.flags|=4}function Yd(i,s,a,u,f){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Sv())i.flags|=8192;else throw ta=Sc,hd}else i.flags&=-16777217}function X_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!h0(s))if(Sv())i.flags|=8192;else throw ta=Sc,hd}function Uc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Gu():536870912,i.lanes|=s,so|=s)}function xl(i,s){if(!Ue)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=a,s}function jw(i,s,a){var u=s.pendingProps;switch(nd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return a=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),nr(At),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&($a(s)?ar(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rd())),at(s),null;case 26:var f=s.type,d=s.memoizedState;return i===null?(ar(s),d!==null?(at(s),X_(s,d)):(at(s),Yd(s,f,null,u,a))):d?d!==i.memoizedState?(ar(s),at(s),X_(s,d)):(at(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&ar(s),at(s),Yd(s,f,i,u,a)),null;case 27:if(wa(s),a=Ne.current,f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return at(s),null}i=he.current,$a(s)?Ny(s):(i=i0(f,u,a),s.stateNode=i,ar(s))}return at(s),null;case 5:if(wa(s),f=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(d=he.current,$a(s))Ny(s);else{var T=eh(Ne.current);switch(d){case 1:d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=T.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}d[bt]=s,d[Bt]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=d;e:switch(Xt(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ar(s)}}return at(s),Yd(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ne.current,$a(s)){if(i=s.stateNode,a=s.memoizedProps,u=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[bt]=s,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||$v(i.nodeValue,a)),i||Ur(s,!0)}else i=eh(i).createTextNode(u),i[bt]=s,s.stateNode=i}return at(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(u=$a(s),a!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[bt]=s}else Xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),i=!1}else a=rd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(wn(s),s):(wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return at(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=$a(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[bt]=s}else Xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),f=!1}else f=rd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(wn(s),s):(wn(s),null)}return wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),Uc(s,s.updateQueue),at(s),null);case 4:return lt(),i===null&&pm(s.stateNode.containerInfo),at(s),null;case 10:return nr(s.type),at(s),null;case 19:if(te(yt),u=s.memoizedState,u===null)return at(s),null;if(f=(s.flags&128)!==0,d=u.rendering,d===null)if(f)xl(u,!1);else{if(mt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(d=Ac(i),d!==null){for(s.flags|=128,xl(u,!1),i=d.updateQueue,s.updateQueue=i,Uc(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)wy(a,i),a=a.sibling;return ae(yt,yt.current&1|2),Ue&&er(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&on()>qc&&(s.flags|=128,f=!0,xl(u,!1),s.lanes=4194304)}else{if(!f)if(i=Ac(d),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,s.updateQueue=i,Uc(s,i),xl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Ue)return at(s),null}else 2*on()-u.renderingStartTime>qc&&a!==536870912&&(s.flags|=128,f=!0,xl(u,!1),s.lanes=4194304);u.isBackwards?(d.sibling=s.child,s.child=d):(i=u.last,i!==null?i.sibling=d:s.child=d,u.last=d)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=on(),i.sibling=null,a=yt.current,ae(yt,f?a&1|2:a&1),Ue&&er(s,u.treeForkCount),i):(at(s),null);case 22:case 23:return wn(s),yd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),a=s.updateQueue,a!==null&&Uc(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),i!==null&&te(Js),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),nr(At),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Uw(i,s){switch(nd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return nr(At),lt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return wa(s),null;case 31:if(s.memoizedState!==null){if(wn(s),s.alternate===null)throw Error(r(340));Xs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(wn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(yt),null;case 4:return lt(),null;case 10:return nr(s.type),null;case 22:case 23:return wn(s),yd(),i!==null&&te(Js),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return nr(At),null;case 25:return null;default:return null}}function W_(i,s){switch(nd(s),s.tag){case 3:nr(At),lt();break;case 26:case 27:case 5:wa(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&wn(s);break;case 13:wn(s);break;case 19:te(yt);break;case 10:nr(s.type);break;case 22:case 23:wn(s),yd(),i!==null&&te(Js);break;case 24:nr(At)}}function Nl(i,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&i)===i){u=void 0;var d=a.create,T=a.inst;u=d(),T.destroy=u}a=a.next}while(a!==f)}}catch(w){Ze(s,s.return,w)}}function $r(i,s,a){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&i)===i){var T=u.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,f=s;var V=a,G=w;try{G()}catch(W){Ze(f,V,W)}}}u=u.next}while(u!==d)}}catch(W){Ze(s,s.return,W)}}function Z_(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Hy(s,a)}catch(u){Ze(i,i.return,u)}}}function J_(i,s,a){a.props=ra(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){Ze(i,s,u)}}function Il(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(f){Ze(i,s,f)}}function Mi(i,s){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Ze(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(i,s,f)}else a.current=null}function ev(i){var s=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Ze(i,i.return,f)}}function Qd(i,s,a){try{var u=i.stateNode;oR(u,i.type,a,s),u[Bt]=s}catch(f){Ze(i,i.return,f)}}function tv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Jr(i.type)||i.tag===4}function Xd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||tv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Jr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wd(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Zn));else if(u!==4&&(u===27&&Jr(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(Wd(i,s,a),i=i.sibling;i!==null;)Wd(i,s,a),i=i.sibling}function zc(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(u!==4&&(u===27&&Jr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(zc(i,s,a),i=i.sibling;i!==null;)zc(i,s,a),i=i.sibling}function nv(i){var s=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xt(s,u,a),s[bt]=i,s[Bt]=a}catch(d){Ze(i,i.return,d)}}var or=!1,Nt=!1,Zd=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function zw(i,s){if(i=i.containerInfo,vm=oh,i=gy(i),Gf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,w=-1,V=-1,G=0,W=0,ee=i,K=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(w=T+f),ee!==d||u!==0&&ee.nodeType!==3||(V=T+u),ee.nodeType===3&&(T+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)K=ee,ee=Q;for(;;){if(ee===i)break t;if(K===a&&++G===f&&(w=T),K===d&&++W===u&&(V=T),(Q=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Q}a=w===-1||V===-1?null:{start:w,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:i,selectionRange:a},oh=!1,Ft=s;Ft!==null;)if(s=Ft,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ft=i;else for(;Ft!==null;){switch(s=Ft,d=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&d!==null){i=void 0,a=s,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var fe=ra(a.type,f);i=u.getSnapshotBeforeUpdate(fe,d),u.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)bm(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":bm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Ft=i;break}Ft=s.return}}function rv(i,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ur(i,a),u&4&&Nl(5,a);break;case 1:if(ur(i,a),u&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(T){Ze(a,a.return,T)}else{var f=ra(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ze(a,a.return,T)}}u&64&&Z_(a),u&512&&Il(a,a.return);break;case 3:if(ur(i,a),u&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hy(i,s)}catch(T){Ze(a,a.return,T)}}break;case 27:s===null&&u&4&&nv(a);case 26:case 5:ur(i,a),s===null&&u&4&&ev(a),u&512&&Il(a,a.return);break;case 12:ur(i,a);break;case 31:ur(i,a),u&4&&ov(i,a);break;case 13:ur(i,a),u&4&&lv(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Qw.bind(null,a),gR(i,a))));break;case 22:if(u=a.memoizedState!==null||or,!u){s=s!==null&&s.memoizedState!==null||Nt,f=or;var d=Nt;or=u,(Nt=s)&&!d?cr(i,a,(a.subtreeFlags&8772)!==0):ur(i,a),or=f,Nt=d}break;case 30:break;default:ur(i,a)}}function sv(i){var s=i.alternate;s!==null&&(i.alternate=null,sv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Na(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,fn=!1;function lr(i,s,a){for(a=a.child;a!==null;)av(i,s,a),a=a.sibling}function av(i,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Mi(a,s),lr(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mi(a,s);var u=ct,f=fn;Jr(a.type)&&(ct=a.stateNode,fn=!1),lr(i,s,a),Ul(a.stateNode),ct=u,fn=f;break;case 5:Nt||Mi(a,s);case 6:if(u=ct,f=fn,ct=null,lr(i,s,a),ct=u,fn=f,ct!==null)if(fn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ze(a,s,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ze(a,s,d)}break;case 18:ct!==null&&(fn?(i=ct,Zv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),mo(i)):Zv(ct,a.stateNode));break;case 4:u=ct,f=fn,ct=a.stateNode.containerInfo,fn=!0,lr(i,s,a),ct=u,fn=f;break;case 0:case 11:case 14:case 15:$r(2,a,s),Nt||$r(4,a,s),lr(i,s,a);break;case 1:Nt||(Mi(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&J_(a,s,u)),lr(i,s,a);break;case 21:lr(i,s,a);break;case 22:Nt=(u=Nt)||a.memoizedState!==null,lr(i,s,a),Nt=u;break;default:lr(i,s,a)}}function ov(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{mo(i)}catch(a){Ze(s,s.return,a)}}}function lv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mo(i)}catch(a){Ze(s,s.return,a)}}function Bw(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new iv),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new iv),s;default:throw Error(r(435,i.tag))}}function Bc(i,s){var a=Bw(i);s.forEach(function(u){if(!a.has(u)){a.add(u);var f=Xw.bind(null,i,u);u.then(f,f)}})}function dn(i,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=i,T=s,w=T;e:for(;w!==null;){switch(w.tag){case 27:if(Jr(w.type)){ct=w.stateNode,fn=!1;break e}break;case 5:ct=w.stateNode,fn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(ct===null)throw Error(r(160));av(d,T,f),ct=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uv(s,i),s=s.sibling}var ri=null;function uv(i,s){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(s,i),mn(i),u&4&&($r(3,i,i.return),Nl(3,i),$r(5,i,i.return));break;case 1:dn(s,i),mn(i),u&512&&(Nt||a===null||Mi(a,a.return)),u&64&&or&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ri;if(dn(s,i),mn(i),u&512&&(Nt||a===null||Mi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,u,a),d[bt]=i,wt(d),u=d;break e;case"link":var T=u0("link","href",f).get(u+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(d=T[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break t}}d=f.createElement(u),Xt(d,u,a),f.head.appendChild(d);break;case"meta":if(T=u0("meta","content",f).get(u+(a.content||""))){for(w=0;w<T.length;w++)if(d=T[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break t}}d=f.createElement(u),Xt(d,u,a),f.head.appendChild(d);break;default:throw Error(r(468,u))}d[bt]=i,wt(d),u=d}i.stateNode=u}else c0(f,i.type,i.stateNode);else i.stateNode=l0(f,u,i.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?c0(f,i.type,i.stateNode):l0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Qd(i,i.memoizedProps,a.memoizedProps)}break;case 27:dn(s,i),mn(i),u&512&&(Nt||a===null||Mi(a,a.return)),a!==null&&u&4&&Qd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(dn(s,i),mn(i),u&512&&(Nt||a===null||Mi(a,a.return)),i.flags&32){f=i.stateNode;try{hn(f,"")}catch(fe){Ze(i,i.return,fe)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,Qd(i,f,a!==null?a.memoizedProps:f)),u&1024&&(Zd=!0);break;case 6:if(dn(s,i),mn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(fe){Ze(i,i.return,fe)}}break;case 3:if(ih=null,f=ri,ri=th(s.containerInfo),dn(s,i),ri=f,mn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{mo(s.containerInfo)}catch(fe){Ze(i,i.return,fe)}Zd&&(Zd=!1,cv(i));break;case 4:u=ri,ri=th(i.stateNode.containerInfo),dn(s,i),mn(i),ri=u;break;case 12:dn(s,i),mn(i);break;case 31:dn(s,i),mn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 13:dn(s,i),mn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=on()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 22:f=i.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,G=or,W=Nt;if(or=G||f,Nt=W||V,dn(s,i),Nt=W,or=G,mn(i),u&8192)e:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||V||or||Nt||sa(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){V=a=s;try{if(d=V.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=V.stateNode;var ee=V.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){Ze(V,V.return,fe)}}}else if(s.tag===6){if(a===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(fe){Ze(V,V.return,fe)}}}else if(s.tag===18){if(a===null){V=s;try{var Q=V.stateNode;f?Jv(Q,!0):Jv(V.stateNode,!1)}catch(fe){Ze(V,V.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Bc(i,a))));break;case 19:dn(s,i),mn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bc(i,u)));break;case 30:break;case 21:break;default:dn(s,i),mn(i)}}function mn(i){var s=i.flags;if(s&2){try{for(var a,u=i.return;u!==null;){if(tv(u)){a=u;break}u=u.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(i);zc(i,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(hn(T,""),a.flags&=-33);var w=Xd(i);zc(i,w,T);break;case 3:case 4:var V=a.stateNode.containerInfo,G=Xd(i);Wd(i,G,V);break;default:throw Error(r(161))}}catch(W){Ze(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function cv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;cv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ur(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)rv(i,s.alternate,s),s=s.sibling}function sa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:$r(4,s,s.return),sa(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&J_(s,s.return,a),sa(s);break;case 27:Ul(s.stateNode);case 26:case 5:Mi(s,s.return),sa(s);break;case 22:s.memoizedState===null&&sa(s);break;case 30:sa(s);break;default:sa(s)}i=i.sibling}}function cr(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,d=s,T=d.flags;switch(d.tag){case 0:case 11:case 15:cr(f,d,a),Nl(4,d);break;case 1:if(cr(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(u,u.return,G)}if(u=d,f=u.updateQueue,f!==null){var w=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)By(V[f],w)}catch(G){Ze(u,u.return,G)}}a&&T&64&&Z_(d),Il(d,d.return);break;case 27:nv(d);case 26:case 5:cr(f,d,a),a&&u===null&&T&4&&ev(d),Il(d,d.return);break;case 12:cr(f,d,a);break;case 31:cr(f,d,a),a&&T&4&&ov(f,d);break;case 13:cr(f,d,a),a&&T&4&&lv(f,d);break;case 22:d.memoizedState===null&&cr(f,d,a),Il(d,d.return);break;case 30:break;default:cr(f,d,a)}s=s.sibling}}function Jd(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&pl(a))}function em(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pl(i))}function si(i,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hv(i,s,a,u),s=s.sibling}function hv(i,s,a,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:si(i,s,a,u),f&2048&&Nl(9,s);break;case 1:si(i,s,a,u);break;case 3:si(i,s,a,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&pl(i)));break;case 12:if(f&2048){si(i,s,a,u),i=s.stateNode;try{var d=s.memoizedProps,T=d.id,w=d.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){Ze(s,s.return,V)}}else si(i,s,a,u);break;case 31:si(i,s,a,u);break;case 13:si(i,s,a,u);break;case 23:break;case 22:d=s.stateNode,T=s.alternate,s.memoizedState!==null?d._visibility&2?si(i,s,a,u):Dl(i,s):d._visibility&2?si(i,s,a,u):(d._visibility|=2,no(i,s,a,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Jd(T,s);break;case 24:si(i,s,a,u),f&2048&&em(s.alternate,s);break;default:si(i,s,a,u)}}function no(i,s,a,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=i,T=s,w=a,V=u,G=T.flags;switch(T.tag){case 0:case 11:case 15:no(d,T,w,V,f),Nl(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?no(d,T,w,V,f):Dl(d,T):(W._visibility|=2,no(d,T,w,V,f)),f&&G&2048&&Jd(T.alternate,T);break;case 24:no(d,T,w,V,f),f&&G&2048&&em(T.alternate,T);break;default:no(d,T,w,V,f)}s=s.sibling}}function Dl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,u=s,f=u.flags;switch(u.tag){case 22:Dl(a,u),f&2048&&Jd(u.alternate,u);break;case 24:Dl(a,u),f&2048&&em(u.alternate,u);break;default:Dl(a,u)}s=s.sibling}}var Ml=8192;function io(i,s,a){if(i.subtreeFlags&Ml)for(i=i.child;i!==null;)fv(i,s,a),i=i.sibling}function fv(i,s,a){switch(i.tag){case 26:io(i,s,a),i.flags&Ml&&i.memoizedState!==null&&CR(a,ri,i.memoizedState,i.memoizedProps);break;case 5:io(i,s,a);break;case 3:case 4:var u=ri;ri=th(i.stateNode.containerInfo),io(i,s,a),ri=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ml,Ml=16777216,io(i,s,a),Ml=u):io(i,s,a));break;default:io(i,s,a)}}function dv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ol(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ft=u,gv(u,i)}dv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mv(i),i=i.sibling}function mv(i){switch(i.tag){case 0:case 11:case 15:Ol(i),i.flags&2048&&$r(9,i,i.return);break;case 3:Ol(i);break;case 12:Ol(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hc(i)):Ol(i);break;default:Ol(i)}}function Hc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Ft=u,gv(u,i)}dv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:$r(8,s,s.return),Hc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(s));break;default:Hc(s)}i=i.sibling}}function gv(i,s){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:$r(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ft=u;else e:for(a=i;Ft!==null;){u=Ft;var f=u.sibling,d=u.return;if(sv(u),u===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var Hw={getCacheForType:function(i){var s=Yt(At),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Yt(At).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,De=null,Ve=0,We=0,Rn=null,Kr=!1,ro=!1,tm=!1,hr=0,mt=0,Yr=0,aa=0,nm=0,An=0,so=0,Vl=null,gn=null,im=!1,Fc=0,pv=0,qc=1/0,Gc=null,Qr=null,Lt=0,Xr=null,ao=null,fr=0,rm=0,sm=null,yv=null,Pl=0,am=null;function Cn(){return($e&2)!==0&&Ve!==0?Ve&-Ve:Z.T!==null?fm():$u()}function _v(){if(An===0)if((Ve&536870912)===0||Ue){var i=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),An=i}else An=536870912;return i=bn.current,i!==null&&(i.flags|=32),An}function pn(i,s,a){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(oo(i,0),Wr(i,Ve,An,!1)),Vs(i,a),(($e&2)===0||i!==it)&&(i===it&&(($e&2)===0&&(aa|=a),mt===4&&Wr(i,Ve,An,!1)),Oi(i))}function vv(i,s,a){if(($e&6)!==0)throw Error(r(327));var u=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Qn(i,s),f=u?$w(i,s):lm(i,s,!0),d=u;do{if(f===0){ro&&!u&&Wr(i,s,0,!1);break}else{if(a=i.current.alternate,d&&!qw(a)){f=lm(i,s,!1),d=!1;continue}if(f===2){if(d=s,i.errorRecoveryDisabledLanes&d)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var w=i;f=Vl;var V=w.current.memoizedState.isDehydrated;if(V&&(oo(w,T).flags|=256),T=lm(w,T,!1),T!==2){if(tm&&!V){w.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){oo(i,0),Wr(i,s,0,!0);break}e:{switch(u=i,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Wr(u,s,An,!Kr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Fc+300-on(),10<f)){if(Wr(u,s,An,!Kr),gi(u,0,!0)!==0)break e;fr=s,u.timeoutHandle=Xv(Tv.bind(null,u,a,gn,Gc,im,s,An,aa,so,Kr,d,"Throttled",-0,0),f);break e}Tv(u,a,gn,Gc,im,s,An,aa,so,Kr,d,null,-0,0)}}break}while(!0);Oi(i)}function Tv(i,s,a,u,f,d,T,w,V,G,W,ee,K,Q){if(i.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},fv(s,d,ee);var fe=(d&62914560)===d?Fc-on():(d&4194048)===d?pv-on():0;if(fe=xR(ee,fe),fe!==null){fr=d,i.cancelPendingCommit=fe(xv.bind(null,i,s,d,a,u,f,T,w,V,W,ee,null,K,Q)),Wr(i,d,T,!G);return}}xv(i,s,d,a,u,f,T,w,V)}function qw(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!En(d(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wr(i,s,a,u){s&=~nm,s&=~aa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var d=31-gt(f),T=1<<d;u[d]=-1,f&=~T}a!==0&&Ps(i,a,s)}function $c(){return($e&6)===0?(kl(0),!1):!0}function om(){if(De!==null){if(We===0)var i=De.return;else i=De,tr=Ws=null,bd(i),Wa=null,_l=0,i=De;for(;i!==null;)W_(i.alternate,i),i=i.return;De=null}}function oo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,cR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),fr=0,om(),it=i,De=a=Ji(i.current,null),Ve=s,We=0,Rn=null,Kr=!1,ro=Qn(i,s),tm=!1,so=An=nm=aa=Yr=mt=0,gn=Vl=null,im=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-gt(u),d=1<<f;s|=i[f],u&=~d}return hr=s,dc(),a}function Ev(i,s){xe=null,Z.H=Al,s===Xa||s===Ec?(s=Ly(),We=3):s===hd?(s=Ly(),We=4):We=s===Ud?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,De===null&&(mt=1,Pc(i,kn(s,i.current)))}function Sv(){var i=bn.current;return i===null?!0:(Ve&4194048)===Ve?zn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===zn:!1}function bv(){var i=Z.H;return Z.H=Al,i===null?Al:i}function wv(){var i=Z.A;return Z.A=Hw,i}function Kc(){mt=4,Kr||(Ve&4194048)!==Ve&&bn.current!==null||(ro=!0),(Yr&134217727)===0&&(aa&134217727)===0||it===null||Wr(it,Ve,An,!1)}function lm(i,s,a){var u=$e;$e|=2;var f=bv(),d=wv();(it!==i||Ve!==s)&&(Gc=null,oo(i,s)),s=!1;var T=mt;e:do try{if(We!==0&&De!==null){var w=De,V=Rn;switch(We){case 8:om(),T=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(s=!0);var G=We;if(We=0,Rn=null,lo(i,w,V,G),a&&ro){T=0;break e}break;default:G=We,We=0,Rn=null,lo(i,w,V,G)}}Gw(),T=mt;break}catch(W){Ev(i,W)}while(!0);return s&&i.shellSuspendCounter++,tr=Ws=null,$e=u,Z.H=f,Z.A=d,De===null&&(it=null,Ve=0,dc()),T}function Gw(){for(;De!==null;)Rv(De)}function $w(i,s){var a=$e;$e|=2;var u=bv(),f=wv();it!==i||Ve!==s?(Gc=null,qc=on()+500,oo(i,s)):ro=Qn(i,s);e:do try{if(We!==0&&De!==null){s=De;var d=Rn;t:switch(We){case 1:We=0,Rn=null,lo(i,s,d,1);break;case 2:case 9:if(Py(d)){We=0,Rn=null,Av(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),Oi(i)},d.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Py(d)?(We=0,Rn=null,Av(s)):(We=0,Rn=null,lo(i,s,d,7));break;case 5:var T=null;switch(De.tag){case 26:T=De.memoizedState;case 5:case 27:var w=De;if(T?h0(T):w.stateNode.complete){We=0,Rn=null;var V=w.sibling;if(V!==null)De=V;else{var G=w.return;G!==null?(De=G,Yc(G)):De=null}break t}}We=0,Rn=null,lo(i,s,d,5);break;case 6:We=0,Rn=null,lo(i,s,d,6);break;case 8:om(),mt=6;break e;default:throw Error(r(462))}}Kw();break}catch(W){Ev(i,W)}while(!0);return tr=Ws=null,Z.H=u,Z.A=f,$e=a,De!==null?0:(it=null,Ve=0,dc(),mt)}function Kw(){for(;De!==null&&!jf();)Rv(De)}function Rv(i){var s=Q_(i.alternate,i,hr);i.memoizedProps=i.pendingProps,s===null?Yc(i):De=s}function Av(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=F_(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=F_(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:bd(s);default:W_(a,s),s=De=wy(s,hr),s=Q_(a,s,hr)}i.memoizedProps=i.pendingProps,s===null?Yc(i):De=s}function lo(i,s,a,u){tr=Ws=null,bd(s),Wa=null,_l=0;var f=s.return;try{if(Pw(i,f,s,a,Ve)){mt=1,Pc(i,kn(a,i.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;mt=1,Pc(i,kn(a,i.current)),De=null;return}s.flags&32768?(Ue||u===1?i=!0:ro||(Ve&536870912)!==0?i=!1:(Kr=i=!0,(u===2||u===9||u===3||u===6)&&(u=bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cv(s,i)):Yc(s)}function Yc(i){var s=i;do{if((s.flags&32768)!==0){Cv(s,Kr);return}i=s.return;var a=jw(s.alternate,s,hr);if(a!==null){De=a;return}if(s=s.sibling,s!==null){De=s;return}De=s=i}while(s!==null);mt===0&&(mt=5)}function Cv(i,s){do{var a=Uw(i.alternate,i);if(a!==null){a.flags&=32767,De=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){De=i;return}De=i=a}while(i!==null);mt=6,De=null}function xv(i,s,a,u,f,d,T,w,V){i.cancelPendingCommit=null;do Qc();while(Lt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=Xf,Bf(i,a,d,T,w,V),i===it&&(De=it=null,Ve=0),ao=s,Xr=i,fr=a,rm=d,sm=f,yv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Ww(Cr,function(){return Ov(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=se.p,se.p=2,T=$e,$e|=4;try{zw(i,s,a)}finally{$e=T,se.p=f,Z.T=u}}Lt=1,Nv(),Iv(),Dv()}}function Nv(){if(Lt===1){Lt=0;var i=Xr,s=ao,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var u=se.p;se.p=2;var f=$e;$e|=4;try{uv(s,i);var d=Tm,T=gy(i.containerInfo),w=d.focusedElem,V=d.selectionRange;if(T!==w&&w&&w.ownerDocument&&my(w.ownerDocument.documentElement,w)){if(V!==null&&Gf(w)){var G=V.start,W=V.end;if(W===void 0&&(W=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(W,w.value.length);else{var ee=w.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Q=K.getSelection(),fe=w.textContent.length,_e=Math.min(V.start,fe),nt=V.end===void 0?_e:Math.min(V.end,fe);!Q.extend&&_e>nt&&(T=nt,nt=_e,_e=T);var H=dy(w,_e),k=dy(w,nt);if(H&&k&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var q=ee.createRange();q.setStart(H.node,H.offset),Q.removeAllRanges(),_e>nt?(Q.addRange(q),Q.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),Q.addRange(q))}}}}for(ee=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ee.length;w++){var J=ee[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}oh=!!vm,Tm=vm=null}finally{$e=f,se.p=u,Z.T=a}}i.current=s,Lt=2}}function Iv(){if(Lt===2){Lt=0;var i=Xr,s=ao,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var u=se.p;se.p=2;var f=$e;$e|=4;try{rv(i,s.alternate,s)}finally{$e=f,se.p=u,Z.T=a}}Lt=3}}function Dv(){if(Lt===4||Lt===3){Lt=0,Uu();var i=Xr,s=ao,a=fr,u=yv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,ao=Xr=null,Mv(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Qr=null),Qi(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=se.p,se.p=2,Z.T=null;try{for(var d=i.onRecoverableError,T=0;T<u.length;T++){var w=u[T];d(w.value,{componentStack:w.stack})}}finally{Z.T=s,se.p=f}}(fr&3)!==0&&Qc(),Oi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===am?Pl++:(Pl=0,am=i):Pl=0,kl(0)}}function Mv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,pl(s)))}function Qc(){return Nv(),Iv(),Dv(),Ov()}function Ov(){if(Lt!==5)return!1;var i=Xr,s=rm;rm=0;var a=Qi(fr),u=Z.T,f=se.p;try{se.p=32>a?32:a,Z.T=null,a=sm,sm=null;var d=Xr,T=fr;if(Lt=0,ao=Xr=null,fr=0,($e&6)!==0)throw Error(r(331));var w=$e;if($e|=4,mv(d.current),hv(d,d.current,T,a),$e=w,kl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{se.p=f,Z.T=u,Mv(i,s)}}function Vv(i,s,a){s=kn(a,s),s=jd(i.stateNode,s,2),i=Fr(i,s,2),i!==null&&(Vs(i,2),Oi(i))}function Ze(i,s,a){if(i.tag===3)Vv(i,i,a);else for(;s!==null;){if(s.tag===3){Vv(s,i,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){i=kn(a,i),a=P_(2),u=Fr(s,a,2),u!==null&&(k_(a,u,s,i),Vs(u,2),Oi(u));break}}s=s.return}}function um(i,s,a){var u=i.pingCache;if(u===null){u=i.pingCache=new Fw;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(a)||(tm=!0,f.add(a),i=Yw.bind(null,i,s,a),s.then(i,i))}function Yw(i,s,a){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,it===i&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>on()-Fc?($e&2)===0&&oo(i,0):nm|=a,so===Ve&&(so=0)),Oi(i)}function Pv(i,s){s===0&&(s=Gu()),i=Ys(i,s),i!==null&&(Vs(i,s),Oi(i))}function Qw(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Pv(i,a)}function Xw(i,s){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Pv(i,a)}function Ww(i,s){return kt(i,s)}var Xc=null,uo=null,cm=!1,Wc=!1,hm=!1,Zr=0;function Oi(i){i!==uo&&i.next===null&&(uo===null?Xc=uo=i:uo=uo.next=i),Wc=!0,cm||(cm=!0,Jw())}function kl(i,s){if(!hm&&Wc){hm=!0;do for(var a=!1,u=Xc;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var T=u.suspendedLanes,w=u.pingedLanes;d=(1<<31-gt(42|i)+1)-1,d&=f&~(T&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Uv(u,d))}else d=Ve,d=gi(u,u===it?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Qn(u,d)||(a=!0,Uv(u,d));u=u.next}while(a);hm=!1}}function Zw(){kv()}function kv(){Wc=cm=!1;var i=0;Zr!==0&&uR()&&(i=Zr);for(var s=on(),a=null,u=Xc;u!==null;){var f=u.next,d=Lv(u,s);d===0?(u.next=null,a===null?Xc=f:a.next=f,f===null&&(uo=a)):(a=u,(i!==0||(d&3)!==0)&&(Wc=!0)),u=f}Lt!==0&&Lt!==5||kl(i),Zr!==0&&(Zr=0)}function Lv(i,s){for(var a=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,d=i.pendingLanes&-62914561;0<d;){var T=31-gt(d),w=1<<T,V=f[T];V===-1?((w&a)===0||(w&u)!==0)&&(f[T]=zf(w,s)):V<=s&&(i.expiredLanes|=w),d&=~w}if(s=it,a=Ve,a=gi(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ar(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Qn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(u!==null&&Ar(u),Qi(a)){case 2:case 8:a=$o;break;case 32:a=Cr;break;case 268435456:a=zu;break;default:a=Cr}return u=jv.bind(null,i),a=kt(a,u),i.callbackPriority=s,i.callbackNode=a,s}return u!==null&&u!==null&&Ar(u),i.callbackPriority=2,i.callbackNode=null,2}function jv(i,s){if(Lt!==0&&Lt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Qc()&&i.callbackNode!==a)return null;var u=Ve;return u=gi(i,i===it?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(vv(i,u,s),Lv(i,on()),i.callbackNode!=null&&i.callbackNode===a?jv.bind(null,i):null)}function Uv(i,s){if(Qc())return null;vv(i,s,!0)}function Jw(){hR(function(){($e&6)!==0?kt(Go,Zw):kv()})}function fm(){if(Zr===0){var i=Ya;i===0&&(i=di,di<<=1,(di&261888)===0&&(di=256)),Zr=i}return Zr}function zv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oa(""+i)}function Bv(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function eR(i,s,a,u,f){if(s==="submit"&&a&&a.stateNode===f){var d=zv((f[Bt]||null).action),T=u.submitter;T&&(s=(s=T[Bt]||null)?zv(s.formAction):T.getAttribute("formAction"),s!==null&&(d=s,T=null));var w=new Ai("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zr!==0){var V=T?Bv(f,T):new FormData(f);Md(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(w.preventDefault(),V=T?Bv(f,T):new FormData(f),Md(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var dm=0;dm<Qf.length;dm++){var mm=Qf[dm],tR=mm.toLowerCase(),nR=mm[0].toUpperCase()+mm.slice(1);ii(tR,"on"+nR)}ii(_y,"onAnimationEnd"),ii(vy,"onAnimationIteration"),ii(Ty,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(_w,"onTransitionRun"),ii(vw,"onTransitionStart"),ii(Tw,"onTransitionCancel"),ii(Ey,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Hv(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],f=u.event;u=u.listeners;e:{var d=void 0;if(s)for(var T=u.length-1;0<=T;T--){var w=u[T],V=w.instance,G=w.currentTarget;if(w=w.listener,V!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(W){fc(W)}f.currentTarget=null,d=V}else for(T=0;T<u.length;T++){if(w=u[T],V=w.instance,G=w.currentTarget,w=w.listener,V!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(W){fc(W)}f.currentTarget=null,d=V}}}}function Me(i,s){var a=s[xa];a===void 0&&(a=s[xa]=new Set);var u=i+"__bubble";a.has(u)||(Fv(s,i,2,!1),a.add(u))}function gm(i,s,a){var u=0;s&&(u|=4),Fv(a,i,u,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function pm(i){if(!i[Zc]){i[Zc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(iR.has(a)||gm(a,!1,i),gm(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,gm("selectionchange",!1,s))}}function Fv(i,s,a,u){switch(_0(s)){case 2:var f=DR;break;case 8:f=MR;break;default:f=Dm}a=f.bind(null,s,a,i),f=void 0,!zs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function ym(i,s,a,u,f){var d=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var w=u.stateNode.containerInfo;if(w===f)break;if(T===4)for(T=u.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;w!==null;){if(T=vi(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){u=d=T;continue e}w=w.parentNode}}u=u.return}Or(function(){var G=d,W=Mn(a),ee=[];e:{var K=Sy.get(i);if(K!==void 0){var Q=Ai,fe=i;switch(i){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":Q=uc;break;case"focusin":fe="focus",Q=qs;break;case"focusout":fe="blur",Q=qs;break;case"beforeblur":case"afterblur":Q=qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case _y:case vy:case Ty:Q=nc;break;case Ey:Q=A;break;case"scroll":case"scrollend":Q=ol;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Zi;break;case"toggle":case"beforetoggle":Q=Ce}var _e=(s&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),H=_e?K!==null?K+"Capture":null:K;_e=[];for(var k=G,q;k!==null;){var J=k;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||H===null||(J=Jn(k,H),J!=null&&_e.push(jl(k,J,q))),nt)break;k=k.return}0<_e.length&&(K=new Q(K,fe,null,a,W),ee.push({event:K,listeners:_e}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",K&&a!==rl&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((Q||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=G,fe=fe?vi(fe):null,fe!==null&&(nt=l(fe),_e=fe.tag,fe!==nt||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(Q=null,fe=G),Q!==fe)){if(_e=ll,J="onMouseLeave",H="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(_e=Zi,J="onPointerLeave",H="onPointerEnter",k="pointer"),nt=Q==null?K:vn(Q),q=fe==null?K:vn(fe),K=new _e(J,k+"leave",Q,a,W),K.target=nt,K.relatedTarget=q,J=null,vi(W)===G&&(_e=new _e(H,k+"enter",fe,a,W),_e.target=q,_e.relatedTarget=nt,J=_e),nt=J,Q&&fe)t:{for(_e=rR,H=Q,k=fe,q=0,J=H;J;J=_e(J))q++;J=0;for(var ge=k;ge;ge=_e(ge))J++;for(;0<q-J;)H=_e(H),q--;for(;0<J-q;)k=_e(k),J--;for(;q--;){if(H===k||k!==null&&H===k.alternate){_e=H;break t}H=_e(H),k=_e(k)}_e=null}else _e=null;Q!==null&&qv(ee,K,Q,_e,!1),fe!==null&&nt!==null&&qv(ee,nt,fe,_e,!0)}}e:{if(K=G?vn(G):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var Fe=oy;else if(sy(K))if(ly)Fe=gw;else{Fe=dw;var de=fw}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ma(G.elementType)&&(Fe=oy):Fe=mw;if(Fe&&(Fe=Fe(i,G))){ay(ee,Fe,a,W);break e}de&&de(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&tl(K,"number",K.value)}switch(de=G?vn(G):window,i){case"focusin":(sy(de)||de.contentEditable==="true")&&(za=de,$f=G,dl=null);break;case"focusout":dl=$f=za=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,py(ee,a,W);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":py(ee,a,W)}var Ie;if(Ge)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ua?Gs(i,a)&&(Pe="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ni&&a.locale!=="ko"&&(Ua||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ua&&(Ie=al()):(Ri=W,sl="value"in Ri?Ri.value:Ri.textContent,Ua=!0)),de=Jc(G,Pe),0<de.length&&(Pe=new xi(Pe,i,null,a,W),ee.push({event:Pe,listeners:de}),Ie?Pe.data=Ie:(Ie=ja(a),Ie!==null&&(Pe.data=Ie)))),(Ie=Vn?lw(i,a):uw(i,a))&&(Pe=Jc(G,"onBeforeInput"),0<Pe.length&&(de=new xi("onBeforeInput","beforeinput",null,a,W),ee.push({event:de,listeners:Pe}),de.data=Ie)),eR(ee,i,G,a,W)}Hv(ee,s)})}function jl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Jc(i,s){for(var a=s+"Capture",u=[];i!==null;){var f=i,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(i,a),f!=null&&u.unshift(jl(i,f,d)),f=Jn(i,s),f!=null&&u.push(jl(i,f,d))),i.tag===3)return u;i=i.return}return[]}function rR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qv(i,s,a,u,f){for(var d=s._reactName,T=[];a!==null&&a!==u;){var w=a,V=w.alternate,G=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||G===null||(V=G,f?(G=Jn(a,d),G!=null&&T.unshift(jl(a,G,V))):f||(G=Jn(a,d),G!=null&&T.push(jl(a,G,V)))),a=a.return}T.length!==0&&i.push({event:s,listeners:T})}var sR=/\r\n?/g,aR=/\u0000|\uFFFD/g;function Gv(i){return(typeof i=="string"?i:""+i).replace(sR,`
`).replace(aR,"")}function $v(i,s){return s=Gv(s),Gv(i)===s}function tt(i,s,a,u,f,d){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||hn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&hn(i,""+u);break;case"className":Tn(i,"class",u);break;case"tabIndex":Tn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(i,a,u);break;case"style":il(i,u,d);break;case"data":if(s!=="object"){Tn(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Oa(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&tt(i,s,"name",f.name,f,null),tt(i,s,"formEncType",f.formEncType,f,null),tt(i,s,"formMethod",f.formMethod,f,null),tt(i,s,"formTarget",f.formTarget,f,null)):(tt(i,s,"encType",f.encType,f,null),tt(i,s,"method",f.method,f,null),tt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=Oa(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Zn);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=Oa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":Me("beforetoggle",i),Me("toggle",i),Ia(i,"popover",u);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ia(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ju.get(a)||a,Ia(i,a,u))}}function _m(i,s,a,u,f,d){switch(a){case"style":il(i,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof u=="string"?hn(i,u):(typeof u=="number"||typeof u=="bigint")&&hn(i,""+u);break;case"onScroll":u!=null&&Me("scroll",i);break;case"onScrollEnd":u!=null&&Me("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),d=i[Bt]||null,d=d!=null?d[a]:null,typeof d=="function"&&i.removeEventListener(s,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,u,f);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):Ia(i,a,u)}}}function Xt(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",i),Me("load",i);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,d,T,a,null)}}f&&tt(i,s,"srcSet",a.srcSet,a,null),u&&tt(i,s,"src",a.src,a,null);return;case"input":Me("invalid",i);var w=d=T=f=null,V=null,G=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":T=W;break;case"checked":V=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:tt(i,s,u,W,a,null)}}Xu(i,d,w,V,G,T,f,!1);return;case"select":Me("invalid",i),u=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":T=w;break;case"multiple":u=w;default:tt(i,s,f,w,a,null)}s=d,a=T,i.multiple=!!u,s!=null?Nr(i,!!u,s,!1):a!=null&&Nr(i,!!u,a,!0);return;case"textarea":Me("invalid",i),d=f=u=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":u=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:tt(i,s,T,w,a,null)}Ir(i,u,f,d);return;case"option":for(V in a)a.hasOwnProperty(V)&&(u=a[V],u!=null)&&(V==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":tt(i,s,V,u,a,null));return;case"dialog":Me("beforetoggle",i),Me("toggle",i),Me("cancel",i),Me("close",i);break;case"iframe":case"object":Me("load",i);break;case"video":case"audio":for(u=0;u<Ll.length;u++)Me(Ll[u],i);break;case"image":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"embed":case"source":case"link":Me("error",i),Me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(u=a[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,G,u,a,null)}return;default:if(Ma(s)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&_m(i,s,W,u,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null&&tt(i,s,w,u,a,null))}function oR(i,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,w=null,V=null,G=null,W=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=ee;default:u.hasOwnProperty(Q)||tt(i,s,Q,null,u,ee)}}for(var K in u){var Q=u[K];if(ee=a[K],u.hasOwnProperty(K)&&(Q!=null||ee!=null))switch(K){case"type":d=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":W=Q;break;case"value":T=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ee&&tt(i,s,K,Q,u,ee)}}Da(i,T,w,V,G,W,d,f);return;case"select":Q=T=w=K=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":Q=V;default:u.hasOwnProperty(d)||tt(i,s,d,null,u,V)}for(f in u)if(d=u[f],V=a[f],u.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":K=d;break;case"defaultValue":w=d;break;case"multiple":T=d;default:d!==V&&tt(i,s,f,d,u,V)}s=w,a=T,u=Q,K!=null?Nr(i,!!a,K,!1):!!u!=!!a&&(s!=null?Nr(i,!!a,s,!0):Nr(i,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(i,s,w,null,u,f)}for(T in u)if(f=u[T],d=a[T],u.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&tt(i,s,T,f,u,d)}Wu(i,K,Q);return;case"option":for(var fe in a)K=a[fe],a.hasOwnProperty(fe)&&K!=null&&!u.hasOwnProperty(fe)&&(fe==="selected"?i.selected=!1:tt(i,s,fe,null,u,K));for(V in u)K=u[V],Q=a[V],u.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null)&&(V==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":tt(i,s,V,K,u,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e)&&tt(i,s,_e,null,u,K);for(G in u)if(K=u[G],Q=a[G],u.hasOwnProperty(G)&&K!==Q&&(K!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:tt(i,s,G,K,u,Q)}return;default:if(Ma(s)){for(var nt in a)K=a[nt],a.hasOwnProperty(nt)&&K!==void 0&&!u.hasOwnProperty(nt)&&_m(i,s,nt,void 0,u,K);for(W in u)K=u[W],Q=a[W],!u.hasOwnProperty(W)||K===Q||K===void 0&&Q===void 0||_m(i,s,W,K,u,Q);return}}for(var H in a)K=a[H],a.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&tt(i,s,H,null,u,K);for(ee in u)K=u[ee],Q=a[ee],!u.hasOwnProperty(ee)||K===Q||K==null&&Q==null||tt(i,s,ee,K,u,Q)}function Kv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,T=f.initiatorType,w=f.duration;if(d&&w&&Kv(T)){for(T=0,w=f.responseEnd,u+=1;u<a.length;u++){var V=a[u],G=V.startTime;if(G>w)break;var W=V.transferSize,ee=V.initiatorType;W&&Kv(ee)&&(V=V.responseEnd,T+=W*(V<w?1:(w-G)/(V-G)))}if(--u,s+=8*(d+T)/(f.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var vm=null,Tm=null;function eh(i){return i.nodeType===9?i:i.ownerDocument}function Yv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Em(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sm=null;function uR(){var i=window.event;return i&&i.type==="popstate"?i===Sm?!1:(Sm=i,!0):(Sm=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,cR=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(i){return Wv.resolve(null).then(i).catch(fR)}:Xv;function fR(i){setTimeout(function(){throw i})}function Jr(i){return i==="head"}function Zv(i,s){var a=s,u=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(f),mo(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Ul(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var T=d.nextSibling,w=d.nodeName;d[_i]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=T}}else a==="body"&&Ul(i.ownerDocument.body);a=f}while(a);mo(s)}function Jv(i,s){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function bm(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bm(a),Na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function dR(i,s,a,u){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[_i])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(d=i.getAttribute("rel"),d==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(d!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(d=i.getAttribute("src"),(d!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===d)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function mR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Bn(i.nextSibling),i===null))return null;return i}function e0(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Bn(i.nextSibling),i===null))return null;return i}function wm(i){return i.data==="$?"||i.data==="$~"}function Rm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function gR(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Bn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Am=null;function t0(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function n0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function i0(i,s,a){switch(s=eh(a),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ul(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Na(i)}var Hn=new Map,r0=new Set;function th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dr=se.d;se.d={f:pR,r:yR,D:_R,C:vR,L:TR,m:ER,X:bR,S:SR,M:wR};function pR(){var i=dr.f(),s=$c();return i||s}function yR(i){var s=Dn(i);s!==null&&s.tag===5&&s.type==="form"?E_(s):dr.r(i)}var co=typeof document>"u"?null:document;function s0(i,s,a){var u=co;if(u&&typeof s=="string"&&s){var f=cn(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),r0.has(f)||(r0.add(f),i={rel:i,crossOrigin:a,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Xt(s,"link",i),wt(s),u.head.appendChild(s)))}}function _R(i){dr.D(i),s0("dns-prefetch",i,null)}function vR(i,s){dr.C(i,s),s0("preconnect",i,s)}function TR(i,s,a){dr.L(i,s,a);var u=co;if(u&&i&&s){var f='link[rel="preload"][as="'+cn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+cn(a.imageSizes)+'"]')):f+='[href="'+cn(i)+'"]';var d=f;switch(s){case"style":d=ho(i);break;case"script":d=fo(i)}Hn.has(d)||(i=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Hn.set(d,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(zl(d))||s==="script"&&u.querySelector(Bl(d))||(s=u.createElement("link"),Xt(s,"link",i),wt(s),u.head.appendChild(s)))}}function ER(i,s){dr.m(i,s);var a=co;if(a&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+cn(u)+'"][href="'+cn(i)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fo(i)}if(!Hn.has(d)&&(i=E({rel:"modulepreload",href:i},s),Hn.set(d,i),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}u=a.createElement("link"),Xt(u,"link",i),wt(u),a.head.appendChild(u)}}}function SR(i,s,a){dr.S(i,s,a);var u=co;if(u&&i){var f=Ti(u).hoistableStyles,d=ho(i);s=s||"default";var T=f.get(d);if(!T){var w={loading:0,preload:null};if(T=u.querySelector(zl(d)))w.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Hn.get(d))&&Cm(i,a);var V=T=u.createElement("link");wt(V),Xt(V,"link",i),V._p=new Promise(function(G,W){V.onload=G,V.onerror=W}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:w},f.set(d,T)}}}function bR(i,s){dr.X(i,s);var a=co;if(a&&i){var u=Ti(a).hoistableScripts,f=fo(i),d=u.get(f);d||(d=a.querySelector(Bl(f)),d||(i=E({src:i,async:!0},s),(s=Hn.get(f))&&xm(i,s),d=a.createElement("script"),wt(d),Xt(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function wR(i,s){dr.M(i,s);var a=co;if(a&&i){var u=Ti(a).hoistableScripts,f=fo(i),d=u.get(f);d||(d=a.querySelector(Bl(f)),d||(i=E({src:i,async:!0,type:"module"},s),(s=Hn.get(f))&&xm(i,s),d=a.createElement("script"),wt(d),Xt(d,"link",i),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function a0(i,s,a,u){var f=(f=Ne.current)?th(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ho(a.href),a=Ti(f).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=ho(a.href);var d=Ti(f).hoistableStyles,T=d.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(i,T),(d=f.querySelector(zl(i)))&&!d._p&&(T.instance=d,T.state.loading=5),Hn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(i,a),d||RR(f,i,a,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fo(a),a=Ti(f).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ho(i){return'href="'+cn(i)+'"'}function zl(i){return'link[rel="stylesheet"]['+i+"]"}function o0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function RR(i,s,a,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xt(s,"link",a),wt(s),i.head.appendChild(s))}function fo(i){return'[src="'+cn(i)+'"]'}function Bl(i){return"script[async]"+i}function l0(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+cn(a.href)+'"]');if(u)return s.instance=u,wt(u),u;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),wt(u),Xt(u,"style",f),nh(u,a.precedence,i),s.instance=u;case"stylesheet":f=ho(a.href);var d=i.querySelector(zl(f));if(d)return s.state.loading|=4,s.instance=d,wt(d),d;u=o0(a),(f=Hn.get(f))&&Cm(u,f),d=(i.ownerDocument||i).createElement("link"),wt(d);var T=d;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Xt(d,"link",u),s.state.loading|=4,nh(d,a.precedence,i),s.instance=d;case"script":return d=fo(a.src),(f=i.querySelector(Bl(d)))?(s.instance=f,wt(f),f):(u=a,(f=Hn.get(d))&&(u=E({},a),xm(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),wt(f),Xt(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,nh(u,a.precedence,i));return s.instance}function nh(i,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,T=0;T<u.length;T++){var w=u[T];if(w.dataset.precedence===s)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(i,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Cm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function xm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ih=null;function u0(i,s,a){if(ih===null){var u=new Map,f=ih=new Map;f.set(a,u)}else f=ih,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[bt]||i==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(s)||"";T=i+T;var w=u.get(T);w?w.push(d):u.set(T,[d])}}return u}function c0(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function AR(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function h0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CR(i,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ho(u.href),d=s.querySelector(zl(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=rh.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=d,wt(d);return}d=s.ownerDocument||s,u=o0(u),(f=Hn.get(f))&&Cm(u,f),d=d.createElement("link"),wt(d);var T=d;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),Xt(d,"link",u),a.instance=d}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=rh.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Nm=0;function xR(i,s){return i.stylesheets&&i.count===0&&ah(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&ah(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4+s);0<i.imgBytes&&Nm===0&&(Nm=62500*lR());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ah(i,i.stylesheets),i.unsuspend)){var d=i.unsuspend;i.unsuspend=null,d()}},(i.imgBytes>Nm?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function rh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ah(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var sh=null;function ah(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,sh=new Map,s.forEach(NR,i),sh=null,rh.call(i))}function NR(i,s){if(!(s.state.loading&4)){var a=sh.get(i);if(a)var u=a.get(null);else{a=new Map,sh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||u,d===u&&a.set(null,f),a.set(T,f),this.count++,u=rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var Hl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function IR(i,s,a,u,f,d,T,w,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function f0(i,s,a,u,f,d,T,w,V,G,W,ee){return i=new IR(i,s,a,T,V,G,W,ee,w),s=1,d===!0&&(s|=24),d=Sn(3,null,null,s),i.current=d,d.stateNode=i,s=ld(),s.refCount++,i.pooledCache=s,s.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:s},fd(d),i}function d0(i){return i?(i=Fa,i):Fa}function m0(i,s,a,u,f,d){f=d0(f),u.context===null?u.context=f:u.pendingContext=f,u=Hr(s),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Fr(i,u,s),a!==null&&(pn(a,i,s),Tl(a,i,s))}function g0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Im(i,s){g0(i,s),(i=i.alternate)&&g0(i,s)}function p0(i){if(i.tag===13||i.tag===31){var s=Ys(i,67108864);s!==null&&pn(s,i,67108864),Im(i,67108864)}}function y0(i){if(i.tag===13||i.tag===31){var s=Cn();s=ks(s);var a=Ys(i,s);a!==null&&pn(a,i,s),Im(i,s)}}var oh=!0;function DR(i,s,a,u){var f=Z.T;Z.T=null;var d=se.p;try{se.p=2,Dm(i,s,a,u)}finally{se.p=d,Z.T=f}}function MR(i,s,a,u){var f=Z.T;Z.T=null;var d=se.p;try{se.p=8,Dm(i,s,a,u)}finally{se.p=d,Z.T=f}}function Dm(i,s,a,u){if(oh){var f=Mm(u);if(f===null)ym(i,s,u,lh,a),v0(i,u);else if(VR(f,i,s,a,u))u.stopPropagation();else if(v0(i,u),s&4&&-1<OR.indexOf(i)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=mi(d.pendingLanes);if(T!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-gt(T);w.entanglements[1]|=V,T&=~V}Oi(d),($e&6)===0&&(qc=on()+500,kl(0))}}break;case 31:case 13:w=Ys(d,2),w!==null&&pn(w,d,2),$c(),Im(d,2)}if(d=Mm(u),d===null&&ym(i,s,u,lh,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else ym(i,s,u,null,a)}}function Mm(i){return i=Mn(i),Om(i)}var lh=null;function Om(i){if(lh=null,i=vi(i),i!==null){var s=l(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=m(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return lh=i,null}function _0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case Go:return 2;case $o:return 8;case Cr:case Uf:return 32;case zu:return 268435456;default:return 32}default:return 32}}var Vm=!1,es=null,ts=null,ns=null,Fl=new Map,ql=new Map,is=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(i,s){switch(i){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Fl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(s.pointerId)}}function Gl(i,s,a,u,f,d){return i===null||i.nativeEvent!==d?(i={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},s!==null&&(s=Dn(s),s!==null&&p0(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function VR(i,s,a,u,f){switch(s){case"focusin":return es=Gl(es,i,s,a,u,f),!0;case"dragenter":return ts=Gl(ts,i,s,a,u,f),!0;case"mouseover":return ns=Gl(ns,i,s,a,u,f),!0;case"pointerover":var d=f.pointerId;return Fl.set(d,Gl(Fl.get(d)||null,i,s,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,ql.set(d,Gl(ql.get(d)||null,i,s,a,u,f)),!0}return!1}function T0(i){var s=vi(i.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,Xn(i.priority,function(){y0(a)});return}}else if(s===31){if(s=m(a),s!==null){i.blockedOn=s,Xn(i.priority,function(){y0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Mm(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);rl=u,a.target.dispatchEvent(u),rl=null}else return s=Dn(a),s!==null&&p0(s),i.blockedOn=a,!1;s.shift()}return!0}function E0(i,s,a){uh(i)&&a.delete(s)}function PR(){Vm=!1,es!==null&&uh(es)&&(es=null),ts!==null&&uh(ts)&&(ts=null),ns!==null&&uh(ns)&&(ns=null),Fl.forEach(E0),ql.forEach(E0)}function ch(i,s){i.blockedOn===s&&(i.blockedOn=null,Vm||(Vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PR)))}var hh=null;function S0(i){hh!==i&&(hh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hh===i&&(hh=null);for(var s=0;s<i.length;s+=3){var a=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(Om(u||a)===null)continue;break}var d=Dn(a);d!==null&&(i.splice(s,3),s-=3,Md(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function mo(i){function s(V){return ch(V,i)}es!==null&&ch(es,i),ts!==null&&ch(ts,i),ns!==null&&ch(ns,i),Fl.forEach(s),ql.forEach(s);for(var a=0;a<is.length;a++){var u=is[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)T0(a),a.blockedOn===null&&is.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],T=f[Bt]||null;if(typeof d=="function")T||S0(a);else if(T){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[Bt]||null)w=T.formAction;else if(Om(f)!==null)continue}else w=T.action;typeof w=="function"?a[u+1]=w:(a.splice(u,3),u-=3),S0(a)}}}function b0(){function i(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Pm(i){this._internalRoot=i}fh.prototype.render=Pm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,u=Cn();m0(a,u,i,s,null,null)},fh.prototype.unmount=Pm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;m0(i.current,2,null,i,null,null),$c(),s[yi]=null}};function fh(i){this._internalRoot=i}fh.prototype.unstable_scheduleHydration=function(i){if(i){var s=$u();i={blockedOn:null,target:i,priority:s};for(var a=0;a<is.length&&s!==0&&s<is[a].priority;a++);is.splice(a,0,i),a===0&&T0(i)}};var w0=e.version;if(w0!=="19.2.3")throw Error(r(527,w0,"19.2.3"));se.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var kR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Yn=dh.inject(kR),Gt=dh}catch{}}return Kl.createRoot=function(i,s){if(!o(i))throw Error(r(299));var a=!1,u="",f=D_,d=M_,T=O_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=f0(i,1,!1,null,null,a,u,null,f,d,T,b0),i[yi]=s.current,pm(i),new Pm(s)},Kl.hydrateRoot=function(i,s,a){if(!o(i))throw Error(r(299));var u=!1,f="",d=D_,T=M_,w=O_,V=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),s=f0(i,1,!0,s,a??null,u,f,V,d,T,w,b0),s.context=d0(null),a=s.current,u=Cn(),u=ks(u),f=Hr(u),f.callback=null,Fr(a,f,u),a=u,s.current.lanes=a,Vs(s,a),Oi(s),i[yi]=s.current,pm(i),new fh(s)},Kl.version="19.2.3",Kl}var V0;function $R(){if(V0)return jm.exports;V0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=GR(),jm.exports}var KR=$R();var P0="popstate";function YR(t={}){function e(r,o){let{pathname:l,search:c,hash:m}=r.location;return dg("",{pathname:l,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:cu(o)}return XR(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ui(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QR(){return Math.random().toString(36).substring(2,10)}function k0(t,e){return{usr:t.state,key:t.key,idx:e}}function dg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||r||QR()}}function cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function XR(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,m="POP",g=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function E(){m="POP";let N=v(),B=N==null?null:N-p;p=N,g&&g({action:m,location:z.location,delta:B})}function b(N,B){m="PUSH";let $=dg(z.location,N,B);p=v()+1;let X=k0($,p),le=z.createHref($);try{c.pushState(X,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(le)}l&&g&&g({action:m,location:z.location,delta:1})}function R(N,B){m="REPLACE";let $=dg(z.location,N,B);p=v();let X=k0($,p),le=z.createHref($);c.replaceState(X,"",le),l&&g&&g({action:m,location:z.location,delta:0})}function I(N){return WR(N)}let z={get action(){return m},get location(){return t(o,c)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(P0,E),g=N,()=>{o.removeEventListener(P0,E),g=null}},createHref(N){return e(o,N)},createURL:I,encodeLocation(N){let B=I(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:b,replace:R,go(N){return c.go(N)}};return z}function WR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kE(t,e,n="/"){return ZR(t,e,n,!1)}function ZR(t,e,n,r){let o=typeof e=="string"?Mo(e):e,l=vr(o.pathname||"/",n);if(l==null)return null;let c=LE(t);JR(c);let m=null;for(let g=0;m==null&&g<c.length;++g){let p=cA(l);m=lA(c[g],p,r)}return m}function LE(t,e=[],n=[],r="",o=!1){let l=(c,m,g=o,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;ht(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let E=_r([r,v.relativePath]),b=n.concat(v);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),LE(c.children,e,b,E,g)),!(c.path==null&&!c.index)&&e.push({path:E,score:aA(E,c.index),routesMeta:b})};return t.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))l(c,m);else for(let g of jE(c.path))l(c,m,!0,g)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=jE(r.join("/")),m=[];return m.push(...c.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...c),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function JR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var eA=/^:[\w-]+$/,tA=3,nA=2,iA=1,rA=10,sA=-2,L0=t=>t==="*";function aA(t,e){let n=t.split("/"),r=n.length;return n.some(L0)&&(r+=sA),e&&(r+=nA),n.filter(o=>!L0(o)).reduce((o,l)=>o+(eA.test(l)?tA:l===""?iA:rA),r)}function oA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function lA(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=zh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=zh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:_r([l,E.pathname]),pathnameBase:mA(_r([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=_r([l,E.pathnameBase]))}return c}function zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uA(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:E},b)=>{if(v==="*"){let I=m[b]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=m[b];return E&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function uA(t,e=!1,n=!0){ui(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function cA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ui(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var UE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hA=t=>UE.test(t);function fA(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Mo(t):t,l;if(n)if(hA(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),ui(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=j0(n.substring(1),"/"):l=j0(n,e)}else l=e;return{pathname:l,search:gA(r),hash:pA(o)}}function j0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zE(t){let e=dA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function BE(t,e,n,r=!1){let o;typeof t=="string"?o=Mo(t):(o={...t},ht(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=n;else{let E=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}m=E>=0?e[E]:"/"}let g=fA(o,m),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var _r=t=>t.join("/").replace(/\/\/+/g,"/"),mA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,yA=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _A(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function vA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function FE(t,e){let n=t;if(typeof n!="string"||!UE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(HE)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),m=vr(c.pathname,e);c.origin===l.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var TA=["GET",...qE];new Set(TA);var Oo=L.createContext(null);Oo.displayName="DataRouter";var cf=L.createContext(null);cf.displayName="DataRouterState";var EA=L.createContext(!1),GE=L.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var SA=L.createContext(new Map);SA.displayName="Fetchers";var bA=L.createContext(null);bA.displayName="Await";var Kn=L.createContext(null);Kn.displayName="Navigation";var Eu=L.createContext(null);Eu.displayName="Location";var $i=L.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Xg=L.createContext(null);Xg.displayName="RouteError";var $E="REACT_ROUTER_ERROR",wA="REDIRECT",RA="ROUTE_ERROR_RESPONSE";function AA(t){if(t.startsWith(`${$E}:${wA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function CA(t){if(t.startsWith(`${$E}:${RA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new yA(e.status,e.statusText,e.data)}catch{}}function xA(t,{relative:e}={}){ht(Su(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Kn),{hash:o,pathname:l,search:c}=bu(t,{relative:e}),m=l;return n!=="/"&&(m=l==="/"?n:_r([n,l])),r.createHref({pathname:m,search:c,hash:o})}function Su(){return L.useContext(Eu)!=null}function Rr(){return ht(Su(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Eu).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(t){L.useContext(Kn).static||L.useLayoutEffect(t)}function Wg(){let{isDataRoute:t}=L.useContext($i);return t?FA():NA()}function NA(){ht(Su(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Oo),{basename:e,navigator:n}=L.useContext(Kn),{matches:r}=L.useContext($i),{pathname:o}=Rr(),l=JSON.stringify(zE(r)),c=L.useRef(!1);return YE(()=>{c.current=!0}),L.useCallback((g,p={})=>{if(ui(c.current,KE),!c.current)return;if(typeof g=="number"){n.go(g);return}let v=BE(g,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:_r([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,o,t])}var IA=L.createContext(null);function DA(t){let e=L.useContext($i).outlet;return L.useMemo(()=>e&&L.createElement(IA.Provider,{value:t},e),[e,t])}function bu(t,{relative:e}={}){let{matches:n}=L.useContext($i),{pathname:r}=Rr(),o=JSON.stringify(zE(n));return L.useMemo(()=>BE(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function MA(t,e){return QE(t,e)}function QE(t,e,n,r,o){ht(Su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(Kn),{matches:c}=L.useContext($i),m=c[c.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",E=m&&m.route;{let $=E&&E.path||"";WE(p,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Rr(),R;if(e){let $=typeof e=="string"?Mo(e):e;ht(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=b;let I=R.pathname||"/",z=I;if(v!=="/"){let $=v.replace(/^\//,"").split("/");z="/"+I.replace(/^\//,"").split("/").slice($.length).join("/")}let N=kE(t,{pathname:z});ui(E||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),ui(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=LA(N&&N.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:_r([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:_r([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,r,o);return e&&B?L.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function OA(){let t=HA(),e=_A(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,c)}var VA=L.createElement(OA,null),XE=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=CA(t.digest);n&&(t=n)}let e=t!==void 0?L.createElement($i.Provider,{value:this.props.routeContext},L.createElement(Xg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?L.createElement(PA,{error:t},e):e}};XE.contextType=EA;var Fm=new WeakMap;function PA({children:t,error:e}){let{basename:n}=L.useContext(Kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=AA(e.digest);if(r){let o=Fm.get(e);if(o)throw o;let l=FE(r.location,n);if(HE&&!Fm.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw Fm.set(e,c),c}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function kA({routeContext:t,match:e,children:n}){let r=L.useContext(Oo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement($i.Provider,{value:t},n)}function LA(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,g=-1;if(n)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=v),E.route.id){let{loaderData:b,errors:R}=n,I=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||I){m=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}let p=n&&r?(v,E)=>{r(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:vA(n.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,b)=>{let R,I=!1,z=null,N=null;n&&(R=c&&E.route.id?c[E.route.id]:void 0,z=E.route.errorElement||VA,m&&(g<0&&b===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,N=null):g===b&&(I=!0,N=E.route.hydrateFallbackElement||null)));let B=e.concat(l.slice(0,b+1)),$=()=>{let X;return R?X=z:I?X=N:E.route.Component?X=L.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=v,L.createElement(kA,{match:E,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:X})};return n&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?L.createElement(XE,{location:n.location,revalidation:n.revalidation,component:z,error:R,children:$(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:p}):$()},null)}function Zg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(t){let e=L.useContext(Oo);return ht(e,Zg(t)),e}function UA(t){let e=L.useContext(cf);return ht(e,Zg(t)),e}function zA(t){let e=L.useContext($i);return ht(e,Zg(t)),e}function Jg(t){let e=zA(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BA(){return Jg("useRouteId")}function HA(){let t=L.useContext(Xg),e=UA("useRouteError"),n=Jg("useRouteError");return t!==void 0?t:e.errors?.[n]}function FA(){let{router:t}=jA("useNavigate"),e=Jg("useNavigate"),n=L.useRef(!1);return YE(()=>{n.current=!0}),L.useCallback(async(o,l={})=>{ui(n.current,KE),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var U0={};function WE(t,e,n){!e&&!U0[t]&&(U0[t]=!0,ui(!1,n))}L.memo(qA);function qA({routes:t,future:e,state:n,onError:r}){return QE(t,void 0,n,r,e)}function GA(t){return DA(t.context)}function oa(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $A({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){ht(!Su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),g=L.useMemo(()=>({basename:m,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[m,o,l,c]);typeof n=="string"&&(n=Mo(n));let{pathname:p="/",search:v="",hash:E="",state:b=null,key:R="default"}=n,I=L.useMemo(()=>{let z=vr(p,m);return z==null?null:{location:{pathname:z,search:v,hash:E,state:b,key:R},navigationType:r}},[m,p,v,E,b,R,r]);return ui(I!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:L.createElement(Kn.Provider,{value:g},L.createElement(Eu.Provider,{children:e,value:I}))}function KA({children:t,location:e}){return MA(mg(t),e)}function mg(t,e=[]){let n=[];return L.Children.forEach(t,(r,o)=>{if(!L.isValidElement(r))return;let l=[...e,o];if(r.type===L.Fragment){n.push.apply(n,mg(r.props.children,l));return}ht(r.type===oa,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=mg(r.props.children,l)),n.push(c)}),n}var Ah="get",Ch="application/x-www-form-urlencoded";function hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function YA(t){return hf(t)&&t.tagName.toLowerCase()==="button"}function QA(t){return hf(t)&&t.tagName.toLowerCase()==="form"}function XA(t){return hf(t)&&t.tagName.toLowerCase()==="input"}function WA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZA(t,e){return t.button===0&&(!e||e==="_self")&&!WA(t)}var mh=null;function JA(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var eC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(t){return t!=null&&!eC.has(t)?(ui(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):t}function tC(t,e){let n,r,o,l,c;if(QA(t)){let m=t.getAttribute("action");r=m?vr(m,e):null,n=t.getAttribute("method")||Ah,o=qm(t.getAttribute("enctype"))||Ch,l=new FormData(t)}else if(YA(t)||XA(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(r=g?vr(g,e):null,n=t.getAttribute("formmethod")||m.getAttribute("method")||Ah,o=qm(t.getAttribute("formenctype"))||qm(m.getAttribute("enctype"))||Ch,l=new FormData(m,t),!JA()){let{name:p,type:v,value:E}=t;if(v==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,r=null,o=Ch,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ep(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&vr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function iC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sC(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await iC(l,n);return c.links?c.links():[]}return[]}));return uC(r.flat(1).filter(rC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function z0(t,e,n,r,o,l){let c=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>n[p].pathname!==g.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==g.params["*"];return l==="assets"?e.filter((g,p)=>c(g,p)||m(g,p)):l==="data"?e.filter((g,p)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(c(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aC(t,e,{includeHydrateFallback:n}={}){return oC(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function oC(t){return[...new Set(t)]}function lC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uC(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(lC(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function ZE(){let t=L.useContext(Oo);return ep(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cC(){let t=L.useContext(cf);return ep(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tp=L.createContext(void 0);tp.displayName="FrameworkContext";function JE(){let t=L.useContext(tp);return ep(t,"You must render this element inside a <HydratedRouter> element"),t}function hC(t,e){let n=L.useContext(tp),[r,o]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,b=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let z=B=>{B.forEach($=>{c($.isIntersecting)})},N=new IntersectionObserver(z,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),L.useEffect(()=>{if(r){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[r]);let R=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Yl(m,R),onBlur:Yl(g,I),onMouseEnter:Yl(p,R),onMouseLeave:Yl(v,I),onTouchStart:Yl(E,R)}]:[!1,b,{}]}function Yl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fC({page:t,...e}){let{router:n}=ZE(),r=L.useMemo(()=>kE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(mC,{page:t,matches:r,...e}):null}function dC(t){let{manifest:e,routeModules:n}=JE(),[r,o]=L.useState([]);return L.useEffect(()=>{let l=!1;return sC(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function mC({page:t,matches:e,...n}){let r=Rr(),{manifest:o,routeModules:l}=JE(),{basename:c}=ZE(),{loaderData:m,matches:g}=cC(),p=L.useMemo(()=>z0(t,e,g,o,r,"data"),[t,e,g,o,r]),v=L.useMemo(()=>z0(t,e,g,o,r,"assets"),[t,e,g,o,r]),E=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,z=!1;if(e.forEach(B=>{let $=o.routes[B.route.id];!$||!$.hasLoader||(!p.some(X=>X.route.id===B.route.id)&&B.route.id in m&&l[B.route.id]?.shouldRevalidate||$.hasClientLoader?z=!0:I.add(B.route.id))}),I.size===0)return[];let N=nC(t,c,"data");return z&&I.size>0&&N.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[N.pathname+N.search]},[c,m,r,o,p,e,t,l]),b=L.useMemo(()=>aC(v,o),[v,o]),R=dC(v);return L.createElement(L.Fragment,null,E.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),b.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),R.map(({key:I,link:z})=>L.createElement("link",{key:I,nonce:n.nonce,...z})))}function gC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pC&&(window.__reactRouterVersion="7.11.0")}catch{}function yC({basename:t,children:e,unstable_useTransitions:n,window:r}){let o=L.useRef();o.current==null&&(o.current=YR({window:r,v5Compat:!0}));let l=o.current,[c,m]=L.useState({action:l.action,location:l.location}),g=L.useCallback(p=>{n===!1?m(p):L.startTransition(()=>m(p))},[n]);return L.useLayoutEffect(()=>l.listen(g),[l,g]),L.createElement($A,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:m,target:g,to:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...R},I){let{basename:z,unstable_useTransitions:N}=L.useContext(Kn),B=typeof p=="string"&&e1.test(p),$=FE(p,z);p=$.to;let X=xA(p,{relative:o}),[le,oe,me]=hC(r,R),O=EC(p,{replace:c,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:b,unstable_useTransitions:N});function x(U){e&&e(U),U.defaultPrevented||O(U)}let M=L.createElement("a",{...R,...me,href:$.absoluteURL||X,onClick:$.isExternal||l?e:x,ref:gC(I,oe),target:g,"data-discover":!B&&n==="render"?"true":void 0});return le&&!B?L.createElement(L.Fragment,null,M,L.createElement(fC,{page:X})):M});Fn.displayName="Link";var _C=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:m,children:g,...p},v){let E=bu(c,{relative:p.relative}),b=Rr(),R=L.useContext(cf),{navigator:I,basename:z}=L.useContext(Kn),N=R!=null&&AC(E)&&m===!0,B=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,$=b.pathname,X=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||($=$.toLowerCase(),X=X?X.toLowerCase():null,B=B.toLowerCase()),X&&z&&(X=vr(X,z)||X);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let oe=$===B||!o&&$.startsWith(B)&&$.charAt(le)==="/",me=X!=null&&(X===B||!o&&X.startsWith(B)&&X.charAt(B.length)==="/"),O={isActive:oe,isPending:me,isTransitioning:N},x=oe?e:void 0,M;typeof r=="function"?M=r(O):M=[r,oe?"active":null,me?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(O):l;return L.createElement(Fn,{...p,"aria-current":x,className:M,ref:v,style:U,to:c,viewTransition:m},typeof g=="function"?g(O):g)});_C.displayName="NavLink";var vC=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=Ah,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b,...R},I)=>{let{unstable_useTransitions:z}=L.useContext(Kn),N=wC(),B=RC(m,{relative:p}),$=c.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&e1.test(m),le=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let me=oe.nativeEvent.submitter,O=me?.getAttribute("formmethod")||c,x=()=>N(me||oe.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:o,state:l,relative:p,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:b});z&&n!==!1?L.startTransition(()=>x()):x()};return L.createElement("form",{ref:I,method:$,action:B,onSubmit:r?g:le,...R,"data-discover":!X&&t==="render"?"true":void 0})});vC.displayName="Form";function TC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t1(t){let e=L.useContext(Oo);return ht(e,TC(t)),e}function EC(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Wg(),v=Rr(),E=bu(t,{relative:l});return L.useCallback(b=>{if(ZA(b,e)){b.preventDefault();let R=n!==void 0?n:cu(v)===cu(E),I=()=>p(t,{replace:R,state:r,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:m});g?L.startTransition(()=>I()):I()}},[v,p,E,n,r,e,t,o,l,c,m,g])}var SC=0,bC=()=>`__${String(++SC)}__`;function wC(){let{router:t}=t1("useSubmit"),{basename:e}=L.useContext(Kn),n=BA(),r=t.fetch,o=t.navigate;return L.useCallback(async(l,c={})=>{let{action:m,method:g,encType:p,formData:v,body:E}=tC(l,e);if(c.navigate===!1){let b=c.fetcherKey||bC();await r(b,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||g,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||g,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,o,e,n])}function RC(t,{relative:e}={}){let{basename:n}=L.useContext(Kn),r=L.useContext($i);ht(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...bu(t||".",{relative:e})},c=Rr();if(t==null){l.search=c.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(E=>E).forEach(E=>m.append("index",E));let v=m.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:_r([n,l.pathname])),cu(l)}function AC(t,{relative:e}={}){let n=L.useContext(GE);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=t1("useViewTransitionState"),o=bu(t,{relative:e});if(!n.isTransitioning)return!1;let l=vr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=vr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return zh(o.pathname,c)!=null||zh(o.pathname,l)!=null}const CC=()=>{};var B0={};const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],m=t[n++],g=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,m=c?t[o+1]:0,g=o+2<t.length,p=g?t[o+2]:0,v=l>>2,E=(l&3)<<4|m>>4;let b=(m&15)<<2|p>>6,R=p&63;g||(R=64,c||(b=64)),r.push(n[v],n[E],n[b],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],m=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||m==null||p==null||E==null)throw new NC;const b=l<<2|m>>4;if(r.push(b),p!==64){const R=m<<4&240|p>>2;if(r.push(R),E!==64){const I=p<<6&192|E;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IC=function(t){const e=n1(t);return i1.encodeByteArray(e,!0)},Bh=function(t){return IC(t).replace(/\./g,"")},r1=function(t){try{return i1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MC=()=>DC().__FIREBASE_DEFAULTS__,OC=()=>{if(typeof process>"u"||typeof B0>"u")return;const t=B0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r1(t[1]);return e&&JSON.parse(e)},ff=()=>{try{return CC()||MC()||OC()||VC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s1=t=>ff()?.emulatorHosts?.[t],a1=t=>{const e=s1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>ff()?.config,l1=t=>ff()?.[`_${t}`];class PC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function _a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function np(t){return(await fetch(t,{credentials:"include"})).ok}function u1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bh(JSON.stringify(n)),Bh(JSON.stringify(c)),""].join(".")}const iu={};function kC(){const t={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?t.emulator.push(e):t.prod.push(e);return t}function LC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H0=!1;function ip(t,e){if(typeof window>"u"||typeof document>"u"||!_a(window.location.host)||iu[t]===e||iu[t]||H0)return;iu[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",l=kC().prod.length>0;function c(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,R){b.setAttribute("width","24"),b.setAttribute("id",R),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{H0=!0,c()},b}function v(b,R){b.setAttribute("id",R),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=LC(r),R=n("text"),I=document.getElementById(R)||document.createElement("span"),z=n("learnmore"),N=document.getElementById(z)||document.createElement("a"),B=n("preprendIcon"),$=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),v(N,z);const le=p();g($,B),X.append($,I,N,le),document.body.appendChild(X)}l?(I.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function UC(){const t=ff()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FC(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qC(){return!UC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GC(){try{return typeof indexedDB=="object"}catch{return!1}}function $C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const KC="FirebaseError";class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KC,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?YC(l,r):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ki(o,m,r)}}function YC(t,e){return t.replace(QC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QC=/\{\$([^}]+)}/g;function XC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(F0(l)&&F0(c)){if(!fa(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function F0(t){return t!==null&&typeof t=="object"}function Ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WC(t,e){const n=new ZC(t,e);return n.subscribe.bind(n)}class ZC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gm(){}function Ot(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class e2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&c.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(t){return t===la?void 0:t}function n2(t){return t.instantiationMode==="EAGER"}class i2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const r2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},s2=ke.INFO,a2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},o2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=a2[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const l2=(t,e)=>e.some(n=>t instanceof n);let q0,G0;function u2(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c1=new WeakMap,gg=new WeakMap,h1=new WeakMap,$m=new WeakMap,sp=new WeakMap;function h2(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ds(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&c1.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function f2(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});gg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function d2(t){pg=t(pg)}function m2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Km(this),e,...n);return h1.set(r,e.sort?e.sort():[e]),ds(r)}:c2().includes(t)?function(...e){return t.apply(Km(this),e),ds(c1.get(this))}:function(...e){return ds(t.apply(Km(this),e))}}function g2(t){return typeof t=="function"?m2(t):(t instanceof IDBTransaction&&f2(t),l2(t,u2())?new Proxy(t,pg):t)}function ds(t){if(t instanceof IDBRequest)return h2(t);if($m.has(t))return $m.get(t);const e=g2(t);return e!==t&&($m.set(t,e),sp.set(e,t)),e}const Km=t=>sp.get(t);function p2(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),m=ds(c);return r&&c.addEventListener("upgradeneeded",g=>{r(ds(c.result),g.oldVersion,g.newVersion,ds(c.transaction),g)}),n&&c.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const y2=["get","getKey","getAll","getAllKeys","count"],_2=["put","add","delete","clear"],Ym=new Map;function $0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ym.get(e))return Ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=_2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||y2.includes(n)))return;const l=async function(c,...m){const g=this.transaction(c,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Ym.set(e,l),l}d2(t=>({...t,get:(e,n,r)=>$0(e,n)||t.get(e,n,r),has:(e,n)=>!!$0(e,n)||t.has(e,n)}));class v2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(T2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function T2(t){return t.getComponent()?.type==="VERSION"}const yg="@firebase/app",K0="0.14.6";const Tr=new rp("@firebase/app"),E2="@firebase/app-compat",S2="@firebase/analytics-compat",b2="@firebase/analytics",w2="@firebase/app-check-compat",R2="@firebase/app-check",A2="@firebase/auth",C2="@firebase/auth-compat",x2="@firebase/database",N2="@firebase/data-connect",I2="@firebase/database-compat",D2="@firebase/functions",M2="@firebase/functions-compat",O2="@firebase/installations",V2="@firebase/installations-compat",P2="@firebase/messaging",k2="@firebase/messaging-compat",L2="@firebase/performance",j2="@firebase/performance-compat",U2="@firebase/remote-config",z2="@firebase/remote-config-compat",B2="@firebase/storage",H2="@firebase/storage-compat",F2="@firebase/firestore",q2="@firebase/ai",G2="@firebase/firestore-compat",$2="firebase",K2="12.6.0";const _g="[DEFAULT]",Y2={[yg]:"fire-core",[E2]:"fire-core-compat",[b2]:"fire-analytics",[S2]:"fire-analytics-compat",[R2]:"fire-app-check",[w2]:"fire-app-check-compat",[A2]:"fire-auth",[C2]:"fire-auth-compat",[x2]:"fire-rtdb",[N2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[D2]:"fire-fn",[M2]:"fire-fn-compat",[O2]:"fire-iid",[V2]:"fire-iid-compat",[P2]:"fire-fcm",[k2]:"fire-fcm-compat",[L2]:"fire-perf",[j2]:"fire-perf-compat",[U2]:"fire-rc",[z2]:"fire-rc-compat",[B2]:"fire-gcs",[H2]:"fire-gcs-compat",[F2]:"fire-fst",[G2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};const Hh=new Map,Q2=new Map,vg=new Map;function Y0(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function da(t){const e=t.name;if(vg.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of Hh.values())Y0(n,t);for(const n of Q2.values())Y0(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}const X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new wu("app","Firebase",X2);class W2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const va=K2;function f1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_g,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=o1()),!n)throw ms.create("no-options");const l=Hh.get(o);if(l){if(fa(n,l.options)&&fa(r,l.config))return l;throw ms.create("duplicate-app",{appName:o})}const c=new i2(o);for(const g of vg.values())c.addComponent(g);const m=new W2(n,r,c);return Hh.set(o,m),m}function ap(t=_g){const e=Hh.get(t);if(!e&&t===_g&&o1())return f1();if(!e)throw ms.create("no-app",{appName:t});return e}function ki(t,e,n){let r=Y2[t]??t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(c.join(" "));return}da(new _s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Z2="firebase-heartbeat-database",J2=1,hu="firebase-heartbeat-store";let Qm=null;function d1(){return Qm||(Qm=p2(Z2,J2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),Qm}async function ex(t){try{const n=(await d1()).transaction(hu),r=await n.objectStore(hu).get(m1(t));return await n.done,r}catch(e){if(e instanceof Ki)Tr.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function Q0(t,e){try{const r=(await d1()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,m1(t)),await r.done}catch(n){if(n instanceof Ki)Tr.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}}function m1(t){return`${t.name}!${t.options.appId}`}const tx=1024,nx=30;class ix{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=X0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>nx){const o=ax(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X0(),{heartbeatsToSend:n,unsentEntries:r}=rx(this._heartbeatsCache.heartbeats),o=Bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Tr.warn(e),""}}}function X0(){return new Date().toISOString().substring(0,10)}function rx(t,e=tx){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),W0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GC()?$C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ex(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W0(t){return Bh(JSON.stringify({version:2,heartbeats:t})).length}function ax(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ox(t){da(new _s("platform-logger",e=>new v2(e),"PRIVATE")),da(new _s("heartbeat",e=>new ix(e),"PRIVATE")),ki(yg,K0,t),ki(yg,K0,"esm2020"),ki("fire-js","")}ox("");function g1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lx=g1,p1=new wu("auth","Firebase",g1());const Fh=new rp("@firebase/auth");function ux(t,...e){Fh.logLevel<=ke.WARN&&Fh.warn(`Auth (${va}): ${t}`,...e)}function xh(t,...e){Fh.logLevel<=ke.ERROR&&Fh.error(`Auth (${va}): ${t}`,...e)}function ci(t,...e){throw op(t,...e)}function Li(t,...e){return op(t,...e)}function y1(t,e,n){const r={...lx(),[e]:n};return new wu("auth","Firebase",r).create(e,{appName:t.name})}function gs(t){return y1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p1.create(t,...e)}function Ee(t,e,...n){if(!t)throw op(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xh(e),new Error(e)}function Er(t,e){t||pr(e)}function Tg(){return typeof self<"u"&&self.location?.href||""}function cx(){return Z0()==="http:"||Z0()==="https:"}function Z0(){return typeof self<"u"&&self.location?.protocol||null}function hx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cx()||BC()||"connection"in navigator)?navigator.onLine:!0}function fx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=jC()||HC()}get(){return hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class _1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const mx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gx=new Au(3e4,6e4);function Ta(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function As(t,e,n,r,o={}){return v1(t,o,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const m=Ru({key:t.config.apiKey,...c}).slice(1),g=await t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:g,...l};return zC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&_a(t.emulatorConfig.host)&&(p.credentials="include"),_1.fetch()(await T1(t,t.config.apiHost,n,m),p)})}async function v1(t,e,n){t._canInitEmulator=!1;const r={...dx,...e};try{const o=new yx(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw gh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(t,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw gh(t,"email-already-in-use",c);if(g==="USER_DISABLED")throw gh(t,"user-disabled",c);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw y1(t,v,p);ci(t,v)}}catch(o){if(o instanceof Ki)throw o;ci(t,"network-request-failed",{message:String(o)})}}async function mf(t,e,n,r,o={}){const l=await As(t,e,n,r,o);return"mfaPendingCredential"in l&&ci(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function T1(t,e,n,r){const o=`${e}${n}?${r}`,l=t,c=l.config.emulator?lp(t.config,o):`${t.config.apiScheme}://${o}`;return mx.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function px(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),gx.get())})}}function gh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Li(t,e,r);return o.customData._tokenResponse=n,o}function J0(t){return t!==void 0&&t.enterprise!==void 0}class _x{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return px(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vx(t,e){return As(t,"GET","/v2/recaptchaConfig",Ta(t,e))}async function Tx(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function qh(t,e){return As(t,"POST","/v1/accounts:lookup",e)}function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ex(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),o=up(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:r,authTime:ru(Xm(o.auth_time)),issuedAtTime:ru(Xm(o.iat)),expirationTime:ru(Xm(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Xm(t){return Number(t)*1e3}function up(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r1(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function eT(t){const e=up(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&Sx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Sx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class bx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(t){const e=t.auth,n=await t.getIdToken(),r=await fu(t,qh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=o.providerUserInfo?.length?E1(o.providerUserInfo):[],c=Rx(t.providerData,l),m=t.isAnonymous,g=!(t.email&&o.passwordHash)&&!c?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function wx(t){const e=Ot(t);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rx(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function E1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Ax(t,e){const n=await v1(t,{},async()=>{const r=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=await T1(t,o,"/v1/token",`key=${l}`),m=await t._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return t.emulatorConfig&&_a(t.emulatorConfig.host)&&(g.credentials="include"),_1.fetch()(c,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Cx(t,e){return As(t,"POST","/v2/accounts:revokeToken",Ta(t,e))}class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=eT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:l}=await Ax(e,n);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:l}=n,c=new To;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return pr("not implemented")}}function ss(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new bx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ex(this,e)}reload(){return wx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await fu(this,Tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:E,emailVerified:b,isAnonymous:R,providerData:I,stsTokenManager:z}=n;Ee(E&&z,e,"internal-error");const N=To.fromJSON(this.name,z);Ee(typeof E=="string",e,"internal-error"),ss(r,e.name),ss(o,e.name),Ee(typeof b=="boolean",e,"internal-error"),Ee(typeof R=="boolean",e,"internal-error"),ss(l,e.name),ss(c,e.name),ss(m,e.name),ss(g,e.name),ss(p,e.name),ss(v,e.name);const B=new ai({uid:E,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:N,createdAt:p,lastLoginAt:v});return I&&Array.isArray(I)&&(B.providerData=I.map($=>({...$}))),g&&(B._redirectEventId=g),B}static async _fromIdTokenResponse(e,n,r=!1){const o=new To;o.updateFromServerResponse(n);const l=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Gh(l),l}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?E1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new To;m.updateFromIdToken(r);const g=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const tT=new Map;function yr(t){Er(t instanceof Function,"Expected a class definition");let e=tT.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tT.set(t,e),e)}class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S1.type="NONE";const nT=S1;function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Nh("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eo(yr(nT),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||yr(nT);const c=Nh(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const b=await qh(e,{idToken:v}).catch(()=>{});if(!b)break;E=await ai._fromGetAccountInfoResponse(e,b,v)}else E=ai._fromJSON(e,v);p!==l&&(m=E),l=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Eo(l,e,r):(l=g[0],m&&await l._set(c,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Eo(l,e,r))}}function iT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x1(e))return"Blackberry";if(N1(e))return"Webos";if(w1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(C1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function b1(t=an()){return/firefox\//i.test(t)}function w1(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(t=an()){return/crios\//i.test(t)}function A1(t=an()){return/iemobile/i.test(t)}function C1(t=an()){return/android/i.test(t)}function x1(t=an()){return/blackberry/i.test(t)}function N1(t=an()){return/webos/i.test(t)}function cp(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xx(t=an()){return cp(t)&&!!window.navigator?.standalone}function Nx(){return FC()&&document.documentMode===10}function I1(t=an()){return cp(t)||C1(t)||N1(t)||x1(t)||/windows phone/i.test(t)||A1(t)}function D1(t,e=[]){let n;switch(t){case"Browser":n=iT(an());break;case"Worker":n=`${iT(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}class Ix{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,m)=>{try{const g=e(l);c(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Dx(t,e={}){return As(t,"GET","/v2/passwordPolicy",Ta(t,e))}const Mx=6;class Ox{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Mx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Vx{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(gs(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dx(this),n=new Ox(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{c=!0,g()}}else{const g=e.addObserver(n);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ux(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(t){return Ot(t)}class rT{constructor(e){this.auth=e,this.observer=null,this.addObserver=WC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Px(t){gf=t}function M1(t){return gf.loadJS(t)}function kx(){return gf.recaptchaEnterpriseScript}function Lx(){return gf.gapiScript}function jx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Ux{constructor(){this.enterprise=new zx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class zx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Bx="recaptcha-enterprise",O1="NO_RECAPTCHA";class Hx{constructor(e){this.type=Bx,this.auth=Vo(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{vx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new _x(g);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(g=>{m(g)})})}function o(l,c,m){const g=window.grecaptcha;J0(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(O1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ux().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(m=>{if(!n&&J0(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kx();g.length!==0&&(g+=m),M1(g).then(()=>{o(m,l,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function sT(t,e,n,r=!1,o=!1){const l=new Hx(t);let c;if(o)c=O1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function aT(t,e,n,r,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sT(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}function Fx(t,e){const n=df(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(fa(l,e??{}))return o;ci(o,"already-initialized")}return n.initialize({options:e})}function qx(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Gx(t,e,n){const r=Vo(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=V1(e),{host:c,port:m}=$x(e),g=m===null?"":`:${m}`,p={url:`${l}//${c}${g}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(fa(p,r.config.emulator)&&fa(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,_a(c)?(np(`${l}//${c}${g}`),ip("Auth",!0)):Kx()}function V1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $x(t){const e=V1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:oT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:oT(c)}}}function oT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function Yx(t,e){return As(t,"POST","/v1/accounts:signUp",e)}async function Qx(t,e){return mf(t,"POST","/v1/accounts:signInWithPassword",Ta(t,e))}async function Xx(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}async function Wx(t,e){return mf(t,"POST","/v1/accounts:signInWithEmailLink",Ta(t,e))}class du extends hp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aT(e,n,"signInWithPassword",Qx);case"emailLink":return Xx(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return aT(e,r,"signUpPassword",Yx);case"emailLink":return Wx(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function So(t,e){return mf(t,"POST","/v1/accounts:signInWithIdp",Ta(t,e))}const Zx="http://localhost";class ma extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=n;if(!r||!o)return null;const c=new ma(r,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){const e={requestUri:Zx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}function Jx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(t){const e=Wl(Zl(t)).link,n=e?Wl(Zl(e)).deep_link_id:null,r=Wl(Zl(t)).deep_link_id;return(r?Wl(Zl(r)).link:null)||r||n||e||t}class fp{constructor(e){const n=Wl(Zl(e)),r=n.apiKey??null,o=n.oobCode??null,l=Jx(n.mode??null);Ee(r&&o&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eN(e);try{return new fp(n)}catch{return null}}}class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fp.parseLink(n);return Ee(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cu extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends Cu{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class os extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return os.credential(n,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class ls extends Cu{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class us extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const l=await ai._fromIdTokenResponse(e,r,o),c=lT(r);return new Ro({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=lT(r);return new Ro({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function lT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class $h extends Ki{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new $h(e,n,r,o)}}function k1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,l,e,r):l})}async function tN(t,e,n=!1){const r=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}async function nN(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(gs(r));const o="reauthenticate";try{const l=await fu(t,k1(r,o,e,t),n);Ee(l.idToken,r,"internal-error");const c=up(l.idToken);Ee(c,r,"internal-error");const{sub:m}=c;return Ee(t.uid===m,r,"user-mismatch"),Ro._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&ci(r,"user-mismatch"),l}}async function L1(t,e,n=!1){if(qn(t.app))return Promise.reject(gs(t));const r="signIn",o=await k1(t,r,e),l=await Ro._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(l.user),l}async function iN(t,e){return L1(Vo(t),e)}async function rN(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sN(t,e,n){return qn(t.app)?Promise.reject(gs(t)):iN(Ot(t),Po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rN(t),r})}function aN(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function oN(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function lN(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function uN(t){return Ot(t).signOut()}const Kh="__sak";class j1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cN=1e3,hN=10;class U1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);Nx()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U1.type="LOCAL";const fN=U1;class z1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}z1.type="SESSION";const B1=z1;function dN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(c).map(async p=>p(n.origin,l)),g=await dN(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function dp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class mN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,g)=>{const p=dp("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ji(){return window}function gN(t){ji().location.href=t}function H1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function pN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){return navigator?.serviceWorker?.controller||null}function _N(){return H1()?self:null}const F1="firebaseLocalStorageDb",vN=1,Yh="firebaseLocalStorage",q1="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function TN(){const t=indexedDB.deleteDatabase(F1);return new xu(t).toPromise()}function Sg(){const t=indexedDB.open(F1,vN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yh,{keyPath:q1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yh)?e(r):(r.close(),await TN(),e(await Sg()))})})}async function uT(t,e,n){const r=yf(t,!0).put({[q1]:e,value:n});return new xu(r).toPromise()}async function EN(t,e){const n=yf(t,!1).get(e),r=await new xu(n).toPromise();return r===void 0?null:r.value}function cT(t,e){const n=yf(t,!0).delete(e);return new xu(n).toPromise()}const SN=800,bN=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(_N()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await uT(e,Kh,"1"),await cT(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>cT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yf(o,!1).getAll();return new xu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const wN=G1;new Au(3e4,6e4);function RN(t,e){return e?yr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class mp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AN(t){return L1(t.auth,new mp(t),t.bypassAuthState)}function CN(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),nN(n,new mp(t),t.bypassAuthState)}async function xN(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),tN(n,new mp(t),t.bypassAuthState)}class $1{constructor(e,n,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:ci(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NN=new Au(2e3,1e4);class vo extends $1{constructor(e,n,r,o,l){super(e,n,o,l),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NN.get())};e()}}vo.currentPopupAction=null;const IN="pendingRedirect",Ih=new Map;class DN extends $1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const r=await MN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MN(t,e){const n=PN(e),r=VN(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function ON(t,e){Ih.set(t._key(),e)}function VN(t){return yr(t._redirectPersistence)}function PN(t){return Nh(IN,t.config.apiKey,t.name)}async function kN(t,e,n=!1){if(qn(t.app))return Promise.reject(gs(t));const r=Vo(t),o=RN(r,e),c=await new DN(r,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const LN=600*1e3;class jN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!K1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LN&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}}function hT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function K1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K1(t);default:return!1}}async function zN(t,e={}){return As(t,"GET","/v1/projects",e)}const BN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HN=/^https?/;async function FN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zN(t);for(const n of e)try{if(qN(n))return}catch{}ci(t,"unauthorized-domain")}function qN(t){const e=Tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!HN.test(n))return!1;if(BN.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const GN=new Au(3e4,6e4);function fT(){const t=ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $N(t){return new Promise((e,n)=>{function r(){fT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fT(),n(Li(t,"network-request-failed"))},timeout:GN.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)r();else{const o=jx("iframefcb");return ji()[o]=()=>{gapi.load?r():n(Li(t,"network-request-failed"))},M1(`${Lx()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function KN(t){return Dh=Dh||$N(t),Dh}const YN=new Au(5e3,15e3),QN="__/auth/iframe",XN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?lp(e,XN):`https://${t.config.authDomain}/${QN}`,r={apiKey:e.apiKey,appName:t.name,v:va},o=ZN.get(t.config.apiHost);o&&(r.eid=o);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ru(r).slice(1)}`}async function eI(t){const e=await KN(t),n=ji().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:JN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const c=Li(t,"network-request-failed"),m=ji().setTimeout(()=>{l(c)},YN.get());function g(){ji().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{l(c)})}))}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nI=500,iI=600,rI="_blank",sI="http://localhost";class dT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aI(t,e,n,r=nI,o=iI){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...tI,width:r.toString(),height:o.toString(),top:l,left:c},p=an().toLowerCase();n&&(m=R1(p)?rI:n),b1(p)&&(e=e||sI,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[R,I])=>`${b}${R}=${I},`,"");if(xx(p)&&m!=="_self")return oI(e||"",m),new dT(null);const E=window.open(e||"",m,v);Ee(E,t,"popup-blocked");try{E.focus()}catch{}return new dT(E)}function oI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lI="__/auth/handler",uI="emulator/auth/handler",cI=encodeURIComponent("fac");async function mT(t,e,n,r,o,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:o};if(e instanceof P1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",XC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof Cu){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await t._getAppCheckToken(),p=g?`#${cI}=${encodeURIComponent(g)}`:"";return`${hI(t)}?${Ru(m).slice(1)}${p}`}function hI({config:t}){return t.emulator?lp(t,uI):`https://${t.authDomain}/${lI}`}const Wm="webStorageSupport";class fI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=kN,this._overrideRedirectResult=ON}async _openPopup(e,n,r,o){Er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await mT(e,n,r,Tg(),o);return aI(e,l,dp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const l=await mT(e,n,r,Tg(),o);return gN(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Er(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eI(e),r=new jN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},o=>{const l=o?.[0]?.[Wm];l!==void 0&&n(!!l),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I1()||w1()||cp()}}const dI=fI;var gT="@firebase/auth",pT="1.12.0";class mI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pI(t){da(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Ee(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(t)},p=new Vx(r,o,l,g);return qx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),da(new _s("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(r=>new mI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(gT,pT,gI(t)),ki(gT,pT,"esm2020")}const yI=300,_I=l1("authIdTokenMaxAge")||yI;let yT=null;const vI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_I)return;const o=n?.token;yT!==o&&(yT=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TI(t=ap()){const e=df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Fx(t,{popupRedirectResolver:dI,persistence:[wN,fN,B1]}),r=l1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=vI(l.toString());oN(n,c,()=>c(n.currentUser)),aN(n,m=>c(m))}}const o=s1("auth");return o&&Gx(n,`http://${o}`),n}function EI(){return document.getElementsByTagName("head")?.[0]??document}Px({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const l=Li("internal-error");l.customData=o,n(l)},r.type="text/javascript",r.charset="UTF-8",EI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pI("Browser");var SI="firebase",bI="12.7.0";ki(SI,bI,"app");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ps,Y1;(function(){var t;function e(O,x){function M(){}M.prototype=x.prototype,O.F=x.prototype,O.prototype=new M,O.prototype.constructor=O,O.D=function(U,P,D){for(var C=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)C[Ke-2]=arguments[Ke];return x.prototype[P].apply(U,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,M){M||(M=0);const U=Array(16);if(typeof x=="string")for(var P=0;P<16;++P)U[P]=x.charCodeAt(M++)|x.charCodeAt(M++)<<8|x.charCodeAt(M++)<<16|x.charCodeAt(M++)<<24;else for(P=0;P<16;++P)U[P]=x[M++]|x[M++]<<8|x[M++]<<16|x[M++]<<24;x=O.g[0],M=O.g[1],P=O.g[2];let D=O.g[3],C;C=x+(D^M&(P^D))+U[0]+3614090360&4294967295,x=M+(C<<7&4294967295|C>>>25),C=D+(P^x&(M^P))+U[1]+3905402710&4294967295,D=x+(C<<12&4294967295|C>>>20),C=P+(M^D&(x^M))+U[2]+606105819&4294967295,P=D+(C<<17&4294967295|C>>>15),C=M+(x^P&(D^x))+U[3]+3250441966&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(D^M&(P^D))+U[4]+4118548399&4294967295,x=M+(C<<7&4294967295|C>>>25),C=D+(P^x&(M^P))+U[5]+1200080426&4294967295,D=x+(C<<12&4294967295|C>>>20),C=P+(M^D&(x^M))+U[6]+2821735955&4294967295,P=D+(C<<17&4294967295|C>>>15),C=M+(x^P&(D^x))+U[7]+4249261313&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(D^M&(P^D))+U[8]+1770035416&4294967295,x=M+(C<<7&4294967295|C>>>25),C=D+(P^x&(M^P))+U[9]+2336552879&4294967295,D=x+(C<<12&4294967295|C>>>20),C=P+(M^D&(x^M))+U[10]+4294925233&4294967295,P=D+(C<<17&4294967295|C>>>15),C=M+(x^P&(D^x))+U[11]+2304563134&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(D^M&(P^D))+U[12]+1804603682&4294967295,x=M+(C<<7&4294967295|C>>>25),C=D+(P^x&(M^P))+U[13]+4254626195&4294967295,D=x+(C<<12&4294967295|C>>>20),C=P+(M^D&(x^M))+U[14]+2792965006&4294967295,P=D+(C<<17&4294967295|C>>>15),C=M+(x^P&(D^x))+U[15]+1236535329&4294967295,M=P+(C<<22&4294967295|C>>>10),C=x+(P^D&(M^P))+U[1]+4129170786&4294967295,x=M+(C<<5&4294967295|C>>>27),C=D+(M^P&(x^M))+U[6]+3225465664&4294967295,D=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(D^x))+U[11]+643717713&4294967295,P=D+(C<<14&4294967295|C>>>18),C=M+(D^x&(P^D))+U[0]+3921069994&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^D&(M^P))+U[5]+3593408605&4294967295,x=M+(C<<5&4294967295|C>>>27),C=D+(M^P&(x^M))+U[10]+38016083&4294967295,D=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(D^x))+U[15]+3634488961&4294967295,P=D+(C<<14&4294967295|C>>>18),C=M+(D^x&(P^D))+U[4]+3889429448&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^D&(M^P))+U[9]+568446438&4294967295,x=M+(C<<5&4294967295|C>>>27),C=D+(M^P&(x^M))+U[14]+3275163606&4294967295,D=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(D^x))+U[3]+4107603335&4294967295,P=D+(C<<14&4294967295|C>>>18),C=M+(D^x&(P^D))+U[8]+1163531501&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(P^D&(M^P))+U[13]+2850285829&4294967295,x=M+(C<<5&4294967295|C>>>27),C=D+(M^P&(x^M))+U[2]+4243563512&4294967295,D=x+(C<<9&4294967295|C>>>23),C=P+(x^M&(D^x))+U[7]+1735328473&4294967295,P=D+(C<<14&4294967295|C>>>18),C=M+(D^x&(P^D))+U[12]+2368359562&4294967295,M=P+(C<<20&4294967295|C>>>12),C=x+(M^P^D)+U[5]+4294588738&4294967295,x=M+(C<<4&4294967295|C>>>28),C=D+(x^M^P)+U[8]+2272392833&4294967295,D=x+(C<<11&4294967295|C>>>21),C=P+(D^x^M)+U[11]+1839030562&4294967295,P=D+(C<<16&4294967295|C>>>16),C=M+(P^D^x)+U[14]+4259657740&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^D)+U[1]+2763975236&4294967295,x=M+(C<<4&4294967295|C>>>28),C=D+(x^M^P)+U[4]+1272893353&4294967295,D=x+(C<<11&4294967295|C>>>21),C=P+(D^x^M)+U[7]+4139469664&4294967295,P=D+(C<<16&4294967295|C>>>16),C=M+(P^D^x)+U[10]+3200236656&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^D)+U[13]+681279174&4294967295,x=M+(C<<4&4294967295|C>>>28),C=D+(x^M^P)+U[0]+3936430074&4294967295,D=x+(C<<11&4294967295|C>>>21),C=P+(D^x^M)+U[3]+3572445317&4294967295,P=D+(C<<16&4294967295|C>>>16),C=M+(P^D^x)+U[6]+76029189&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(M^P^D)+U[9]+3654602809&4294967295,x=M+(C<<4&4294967295|C>>>28),C=D+(x^M^P)+U[12]+3873151461&4294967295,D=x+(C<<11&4294967295|C>>>21),C=P+(D^x^M)+U[15]+530742520&4294967295,P=D+(C<<16&4294967295|C>>>16),C=M+(P^D^x)+U[2]+3299628645&4294967295,M=P+(C<<23&4294967295|C>>>9),C=x+(P^(M|~D))+U[0]+4096336452&4294967295,x=M+(C<<6&4294967295|C>>>26),C=D+(M^(x|~P))+U[7]+1126891415&4294967295,D=x+(C<<10&4294967295|C>>>22),C=P+(x^(D|~M))+U[14]+2878612391&4294967295,P=D+(C<<15&4294967295|C>>>17),C=M+(D^(P|~x))+U[5]+4237533241&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~D))+U[12]+1700485571&4294967295,x=M+(C<<6&4294967295|C>>>26),C=D+(M^(x|~P))+U[3]+2399980690&4294967295,D=x+(C<<10&4294967295|C>>>22),C=P+(x^(D|~M))+U[10]+4293915773&4294967295,P=D+(C<<15&4294967295|C>>>17),C=M+(D^(P|~x))+U[1]+2240044497&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~D))+U[8]+1873313359&4294967295,x=M+(C<<6&4294967295|C>>>26),C=D+(M^(x|~P))+U[15]+4264355552&4294967295,D=x+(C<<10&4294967295|C>>>22),C=P+(x^(D|~M))+U[6]+2734768916&4294967295,P=D+(C<<15&4294967295|C>>>17),C=M+(D^(P|~x))+U[13]+1309151649&4294967295,M=P+(C<<21&4294967295|C>>>11),C=x+(P^(M|~D))+U[4]+4149444226&4294967295,x=M+(C<<6&4294967295|C>>>26),C=D+(M^(x|~P))+U[11]+3174756917&4294967295,D=x+(C<<10&4294967295|C>>>22),C=P+(x^(D|~M))+U[2]+718787259&4294967295,P=D+(C<<15&4294967295|C>>>17),C=M+(D^(P|~x))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.v=function(O,x){x===void 0&&(x=O.length);const M=x-this.blockSize,U=this.C;let P=this.h,D=0;for(;D<x;){if(P==0)for(;D<=M;)o(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<x;)if(U[P++]=O.charCodeAt(D++),P==this.blockSize){o(this,U),P=0;break}}else for(;D<x;)if(U[P++]=O[D++],P==this.blockSize){o(this,U),P=0;break}}this.h=P,this.o+=x},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;x=this.o*8;for(var M=O.length-8;M<O.length;++M)O[M]=x&255,x/=256;for(this.v(O),O=Array(16),x=0,M=0;M<4;++M)for(let U=0;U<32;U+=8)O[x++]=this.g[M]>>>U&255;return O};function l(O,x){var M=m;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=x(O)}function c(O,x){this.h=x;const M=[];let U=!0;for(let P=O.length-1;P>=0;P--){const D=O[P]|0;U&&D==x||(M[P]=D,U=!1)}this.g=M}var m={};function g(O){return-128<=O&&O<128?l(O,function(x){return new c([x|0],x<0?-1:0)}):new c([O|0],O<0?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return E;if(O<0)return N(p(-O));const x=[];let M=1;for(let U=0;O>=M;U++)x[U]=O/M|0,M*=4294967296;return new c(x,0)}function v(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return N(v(O.substring(1),x));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(x,8));let U=E;for(let D=0;D<O.length;D+=8){var P=Math.min(8,O.length-D);const C=parseInt(O.substring(D,D+P),x);P<8?(P=p(Math.pow(x,P)),U=U.j(P).add(p(C))):(U=U.j(M),U=U.add(p(C)))}return U}var E=g(0),b=g(1),R=g(16777216);t=c.prototype,t.m=function(){if(z(this))return-N(this).m();let O=0,x=1;for(let M=0;M<this.g.length;M++){const U=this.i(M);O+=(U>=0?U:4294967296+U)*x,x*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(z(this))return"-"+N(this).toString(O);const x=p(Math.pow(O,6));var M=this;let U="";for(;;){const P=le(M,x).g;M=B(M,P.j(x));let D=((M.g.length>0?M.g[0]:M.h)>>>0).toString(O);if(M=P,I(M))return D+U;for(;D.length<6;)D="0"+D;U=D+U}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(let x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function z(O){return O.h==-1}t.l=function(O){return O=B(this,O),z(O)?-1:I(O)?0:1};function N(O){const x=O.g.length,M=[];for(let U=0;U<x;U++)M[U]=~O.g[U];return new c(M,~O.h).add(b)}t.abs=function(){return z(this)?N(this):this},t.add=function(O){const x=Math.max(this.g.length,O.g.length),M=[];let U=0;for(let P=0;P<=x;P++){let D=U+(this.i(P)&65535)+(O.i(P)&65535),C=(D>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);U=C>>>16,D&=65535,C&=65535,M[P]=C<<16|D}return new c(M,M[M.length-1]&-2147483648?-1:0)};function B(O,x){return O.add(N(x))}t.j=function(O){if(I(this)||I(O))return E;if(z(this))return z(O)?N(this).j(N(O)):N(N(this).j(O));if(z(O))return N(this.j(N(O)));if(this.l(R)<0&&O.l(R)<0)return p(this.m()*O.m());const x=this.g.length+O.g.length,M=[];for(var U=0;U<2*x;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(let P=0;P<O.g.length;P++){const D=this.i(U)>>>16,C=this.i(U)&65535,Ke=O.i(P)>>>16,Vt=O.i(P)&65535;M[2*U+2*P]+=C*Vt,$(M,2*U+2*P),M[2*U+2*P+1]+=D*Vt,$(M,2*U+2*P+1),M[2*U+2*P+1]+=C*Ke,$(M,2*U+2*P+1),M[2*U+2*P+2]+=D*Ke,$(M,2*U+2*P+2)}for(O=0;O<x;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=x;O<2*x;O++)M[O]=0;return new c(M,0)};function $(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function X(O,x){this.g=O,this.h=x}function le(O,x){if(I(x))throw Error("division by zero");if(I(O))return new X(E,E);if(z(O))return x=le(N(O),x),new X(N(x.g),N(x.h));if(z(x))return x=le(O,N(x)),new X(N(x.g),x.h);if(O.g.length>30){if(z(O)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var M=b,U=x;U.l(O)<=0;)M=oe(M),U=oe(U);var P=me(M,1),D=me(U,1);for(U=me(U,2),M=me(M,2);!I(U);){var C=D.add(U);C.l(O)<=0&&(P=P.add(M),D=C),U=me(U,1),M=me(M,1)}return x=B(O,P.j(x)),new X(P,x)}for(P=E;O.l(x)>=0;){for(M=Math.max(1,Math.floor(O.m()/x.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),D=p(M),C=D.j(x);z(C)||C.l(O)>0;)M-=U,D=p(M),C=D.j(x);I(D)&&(D=b),P=P.add(D),O=B(O,C)}return new X(P,O)}t.B=function(O){return le(this,O).h},t.and=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)&O.i(U);return new c(M,this.h&O.h)},t.or=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)|O.i(U);return new c(M,this.h|O.h)},t.xor=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)^O.i(U);return new c(M,this.h^O.h)};function oe(O){const x=O.g.length+1,M=[];for(let U=0;U<x;U++)M[U]=O.i(U)<<1|O.i(U-1)>>>31;return new c(M,O.h)}function me(O,x){const M=x>>5;x%=32;const U=O.g.length-M,P=[];for(let D=0;D<U;D++)P[D]=x>0?O.i(D+M)>>>x|O.i(D+M+1)<<32-x:O.i(D+M);return new c(P,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Y1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,ps=c}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q1,Jl,X1,Mh,bg,W1,Z1,J1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<h.length;++y){var S=h[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function o(h,y){if(y)e:{var S=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in S))break e;S=S[F]}h=h[h.length-1],A=S[h],y=y(A),y!=A&&y!=null&&e(S,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var S=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&S.push([A,y[A]]);return S}});var l=l||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,S){return h.call.apply(h.bind,arguments)}function p(h,y,S){return p=g,p.apply(null,arguments)}function v(h,y){var S=Array.prototype.slice.call(arguments,1);return function(){var A=S.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,y){function S(){}S.prototype=y.prototype,h.Z=y.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(A,F,Y){for(var re=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)re[Ce-2]=arguments[Ce];return y.prototype[F].apply(A,re)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const S=Array(y);for(let A=0;A<y;A++)S[A]=h[A];return S}return[]}function I(h,y){for(let A=1;A<arguments.length;A++){const F=arguments[A];var S=typeof F;if(S=S!="object"?S:F?Array.isArray(F)?"array":S:"null",S=="array"||S=="object"&&typeof F.length=="number"){S=h.length||0;const Y=F.length||0;h.length=S+Y;for(let re=0;re<Y;re++)h[S+re]=F[re]}else h.push(F)}}class z{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function N(h){c.setTimeout(()=>{throw h},0)}function B(){var h=O;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,S){const A=X.get();A.set(y,S),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new z(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,O=new $,x=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(M)}};function M(){for(var h;h=B();){try{h.h.call(h.g)}catch(S){N(S)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};c.addEventListener("test",S,y),c.removeEventListener("test",S,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function Ke(h,y){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Ke,P),Ke.prototype.init=function(h,y){const S=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(S=="mouseover"?y=h.fromElement:S=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Vt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function se(h,y,S,A,F){this.listener=h,this.proxy=null,this.src=y,this.type=S,this.capture=!!A,this.ha=F,this.key=++Z,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function He(h,y,S){for(const A in h)y.call(S,h[A],A,h)}function Qe(h,y){for(const S in h)y.call(void 0,h[S],S,h)}function j(h){const y={};for(const S in h)y[S]=h[S];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let S,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(S in A)h[S]=A[S];for(let Y=0;Y<te.length;Y++)S=te[Y],Object.prototype.hasOwnProperty.call(A,S)&&(h[S]=A[S])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,S,A,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const re=Ne(h,y,A,F);return re>-1?(y=h[re],S||(y.fa=!1)):(y=new se(y,this.src,Y,!!A,F),y.fa=S,h.push(y)),y};function be(h,y){const S=y.type;if(S in h.g){var A=h.g[S],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(ye(y),h.g[S].length==0&&(delete h.g[S],h.h--))}}function Ne(h,y,S,A){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!S&&Y.ha==A)return F}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Pt={};function lt(h,y,S,A,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)lt(h,y[Y],S,A,F);return null}return S=qo(S),h&&h[Vt]?h.J(y,S,m(A)?!!A.capture:!1,F):Is(h,y,S,!1,A,F)}function Is(h,y,S,A,F,Y){if(!y)throw Error("Invalid event type");const re=m(F)?!!F.capture:!!F;let Ce=Ds(h);if(Ce||(h[ze]=Ce=new he(h)),S=Ce.add(y,S,A,re,Y),S.proxy)return S;if(A=wa(),S.proxy=A,A.src=h,A.listener=S,h.addEventListener)D||(F=re),F===void 0&&(F=!1),h.addEventListener(y.toString(),A,F);else if(h.attachEvent)h.attachEvent(fi(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return S}function wa(){function h(S){return y.call(h.src,h.listener,S)}const y=Ho;return h}function Ra(h,y,S,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ra(h,y[Y],S,A,F);else A=m(A)?!!A.capture:!!A,S=qo(S),h&&h[Vt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],S=Ne(y,S,A,F),S>-1&&(ye(y[S]),Array.prototype.splice.call(y,S,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Ds(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,S,A,F)),(S=h>-1?y[h]:null)&&Aa(S))}function Aa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Vt])be(y.i,h);else{var S=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(S,A,h.capture):y.detachEvent?y.detachEvent(fi(S),A):y.addListener&&y.removeListener&&y.removeListener(A),(S=Ds(y))?(be(S,h),S.h==0&&(S.src=null,y[ze]=null)):ye(h)}}}function fi(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function Ho(h,y){if(h.da)h=!0;else{y=new Ke(y,this);const S=h.listener,A=h.ha||h.src;h.fa&&Aa(h),h=S.call(A,y)}return h}function Ds(h){return h=h[ze],h instanceof he?h:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(h){return typeof h=="function"?h:(h[Fo]||(h[Fo]=function(y){return h.handleEvent(y)}),h[Fo])}function Et(){U.call(this),this.i=new he(this),this.M=this,this.G=null}E(Et,U),Et.prototype[Vt]=!0,Et.prototype.removeEventListener=function(h,y,S,A){Ra(this,h,y,S,A)};function kt(h,y){var S,A=h.G;if(A)for(S=[];A;A=A.G)S.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new P(y,h);else if(y instanceof P)y.target=y.target||h;else{var F=y;y=new P(A,h),ae(y,F)}F=!0;let Y,re;if(S)for(re=S.length-1;re>=0;re--)Y=y.g=S[re],F=Ar(Y,A,!0,y)&&F;if(Y=y.g=h,F=Ar(Y,A,!0,y)&&F,F=Ar(Y,A,!1,y)&&F,S)for(re=0;re<S.length;re++)Y=y.g=S[re],F=Ar(Y,A,!1,y)&&F}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const S=h.g[y];for(let A=0;A<S.length;A++)ye(S[A]);delete h.g[y],h.h--}}this.G=null},Et.prototype.J=function(h,y,S,A){return this.i.add(String(h),y,!1,S,A)},Et.prototype.K=function(h,y,S,A){return this.i.add(String(h),y,!0,S,A)};function Ar(h,y,S,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const re=y[Y];if(re&&!re.da&&re.capture==S){const Ce=re.listener,pt=re.ha||re.src;re.fa&&be(h.i,re),F=Ce.call(pt,A)!==!1&&F}}return F&&!A.defaultPrevented}function jf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Uu(h){h.g=jf(()=>{h.g=null,h.i&&(h.i=!1,Uu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class on extends U{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Uu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(h){U.call(this),this.h=h,this.g={}}E(Ms,U);var Go=[];function $o(h){He(h.g,function(y,S){this.g.hasOwnProperty(S)&&Aa(y)},h),h.g={}}Ms.prototype.N=function(){Ms.Z.N.call(this),$o(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=c.JSON.stringify,Uf=c.JSON.parse,zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bu(){}function Hu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){P.call(this,"d")}E(Gt,P);function In(){P.call(this,"c")}E(In,P);var gt={},Fu=null;function Ca(){return Fu=Fu||new Et}gt.Ia="serverreachability";function qu(h){P.call(this,gt.Ia,h)}E(qu,P);function di(h){const y=Ca();kt(y,new qu(y))}gt.STAT_EVENT="statevent";function Os(h,y){P.call(this,gt.STAT_EVENT,h),this.stat=y}E(Os,P);function St(h){const y=Ca();kt(y,new Os(y,h))}gt.Ja="timingevent";function mi(h,y){P.call(this,gt.Ja,h),this.size=y}E(mi,P);function gi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function zf(h,y,S,A,F,Y){h.info(function(){if(h.g)if(Y){var re="",Ce=Y.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var pt=Ce[Ge].split("=");if(pt.length>1){const ut=pt[0];pt=pt[1];const Vn=ut.split("_");re=Vn.length>=2&&Vn[1]=="type"?re+(ut+"="+pt+"&"):re+(ut+"=redacted&")}}}else re=null;else re=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+S+`
`+re})}function Gu(h,y,S,A,F,Y,re){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+S+`
`+Y+" "+re})}function pi(h,y,S,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bf(h,S)+(A?" "+A:"")})}function Vs(h,y){h.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Bf(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var S=Y[h];if(!(S.length<2)){var A=S[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return Cr(Y)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function ks(){}E(ks,Bu),ks.prototype.g=function(){return new XMLHttpRequest},Yo=new ks;function Qi(h){return encodeURIComponent(String(h))}function $u(h){var y=1;h=h.split(":");const S=[];for(;y>0&&h.length;)S.push(h.shift()),y--;return h.length&&S.push(h.join(":")),S}function Xn(h,y,S,A){this.j=h,this.i=y,this.l=S,this.S=A||1,this.V=new Ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var bt={},Bt={};function yi(h,y,S){h.M=1,h.A=Ls(Rt(y)),h.u=S,h.R=!0,xa(h,null)}function xa(h,y){h.F=Date.now(),_i(h),h.B=Rt(h.A);var S=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Ma(S.i,"t",A),h.C=0,S=h.j.L,h.h=new Wn,h.g=oc(h.j,S?y:null,!h.u),h.P>0&&(h.O=new on(p(h.Y,h,h.g),h.P)),y=h.V,S=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Go[0]=F.toString()),F=Go);for(let Y=0;Y<F.length;Y++){const re=lt(S,F[Y],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.J?j(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),di(),zf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ei(h)==3?y.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ei(this.g),pt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ce!=4||pt==7||(pt==8||Ge<=0?di(3):di(2)),vi(this);var y=this.g.ca();this.X=y;var S=Hf(this);if(this.o=y==200,Gu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var Y=A;break t}}Y=null}if(h=Y)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,h);else{this.o=!1,this.m=3,St(12),vn(this),Dn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<S.length;)if(ut=Yu(this,S),ut==Bt){Ce==4&&(this.m=4,St(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==bt){this.m=4,St(15),pi(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,ut,null),Ti(this,ut);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||S.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,S,"[Invalid Chunked Response]"),vn(this),Dn(this);else if(S.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ul(re),re.P=!0,St(11))}}else pi(this.i,this.l,S,null),Ti(this,S);Ce==4&&vn(this),this.o&&!this.K&&(Ce==4?ic(this.j,this):(this.o=!1,_i(this)))}else Wi(this.g),y==400&&S.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),vn(this),Dn(this)}}}catch{}};function Hf(h){if(!Ku(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let S="";const A=y.length,F=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return vn(h),Dn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,S+=h.h.i.decode(y[Y],{stream:!(F&&Y==A-1)});return y.length=0,h.h.g+=S,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yu(h,y){var S=h.C,A=y.indexOf(`
`,S);return A==-1?Bt:(S=Number(y.substring(S,A)),isNaN(S)?bt:(A+=1,A+S>y.length?Bt:(y=y.slice(A,A+S),h.C=A+S,y)))}Xn.prototype.cancel=function(){this.K=!0,vn(this)};function _i(h){h.T=Date.now()+h.H,Na(h,h.H)}function Na(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gi(p(h.aa,h),y)}function vi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(di(),St(17)),vn(this),this.m=2,Dn(this)):Na(this,this.T-h)};function Dn(h){h.j.I==0||h.K||ic(h.j,h)}function vn(h){vi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,$o(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ti(h,y){try{var S=h.j;if(S.I!=0&&(S.g==h||Si(S.h,h))){if(!h.L&&Si(S.h,h)&&S.I==3){try{var A=S.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)La(S),Pr(S);else break e;qs(S),St(18)}}else S.xa=F[1],0<S.xa-S.K&&F[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=gi(p(S.Va,S),6e3));Ei(S.h)<=1&&S.ta&&(S.ta=void 0)}else xi(S,11)}else if((h.L||S.g==h)&&La(S),!C(y))for(F=S.Ba.g.parse(y),y=0;y<F.length;y++){let Ge=F[y];const ut=Ge[0];if(!(ut<=S.K))if(S.K=ut,Ge=Ge[1],S.I==2)if(Ge[0]=="c"){S.M=Ge[1],S.ba=Ge[2];const Vn=Ge[3];Vn!=null&&(S.ka=Vn,S.j.info("VER="+S.ka));const Ni=Ge[4];Ni!=null&&(S.za=Ni,S.j.info("SVER="+S.za));const ti=Ge[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,S.O=A,S.j.info("backChannelRequestTimeoutMs_="+A)),A=S;const ni=h.g;if(ni){const Gs=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var Y=A.h;Y.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Wo(Y,Y.h),Y.h=null))}if(A.G){const ja=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(A.wa=ja,Xe(A.J,A.G,ja))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),A=S;var re=h;if(A.na=ac(A,A.L?A.ba:null,A.W),re.L){Zo(A.h,re);var Ce=re,pt=A.O;pt&&(Ce.H=pt),Ce.D&&(vi(Ce),_i(Ce)),A.g=re}else tc(A);S.i.length>0&&Ci(S)}else Ge[0]!="stop"&&Ge[0]!="close"||xi(S,7);else S.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?xi(S,7):ol(S):Ge[0]!="noop"&&S.l&&S.l.qa(Ge),S.A=0)}}di(4)}catch{}}var wt=class{constructor(h,y){this.g=h,this.map=y}};function Qo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ei(h){return h.h?1:h.g?h.g.size:0}function Si(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Wo(h,y){h.g?h.g.add(y):h.h=y}function Zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const S of h.g.values())y=y.concat(S.G);return y}return R(h.i)}var Qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(h,y){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const A=h[S].indexOf("=");let F,Y=null;A>=0?(F=h[S].substring(0,A),Y=h[S].substring(A+1)):F=h[S],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Tn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Tn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,xr(this,h.u),this.h=h.h,el(this,Ju(h.i)),this.m=h.m):h&&(y=String(h).match(Qu))?(this.l=!1,Ht(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),xr(this,y[4]),this.h=bi(y[5]||"",!0),el(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}Tn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(js(y,Da,!0),":");var S=this.g;return(S||y=="file")&&(h.push("//"),(y=this.o)&&h.push(js(y,Da,!0),"@"),h.push(Qi(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(js(S,S.charAt(0)=="/"?tl:Xu,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",js(S,Wu)),h.join("")},Tn.prototype.resolve=function(h){const y=Rt(this);let S=!!h.j;S?Ht(y,h.j):S=!!h.o,S?y.o=h.o:S=!!h.g,S?y.g=h.g:S=h.u!=null;var A=h.h;if(S)xr(y,h.u);else if(S=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=y.h.lastIndexOf("/");F!=-1&&(A=y.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let re=0;re<F.length;){const Ce=F[re++];Ce=="."?A&&re==F.length&&Y.push(""):Ce==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&re==F.length&&Y.push("")):(Y.push(Ce),A=!0)}A=Y.join("/")}else A=F}return S?y.h=A:S=h.i.toString()!=="",S?el(y,Ju(h.i)):S=!!h.m,S&&(y.m=h.m),y};function Rt(h){return new Tn(h)}function Ht(h,y,S){h.j=S?bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function xr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function el(h,y,S){y instanceof Ir?(h.i=y,Oa(h.i,h.l)):(S||(y=js(y,Nr)),h.i=new Ir(y,h.l))}function Xe(h,y,S){h.i.set(y,S)}function Ls(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function js(h,y,S){return typeof h=="string"?(h=encodeURI(h).replace(y,cn),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Da=/[#\/\?@]/g,Xu=/[#\?:]/g,tl=/[#\?]/g,Nr=/[#\?@]/g,Wu=/#/g;function Ir(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function hn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ia(h.i,function(y,S){h.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=Ir.prototype,t.add=function(h,y){hn(this),this.i=null,h=Dr(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(y),this.h+=1,this};function Zu(h,y){hn(h),y=Dr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nl(h,y){return hn(h),y=Dr(h,y),h.g.has(y)}t.forEach=function(h,y){hn(this),this.g.forEach(function(S,A){S.forEach(function(F){h.call(y,F,A,this)},this)},this)};function il(h,y){hn(h);let S=[];if(typeof y=="string")nl(h,y)&&(S=S.concat(h.g.get(Dr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)S=S.concat(h[y]);return S}t.set=function(h,y){return hn(this),this.i=null,h=Dr(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=il(this,h),h.length>0?String(h[0]):y):y};function Ma(h,y,S){Zu(h,y),S.length>0&&(h.i=null,h.g.set(Dr(h,y),R(S)),h.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var S=y[A];const F=Qi(S);S=il(this,S);for(let Y=0;Y<S.length;Y++){let re=F;S[Y]!==""&&(re+="="+Qi(S[Y])),h.push(re)}}return this.i=h.join("&")};function Ju(h){const y=new Ir;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Dr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Oa(h,y){y&&!h.j&&(hn(h),h.i=null,h.g.forEach(function(S,A){const F=A.toLowerCase();A!=F&&(Zu(this,A),Ma(this,F,S))},h)),h.j=y}function Zn(h,y){const S=new Qn;if(c.Image){const A=new Image;A.onload=v(Mn,S,"TestLoadImage: loaded",!0,y,A),A.onerror=v(Mn,S,"TestLoadImage: error",!1,y,A),A.onabort=v(Mn,S,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(Mn,S,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function rl(h,y){const S=new Qn,A=new AbortController,F=setTimeout(()=>{A.abort(),Mn(S,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?Mn(S,"TestPingServer: ok",!0,y):Mn(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Mn(S,"TestPingServer: error",!1,y)})}function Mn(h,y,S,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(S)}catch{}}function Mr(){this.g=new zu}function wi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(wi,Bu),wi.prototype.g=function(){return new Us(this.i,this.h)};function Us(h,y){Et.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Us,Et),t=Us.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Va(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Va(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Or(this):Jn(this),this.readyState==3&&Va(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Or(this))},t.Na=function(h){this.g&&(this.response=h,Or(this))},t.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let y="";return He(h,function(S,A){y+=A,y+=":",y+=S,y+=`\r
`}),y}function zs(h,y,S){e:{for(A in S){var A=!1;break e}A=!0}A||(S=On(S),typeof h=="string"?S!=null&&Qi(S):Xe(h,y,S))}function Je(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,Et);var Ri=/^https?$/i,sl=["POST","PUT"];t=Je.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,S,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Bs(this,Y);return}if(h=S||"",S=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)S.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())S.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(S.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||A||F||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,re]of S)this.g.setRequestHeader(Y,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Bs(this,Y)}};function Bs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,al(h),Xi(h)}function al(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,kt(this,"complete"),kt(this,"abort"),Xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},t.Xa=function(){Hs(this)};function Hs(h){if(h.h&&typeof l<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(kt(h,"readystatechange"),ei(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var A;if(A=Y===0){let re=String(h.D).match(Qu)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),A=!Ri.test(re?re.toLowerCase():"")}S=A}if(S)kt(h,"complete"),kt(h,"success");else{h.o=6;try{var F=ei(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",al(h)}}finally{Xi(h)}}}}function Xi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,y||kt(h,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Uf(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(h){const y={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(C(h[A]))continue;var S=$u(h[A]);const F=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Y=y[F]||[];y[F]=Y,Y.push(S)}Qe(y,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(h,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||y}function Vr(h){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,h),this.Za=Ai("retryDelaySeedMs",1e4,h),this.Ta=Ai("forwardChannelMaxRetries",2,h),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(h&&h.concurrentRequestLimit),this.Ba=new Mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vr.prototype,t.ka=8,t.I=1,t.connect=function(h,y,S,A){St(0),this.W=h,this.H=y||{},S&&A!==void 0&&(this.H.OSID=S,this.H.OAID=A),this.F=this.X,this.J=ac(this,null,this.W),Ci(this)};function ol(h){if(Pa(h),h.I==3){var y=h.V++,S=Rt(h.J);if(Xe(S,"SID",h.M),Xe(S,"RID",y),Xe(S,"TYPE","terminate"),Fs(h,S),y=new Xn(h,h.j,y),y.M=2,y.A=Ls(Rt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=y.A,S=!0),S||(y.g=oc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}sc(h)}function Pr(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Pa(h){Pr(h),h.v&&(c.clearTimeout(h.v),h.v=null),La(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!Xo(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||x(),me||(oe(),me=!0),O.add(y,h),h.D=0}}function ka(h,y){return Ei(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gi(p(h.Ea,h,y),rc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Xn(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=j(Y),ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var A=this.i[S];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=ec(this,F,y),S=Rt(this.J),Xe(S,"RID",h),Xe(S,"CVER",22),this.G&&Xe(S,"X-HTTP-Session-Id",this.G),Fs(this,S),Y&&(this.R?y="headers="+Qi(On(Y))+"&"+y:this.u&&zs(S,this.u,Y)),Wo(this.h,F),this.Ra&&Xe(S,"TYPE","init"),this.S?(Xe(S,"$req",y),Xe(S,"SID","null"),F.U=!0,yi(F,S,null)):yi(F,S,y),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||Xo(this.h)||ll(this))};function ll(h,y){var S;y?S=y.l:S=h.V++;const A=Rt(h.J);Xe(A,"SID",h.M),Xe(A,"RID",S),Xe(A,"AID",h.K),Fs(h,A),h.u&&h.o&&zs(A,h.u,h.o),S=new Xn(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ec(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wo(h.h,S),yi(S,A,y)}function Fs(h,y){h.H&&He(h.H,function(S,A){Xe(y,A,S)}),h.l&&He({},function(S,A){Xe(y,A,S)})}function ec(h,y,S){S=Math.min(h.i.length,S);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ce=-1;for(;;){const pt=["count="+S];Ce==-1?S>0?(Ce=F[0].g,pt.push("ofs="+Ce)):Ce=0:pt.push("ofs="+Ce);let Ge=!0;for(let ut=0;ut<S;ut++){var Y=F[ut].g;const Vn=F[ut].map;if(Y-=Ce,Y<0)Ce=Math.max(0,F[ut].g-100),Ge=!1;else try{Y="req"+Y+"_"||"";try{var re=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ni,ti]of re){let ni=ti;m(ti)&&(ni=Cr(ti)),pt.push(Y+Ni+"="+encodeURIComponent(ni))}}catch(Ni){throw pt.push(Y+"type="+encodeURIComponent("_badmap")),Ni}}catch{A&&A(Vn)}}if(Ge){re=pt.join("&");break e}}re=void 0}return h=h.i.splice(0,S),y.G=h,re}function tc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||x(),me||(oe(),me=!0),O.add(y,h),h.A=0}}function qs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gi(p(h.Da,h),rc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,nc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gi(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Pr(this),nc(this))};function ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function nc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Xe(y,"RID","rpc"),Xe(y,"SID",h.M),Xe(y,"AID",h.K),Xe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(y,"TO",h.ia),Xe(y,"TYPE","xmlhttp"),Fs(h,y),h.u&&h.o&&zs(y,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Ls(Rt(y)),S.u=null,S.R=!0,xa(S,h)}t.Va=function(){this.C!=null&&(this.C=null,Pr(this),qs(this),St(19))};function La(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ic(h,y){var S=null;if(h.g==y){La(h),ul(h),h.g=null;var A=2}else if(Si(h.h,y))S=y.G,Zo(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){S=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;A=Ca(),kt(A,new mi(A,S)),Ci(h)}else tc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(A==1&&ka(h,y)||A==2&&qs(h)))switch(S&&S.length>0&&(y=h.h,y.i=y.i.concat(S)),F){case 1:xi(h,5);break;case 4:xi(h,10);break;case 3:xi(h,6);break;default:xi(h,2)}}}function rc(h,y){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*y}function xi(h,y){if(h.j.info("Error code "+y),y==2){var S=p(h.bb,h),A=h.Ua;const F=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ht(A,"https"),Ls(A),F?Zn(A.toString(),S):rl(A.toString(),S)}else St(2);h.I=0,h.l&&h.l.pa(y),sc(h),Pa(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function sc(h){if(h.I=0,h.ja=[],h.l){const y=Jo(h.h);(y.length!=0||h.i.length!=0)&&(I(h.ja,y),I(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function ac(h,y,S){var A=S instanceof Tn?Rt(S):new Tn(S);if(A.g!="")y&&(A.g=y+"."+A.g),xr(A,A.u);else{var F=c.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Tn(null);A&&Ht(Y,A),y&&(Y.g=y),F&&xr(Y,F),S&&(Y.h=S),A=Y}return S=h.G,y=h.wa,S&&y&&Xe(A,S,y),Xe(A,"VER",h.ka),Fs(h,A),A}function oc(h,y,S){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new wi({ab:S})):new Je(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}t=lc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kr(){}kr.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){Et.call(this),this.g=new Vr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Zi(this)}E(ln,Et),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ol(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=Cr(h),h=S);y.i.push(new wt(y.Ya++,h)),y.I==3&&Ci(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,ln.Z.N.call(this)};function uc(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const S in y){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(uc,Gt);function cc(){In.call(this),this.status=1}E(cc,In);function Zi(h){this.g=h}E(Zi,lc),Zi.prototype.ra=function(){kt(this.g,"a")},Zi.prototype.qa=function(h){kt(this.g,new uc(h))},Zi.prototype.pa=function(h){kt(this.g,new cc)},Zi.prototype.oa=function(){kt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,J1=function(){return new kr},Z1=function(){return Ca()},W1=gt,bg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,Mh=Ps,Ko.COMPLETE="complete",X1=Ko,Hu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Jl=Hu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Q1=Je}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const vT="@firebase/firestore",TT="4.9.3";let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let ko="12.7.0";const ga=new rp("@firebase/firestore");function go(){return ga.logLevel}function ce(t,...e){if(ga.logLevel<=ke.DEBUG){const n=e.map(gp);ga.debug(`Firestore (${ko}): ${t}`,...n)}}function Sr(t,...e){if(ga.logLevel<=ke.ERROR){const n=e.map(gp);ga.error(`Firestore (${ko}): ${t}`,...n)}}function Ao(t,...e){if(ga.logLevel<=ke.WARN){const n=e.map(gp);ga.warn(`Firestore (${ko}): ${t}`,...n)}}function gp(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eS(t,r,n)}function eS(t,e,n){let r=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Ye(t,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,t||eS(e,o,r)}function Ae(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ca{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class tS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let l=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ca,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ca)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new tS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class CI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ET{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ET(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ET(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function II(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=II(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function wg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const o=t.charAt(r),l=e.charAt(r);if(o!==l)return Zm(o)===Zm(l)?Le(o,l):Zm(o)?1:-1}return Le(t.length,e.length)}const DI=55296,MI=57343;function Zm(t){const e=t.charCodeAt(0);return e>=DI&&e<=MI}function Co(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}const ST="__name__";class Vi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=Vi.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Le(e.length,n.length)}static compareSegments(e,n){const r=Vi.isNumericId(e),o=Vi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class rt extends Vi{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const OI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Vi{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return OI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new Zt([ST])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(r+=m,o++):(l(),o++)}if(l(),c)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(rt.fromString(e))}static fromName(e){return new pe(rt.fromString(e).popFirst(5))}static empty(){return new pe(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new rt(e.slice()))}}function nS(t,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VI(t,e,n,r){if(e===!0&&r===!0)throw new ue(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bT(t){if(!pe.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wT(t){if(pe.isDocumentKey(t))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(t);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!iS(t))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(o&&typeof c!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}const RT=-62135596800,AT=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*AT);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RT)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AT}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Mt("string",ot._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ot(0,0))}static max(){return new we(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mu=-1;function PI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new vs(o,pe.empty(),e)}function kI(t){return new vs(t.readTime,t.key,mu)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(we.min(),pe.empty(),mu)}static max(){return new vs(we.max(),pe.empty(),mu)}}function LI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}const jI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==jI)throw t;ce("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,l=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++l,c&&l===o&&n()}),(g=>r(g)))})),c=!0,l===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const l=e.length,c=new Array(l);let m=0;for(let g=0;g<l;g++){const p=g;n(e[p]).next((v=>{c[p]=v,++m,m===l&&r(c)}),(v=>o(v)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function zI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}class vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vf.ce=-1;const yp=-1;function Tf(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function BI(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const rS="";function HI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CT(e)),e=FI(t.get(n),e);return CT(e)}function FI(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case rS:n+="";break;default:n+=l}}return n}function CT(t){return t+rS+""}function xT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=o??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Wt(e??this.key,n??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,o,l){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new zt(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class aS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aS("Invalid base64 string: "+l):l}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const qI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=qI.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}const oS="server_timestamp",lS="__type__",uS="__previous_value__",cS="__local_write_time__";function _p(t){return(t?.mapValue?.fields||{})[lS]?.stringValue===oS}function Ef(t){const e=t.mapValue.fields[uS];return _p(e)?Ef(e):e}function gu(t){const e=Ts(t.mapValue.fields[cS].timestampValue);return new ot(e.seconds,e.nanos)}class GI{constructor(e,n,r,o,l,c,m,g,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Xh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Xh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}const hS="__type__",$I="__max__",_h={mapValue:{}},fS="__vector__",Wh="value";function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_p(t)?4:YI(t)?9007199254740991:KI(t)?10:11:Se(28295,{value:t})}function qi(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ts(o.timestampValue),m=Ts(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Es(o.bytesValue).isEqual(Es(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=vt(o.doubleValue),m=vt(l.doubleValue);return c===m?Qh(c)===Qh(m):isNaN(c)&&isNaN(m)}return!1})(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(xT(c)!==xT(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!qi(c[g],m[g])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function yu(t,e){return(t.values||[]).find((n=>qi(n,e)))!==void 0}function xo(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=vt(l.integerValue||l.doubleValue),g=vt(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(gu(t),gu(e));case 5:return wg(t.stringValue,e.stringValue);case 6:return(function(l,c){const m=Es(l),g=Es(c);return m.compareTo(g)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Le(m[p],g[p]);if(v!==0)return v}return Le(m.length,g.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=Le(vt(l.latitude),vt(c.latitude));return m!==0?m:Le(vt(l.longitude),vt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return DT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},g=c.fields||{},p=m[Wh]?.arrayValue,v=g[Wh]?.arrayValue,E=Le(p?.values?.length||0,v?.values?.length||0);return E!==0?E:DT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===_h.mapValue&&c===_h.mapValue)return 0;if(l===_h.mapValue)return 1;if(c===_h.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),p=c.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let E=0;E<g.length&&E<v.length;++E){const b=wg(g[E],v[E]);if(b!==0)return b;const R=xo(m[g[E]],p[v[E]]);if(R!==0)return R}return Le(g.length,v.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Ts(t),r=Ts(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function DT(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=xo(n[o],r[o]);if(l)return l}return Le(n.length,r.length)}function No(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Es(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=Rg(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Rg(n.fields[c])}`;return o+"}"})(t.mapValue):Se(61005,{value:t})}function Oh(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(t);return e?16+Oh(e):16;case 5:return 2*t.stringValue.length;case 6:return Es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,l)=>o+Oh(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let o=0;return Cs(r.fields,((l,c)=>{o+=l.length+Oh(c)})),o})(t.mapValue);default:throw Se(13486,{value:t})}}function MT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ag(t){return!!t&&"integerValue"in t}function vp(t){return!!t&&"arrayValue"in t}function OT(t){return!!t&&"nullValue"in t}function VT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vh(t){return!!t&&"mapValue"in t}function KI(t){return(t?.mapValue?.fields||{})[hS]?.stringValue===fS}function su(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=su(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(t.arrayValue.values[n]);return e}return{...t}}function YI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$I}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Zt.emptyPath(),r={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}c?r[m.lastSegment()]=su(c):o.push(m.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new _n(su(this.value))}}function dS(t){const e=[];return Cs(t.fields,((n,r)=>{const o=new Zt([n]);if(Vh(r)){const l=dS(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new xn(e)}class sn{constructor(e,n,r,o,l,c,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,r,o){return new sn(e,1,n,we.min(),r,o,0)}static newNoDocument(e,n){return new sn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zh{constructor(e,n){this.position=e,this.inclusive=n}}function PT(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=pe.comparator(pe.fromName(c.referenceValue),n.key):r=xo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function kT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qi(t.position[n],e.position[n]))return!1;return!0}class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function QI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class mS{}class Dt extends mS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WI(e,n,r):n==="array-contains"?new eD(e,r):n==="in"?new tD(e,r):n==="not-in"?new nD(e,r):n==="array-contains-any"?new iD(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZI(e,r):new JI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends mS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return gS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gS(t){return t.op==="and"}function pS(t){return XI(t)&&gS(t)}function XI(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function Cg(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+No(t.value);if(pS(t))return t.filters.map((e=>Cg(e))).join(",");{const e=t.filters.map((n=>Cg(n))).join(",");return`${t.op}(${e})`}}function yS(t,e){return t instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(t,e):t instanceof hi?(function(r,o){return o instanceof hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,m)=>l&&yS(c,o.filters[m])),!0):!1})(t,e):void Se(19439)}function _S(t){return t instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`})(t):t instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_S).join(" ,")+"}"})(t):"Filter"}class WI extends Dt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZI extends Dt{constructor(e,n){super(e,"in",n),this.keys=vS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=vS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vS(t,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class eD extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vp(n)&&yu(n.arrayValue,this.value)}}class tD extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class nD extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class iD extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>yu(this.value.arrayValue,r)))}}class rD{constructor(e,n=null,r=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function LT(t,e=null,n=[],r=[],o=null,l=null,c=null){return new rD(t,e,n,r,o,l,c)}function Tp(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Cg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>No(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>No(r))).join(",")),e.Te=n}return e.Te}function Ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kT(t.startAt,e.startAt)&&kT(t.endAt,e.endAt)}function xg(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Uo{constructor(e,n=null,r=[],o=[],l=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sD(t,e,n,r,o,l,c,m){return new Uo(t,e,n,r,o,l,c,m)}function Sp(t){return new Uo(t)}function jT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TS(t){return t.collectionGroup!==null}function au(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new zt(Zt.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _u(l,r))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new _u(Zt.keyField(),r))}return e.Ie}function zi(t){const e=Ae(t);return e.Ee||(e.Ee=aD(e,au(t))),e.Ee}function aD(t,e){if(t.limitType==="F")return LT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new _u(o.field,l)}));const n=t.endAt?new Zh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zh(t.startAt.position,t.startAt.inclusive):null;return LT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ng(t,e){const n=t.filters.concat([e]);return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ig(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sf(t,e){return Ep(zi(t),zi(e))&&t.limitType===e.limitType}function ES(t){return`${Tp(zi(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>_S(o))).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>No(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>No(o))).join(",")),`Target(${r})`})(zi(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):pe.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of au(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,m,g){const p=PT(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,au(r),o)||r.endAt&&!(function(c,m,g){const p=PT(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,au(r),o))})(t,e)}function oD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SS(t){return(e,n)=>{let r=!1;for(const o of au(t)){const l=lD(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function lD(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):(function(l,c,m){const g=c.data.field(l),p=m.data.field(l);return g!==null&&p!==null?xo(g,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return sS(this.inner)}size(){return this.innerSize}}const uD=new ft(pe.comparator);function br(){return uD}const bS=new ft(pe.comparator);function eu(...t){let e=bS;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=bS;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ua(){return ou()}function RS(){return ou()}function ou(){return new Ea((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cD=new ft(pe.comparator),hD=new zt(pe.comparator);function je(...t){let e=hD;for(const n of t)e=e.add(n);return e}const fD=new zt(Le);function dD(){return fD}function bp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function AS(t){return{integerValue:""+t}}function mD(t,e){return BI(e)?AS(e):bp(t,e)}class wf{constructor(){this._=void 0}}function gD(t,e,n){return t instanceof Jh?(function(o,l){const c={fields:{[lS]:{stringValue:oS},[cS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&_p(l)&&(l=Ef(l)),l&&(c.fields[uS]=l),{mapValue:c}})(n,e):t instanceof vu?xS(t,e):t instanceof Tu?NS(t,e):(function(o,l){const c=CS(o,l),m=UT(c)+UT(o.Ae);return Ag(c)&&Ag(o.Ae)?AS(m):bp(o.serializer,m)})(t,e)}function pD(t,e,n){return t instanceof vu?xS(t,e):t instanceof Tu?NS(t,e):n}function CS(t,e){return t instanceof ef?(function(r){return Ag(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Jh extends wf{}class vu extends wf{constructor(e){super(),this.elements=e}}function xS(t,e){const n=IS(e);for(const r of t.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Tu extends wf{constructor(e){super(),this.elements=e}}function NS(t,e){let n=IS(e);for(const r of t.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class ef extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UT(t){return vt(t.integerValue||t.doubleValue)}function IS(t){return vp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function yD(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof vu&&o instanceof vu||r instanceof Tu&&o instanceof Tu?Co(r.elements,o.elements,qi):r instanceof ef&&o instanceof ef?qi(r.Ae,o.Ae):r instanceof Jh&&o instanceof Jh})(t.transform,e.transform)}class _D{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rf{}function DS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wp(t.key,$n.none()):new Iu(t.key,t.data,$n.none());{const n=t.data,r=_n.empty();let o=new zt(Zt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new xs(t.key,r,new xn(o.toArray()),$n.none())}}function vD(t,e,n){t instanceof Iu?(function(o,l,c){const m=o.value.clone(),g=BT(o.fieldTransforms,l,c.transformResults);m.setAll(g),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):t instanceof xs?(function(o,l,c){if(!Ph(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=BT(o.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(MS(o)),g.setAll(m),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function lu(t,e,n,r){return t instanceof Iu?(function(l,c,m,g){if(!Ph(l.precondition,c))return m;const p=l.value.clone(),v=HT(l.fieldTransforms,g,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof xs?(function(l,c,m,g){if(!Ph(l.precondition,c))return m;const p=HT(l.fieldTransforms,g,c),v=c.data;return v.setAll(MS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,r):(function(l,c,m){return Ph(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(t,e,n)}function TD(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=CS(r.transform,o||null);l!=null&&(n===null&&(n=_n.empty()),n.set(r.field,l))}return n||null}function zT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Co(r,o,((l,c)=>yD(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Iu extends Rf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Rf{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function MS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function BT(t,e,n){const r=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,m=e.data.field(l.field);r.set(l.field,pD(c,m,n[o]))}return r}function HT(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,gD(l,c,e))}return r}class wp extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ED extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SD{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&vD(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RS();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=n.has(o.key)?null:m;const g=DS(c,m);g!==null&&r.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,((n,r)=>zT(n,r)))&&Co(this.baseMutations,e.baseMutations,((n,r)=>zT(n,r)))}}class Rp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return cD})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Rp(e,n,r,o)}}class bD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wD{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Be;function RD(t){switch(t){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function OS(t){if(t===void 0)return Sr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:t})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function AD(){return new TextEncoder}const CD=new ps([4294967295,4294967295],0);function FT(t){const e=AD().encode(t),n=new Y1;return n.update(e),new Uint8Array(n.digest())}function qT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ps([n,r],0),new ps([o,l],0)]}class Ap{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ps.fromNumber(r)));return o.compare(CD)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FT(e),[r,o]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);if(!this.we(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ap(l,o,n);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=FT(e),[r,o]=qT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Af{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Af(we.min(),o,new ft(Le),br(),je())}}class Du{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,je(),je(),je())}}class kh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class VS{constructor(e,n){this.targetId=e,this.Ce=n}}class PS{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class GT{constructor(){this.ve=0,this.Fe=$T(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:l})}})),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$T()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xD{constructor(e){this.Ge=e,this.ze=new Map,this.je=br(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(xg(l))if(r===0){const c=new pe(l.path);this.et(n,c,sn.newNoDocument(c,we.min()))}else Ye(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const m=this.ut(e),g=m?this.ct(m,e,c):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,m;try{c=Es(r).toUint8Array()}catch(g){if(g instanceof aS)return Ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ap(c,o,l)}catch(g){return Ao(g instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&xg(m.target)){const g=new pe(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,sn.newNoDocument(g,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let r=je();this.He.forEach(((l,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Af(e,n,this.Ye,this.je,r);return this.je=br(),this.Je=vh(),this.He=vh(),this.Ye=new ft(Le),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new ft(pe.comparator)}function $T(){return new ft(pe.comparator)}const ND={asc:"ASCENDING",desc:"DESCENDING"},ID={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DD={and:"AND",or:"OR"};class MD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OD(t,e){return tf(t,e.toTimestamp())}function Bi(t){return Ye(!!t,49232),we.fromTimestamp((function(n){const r=Ts(n);return new ot(r.seconds,r.nanos)})(t))}function Cp(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function LS(t){const e=rt.fromString(t);return Ye(HS(e),10190,{key:e.toString()}),e}function Og(t,e){return Cp(t.databaseId,e.path)}function Jm(t,e){const n=LS(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(US(n))}function jS(t,e){return Cp(t.databaseId,e)}function VD(t){const e=LS(t);return e.length===4?rt.emptyPath():US(e)}function Vg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KT(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function PD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ye(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(Ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:OS(p.code);return new ue(v,p.message||"")})(c);n=new PS(r,o,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Jm(t,r.document.name),l=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):we.min(),m=new _n({mapValue:{fields:r.document.fields}}),g=sn.newFoundDocument(o,l,c,m),p=r.targetIds||[],v=r.removedTargetIds||[];n=new kh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Jm(t,r.document),l=r.readTime?Bi(r.readTime):we.min(),c=sn.newNoDocument(o,l),m=r.removedTargetIds||[];n=new kh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Jm(t,r.document),l=r.removedTargetIds||[];n=new kh([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new wD(o,l),m=r.targetId;n=new VS(m,c)}}return n}function kD(t,e){let n;if(e instanceof Iu)n={update:KT(t,e.key,e.value)};else if(e instanceof wp)n={delete:Og(t,e.key)};else if(e instanceof xs)n={update:KT(t,e.key,e.data),updateMask:GD(e.fieldMask)};else{if(!(e instanceof ED))return Se(16599,{Vt:e.type});n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const m=c.transform;if(m instanceof Jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ef)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:OD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function LD(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(o,l){let c=o.updateTime?Bi(o.updateTime):Bi(l);return c.isEqual(we.min())&&(c=Bi(l)),new _D(c,o.transformResults||[])})(n,e)))):[]}function jD(t,e){return{documents:[jS(t,e.path)]}}function UD(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jS(t,o);const l=(function(p){if(p.length!==0)return BS(hi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(b){return{field:yo(b.field),direction:HD(b.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Dg(t,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function zD(t){let e=VD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(E){const b=zS(E);return b instanceof hi&&pS(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((b=>(function(I){return new _u(_o(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let b;return b=typeof E=="object"?E.value:E,Tf(b)?null:b})(n.limit));let g=null;n.startAt&&(g=(function(E){const b=!!E.before,R=E.values||[];return new Zh(R,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const b=!E.before,R=E.values||[];return new Zh(R,b)})(n.endAt)),sD(e,o,c,l,m,"F",g,p)}function BD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_o(n.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_o(n.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Dt.create(_o(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((r=>zS(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function HD(t){return ND[t]}function FD(t){return ID[t]}function qD(t){return DD[t]}function yo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Zt.fromServerFormat(t.fieldPath)}function BS(t){return t instanceof Dt?(function(n){if(n.op==="=="){if(VT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NAN"}};if(OT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NAN"}};if(OT(n.value))return{unaryFilter:{field:yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(n.field),op:FD(n.op),value:n.value}}})(t):t instanceof hi?(function(n){const r=n.getFilters().map((o=>BS(o)));return r.length===1?r[0]:{compositeFilter:{op:qD(n.op),filters:r}}})(t):Se(54877,{filter:t})}function GD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class hs{constructor(e,n,r,o,l=we.min(),c=we.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $D{constructor(e){this.yt=e}}function KD(t){const e=zD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}class YD{constructor(){this.Cn=new QD}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(vs.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class QD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(rt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(rt.comparator)).toArray()}}const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(FS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}const QT="LruGarbageCollector",XD=1048576;function XT([t,e],[n,r]){const o=Le(t,n);return o===0?Le(e,r):o}class WD{constructor(e){this.Ir=e,this.buffer=new zt(XT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();XT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(QT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?ce(QT,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Vr(3e5)}))}}class JD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(vf.ce);const r=new WD(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(YT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,l,c,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(e,r,n)))).next((E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),go()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function e4(t,e){return new JD(t,e)}class t4{constructor(){this.changes=new Ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class i4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&lu(r.mutation,o,xn.empty(),ot.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=eu();return l.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,r,o){let l=br();const c=ou(),m=(function(){return ou()})();return n.forEach(((g,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof xs)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),lu(v.mutation,p,v.mutation.getFieldMask(),ot.now())):c.set(p.key,xn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>m.set(p,new n4(v,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=ou();let o=new ft(((c,m)=>c-m)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let v=r.get(g)||xn.empty();v=m.applyToLocalView(p,v),r.set(g,v);const E=(o.get(m.batchId)||je()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,E=RS();v.forEach((b=>{if(!l.has(b)){const R=DS(n.get(b),r.get(b));R!==null&&E.set(b,R),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ie.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):ie.resolve(ua());let m=mu,g=l;return c.next((p=>ie.forEach(p,((v,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{g=g.insert(v,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,je()))).next((v=>({batchId:m,changes:wS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=eu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=eu();return this.indexManager.getCollectionParents(e,l).next((m=>ie.forEach(m,(g=>{const p=(function(E,b){return new Uo(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((v=>{v.forEach(((E,b)=>{c=c.insert(E,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((g,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let m=eu();return c.forEach(((g,p)=>{const v=l.get(g);v!==void 0&&lu(v.mutation,p,xn.empty(),ot.now()),bf(n,p)&&(m=m.insert(g,p))})),m}))}}class r4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KD(o.bundledQuery),readTime:Bi(o.readTime)}})(n)),ie.resolve()}}class s4{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return ie.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=ua(),l=n.length+1,c=new pe(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new ft(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=ua(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=ua(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,v)=>m.set(p,v))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bD(n,r));let l=this.qr.get(n);l===void 0&&(l=je(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class a4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class xp{constructor(){this.Qr=new zt(qt.$r),this.Ur=new zt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new rt([])),r=new qt(n,e),o=new qt(n,e+1),l=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new rt([])),r=new qt(n,e),o=new qt(n,e+1);let l=je();return this.Ur.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new qt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class o4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SD(l,n,r,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),l=o<0?0:o;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],(c=>{const m=this.Xr(c.Yr);l.push(m)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Le);return n.forEach((o=>{const l=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;pe.isDocumentKey(l)||(l=l.child(""));const c=new qt(new pe(l),0);let m=new zt(Le);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const l=new qt(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qt(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class l4{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():sn.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=br();const c=n.path,m=new pe(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||LI(kI(v),r)<=0||(o.has(v.key)||bf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Se(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new u4(this)}getSize(e){return ie.resolve(this.size)}}class u4 extends t4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class c4{constructor(e){this.persistence=e,this.si=new Ea((n=>Tp(n)),Ep),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new xp,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(l).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class qS{constructor(e,n){this.ui={},this.overlays={},this.ci=new vf(0),this.li=!1,this.li=!0,this.hi=new a4,this.referenceDelegate=e(this),this.Pi=new c4(this),this.indexManager=new YD,this.remoteDocumentCache=(function(o){return new l4(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $D(n),this.Ii=new r4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new o4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const o=new h4(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class h4 extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Ri=new xp,this.Vi=null}static mi(e){return new Np(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((l=>{l||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.pi=new Ea((r=>HI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=e4(this,n)}static mi(e,n){return new nf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((l=>l?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(r++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ip{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=je(),o=je();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ip(e,n.fromCache,r,o)}}class f4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class d4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qC()?8:zI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new f4;return this.Ss(e,n,c).next((m=>{if(l.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>l.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(go()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(go()<=ke.DEBUG&&ce("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(go()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):ie.resolve())}ys(e,n){if(jT(n))return ie.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ig(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=je(...l);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,c,g.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,r,o){return jT(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,o)?ie.resolve(null):(go()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(e,c,n,PI(o,mu)).next((m=>m)))}))}Ds(e,n){let r=new zt(SS(e));return n.forEach(((o,l)=>{bf(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,r){return go()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",po(n)),this.ps.getDocumentsMatchingQuery(e,n,vs.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Dp="LocalStore",m4=3e8;class g4{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ft(Le),this.xs=new Ea((l=>Tp(l)),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function p4(t,e,n,r){return new g4(t,e,n,r)}async function GS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],m=[];let g=je();for(const p of o){c.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(r,g).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function y4(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,v){const E=p.batch,b=E.keys();let R=ie.resolve();return b.forEach((I=>{R=R.next((()=>v.getEntry(g,I))).next((z=>{const N=p.docVersions.get(I);Ye(N!==null,48541),z.version.compareTo(N)<0&&(E.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function $S(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _4(t,e){const n=Ae(t),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((v,E)=>{const b=o.get(E);if(!b)return;m.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,E))));let R=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),o=o.insert(E,R),(function(z,N,B){return z.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=m4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(b,R,v)&&m.push(n.Pi.updateTargetData(l,R))}));let g=br(),p=je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),m.push(v4(l,c,e.documentUpdates).next((v=>{g=v.ks,p=v.qs}))),!r.isEqual(we.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));m.push(v)}return ie.waitFor(m).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(n.Ms=o,l)))}function v4(t,e,n){let r=je(),o=je();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=br();return n.forEach(((m,g)=>{const p=l.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):ce(Dp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function T4(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function E4(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((l=>l?(o=l,ie.resolve(o)):n.Pi.allocateTargetId(r).next((c=>(o=new hs(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Pg(t,e,n){const r=Ae(t),o=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!jo(c))throw c;ce(Dp,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function WT(t,e,n){const r=Ae(t);let o=we.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,v){const E=Ae(g),b=E.xs.get(v);return b!==void 0?ie.resolve(E.Ms.get(b)):E.Pi.getTargetData(p,v)})(r,c,zi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,m.targetId).next((g=>{l=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?o:we.min(),n?l:je()))).next((m=>(S4(r,oD(e),m),{documents:m,Qs:l})))))}function S4(t,e,n){let r=t.Os.get(e)||we.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class ZT{constructor(){this.activeTargetIds=dD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b4{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w4{Oo(e){}shutdown(){}}const JT="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(JT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(JT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Th=null;function kg(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}const eg="RestConnection",R4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Xh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,l){const c=kg(),m=this.zo(e,n.toUriEncodedString());ce(eg,`Sending RPC '${e}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:p}=new URL(m),v=_a(p);return this.Jo(e,m,g,r,v).then((E=>(ce(eg,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Ao(eg,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",r),E}))}Ho(e,n,r,o,l,c){return this.Go(e,n,r,o,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),r&&r.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const r=R4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class C4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class x4 extends A4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,l){const c=kg();return new Promise(((m,g)=>{const p=new Q1;p.setWithCredentials(!0),p.listenOnce(X1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mh.NO_ERROR:const E=p.getResponseJson();ce(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case Mh.TIMEOUT:ce(tn,`RPC '${e}' ${c} timed out`),g(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Mh.HTTP_ERROR:const b=p.getStatus();if(ce(tn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R?.error;if(I&&I.status&&I.message){const z=(function(B){const $=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN})(I.status);g(new ue(z,I.message))}else g(new ue(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(tn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);ce(tn,`RPC '${e}' ${c} sending request:`,o),p.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=kg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=J1(),m=Z1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const v=l.join("");ce(tn,`Creating RPC '${e}' stream ${o}: ${v}`,g);const E=c.createWebChannel(v,g);this.I_(E);let b=!1,R=!1;const I=new C4({Yo:N=>{R?ce(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(b||(ce(tn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),ce(tn,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Zo:()=>E.close()}),z=(N,B,$)=>{N.listen(B,(X=>{try{$(X)}catch(le){setTimeout((()=>{throw le}),0)}}))};return z(E,Jl.EventType.OPEN,(()=>{R||(ce(tn,`RPC '${e}' stream ${o} transport opened.`),I.o_())})),z(E,Jl.EventType.CLOSE,(()=>{R||(R=!0,ce(tn,`RPC '${e}' stream ${o} transport closed`),I.a_(),this.E_(E))})),z(E,Jl.EventType.ERROR,(N=>{R||(R=!0,Ao(tn,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),I.a_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),z(E,Jl.EventType.MESSAGE,(N=>{if(!R){const B=N.data[0];Ye(!!B,16349);const $=B,X=$?.error||$[0]?.error;if(X){ce(tn,`RPC '${e}' stream ${o} received error:`,X);const le=X.status;let oe=(function(x){const M=It[x];if(M!==void 0)return OS(M)})(le),me=X.message;oe===void 0&&(oe=ne.INTERNAL,me="Unknown error status: "+le+" with message "+X.message),R=!0,I.a_(new ue(oe,me)),E.close()}else ce(tn,`RPC '${e}' stream ${o} received:`,B),I.u_(B)}})),z(m,W1.STAT_EVENT,(N=>{N.stat===bg.PROXY?ce(tn,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===bg.NOPROXY&&ce(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function tg(){return typeof document<"u"?document:null}function Cf(t){return new MD(t,!0)}class KS{constructor(e,n,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const tE="PersistentStream";class YS{constructor(e,n,r,o,l,c,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ue(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N4 extends YS{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PD(this.serializer,e),r=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Bi(c.readTime):we.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Vg(this.serializer),n.addTarget=(function(l,c){let m;const g=c.target;if(m=xg(g)?{documents:jD(l,g)}:{query:UD(l,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=kS(l,c.resumeToken);const p=Dg(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=tf(l,c.snapshotVersion.toTimestamp());const p=Dg(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=BD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.q_(n)}}class I4 extends YS{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LD(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>kD(this.serializer,r)))};this.q_(n)}}class D4{}class M4 extends D4{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Mg(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(ne.UNKNOWN,l.toString())}))}Ho(e,n,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Mg(n,r),o,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class O4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class V4{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Sa(this)&&(ce(pa,"Restarting streams for network reachability change."),await(async function(g){const p=Ae(g);p.Ea.add(4),await Mu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await xf(p)})(this))}))})),this.Ra=new O4(r,o)}}async function xf(t){if(Sa(t))for(const e of t.da)await e(!0)}async function Mu(t){for(const e of t.da)await e(!1)}function QS(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pp(n)?Vp(n):zo(n).O_()&&Op(n,e))}function Mp(t,e){const n=Ae(t),r=zo(n);n.Ia.delete(e),r.O_()&&XS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Sa(n)&&n.Ra.set("Unknown"))}function Op(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).Y_(e)}function XS(t,e){t.Va.Ue(e),zo(t).Z_(e)}function Vp(t){t.Va=new xD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.Ra.ua()}function Pp(t){return Sa(t)&&!zo(t).x_()&&t.Ia.size>0}function Sa(t){return Ae(t).Ea.size===0}function WS(t){t.Va=void 0}async function P4(t){t.Ra.set("Online")}async function k4(t){t.Ia.forEach(((e,n)=>{Op(t,e)}))}async function L4(t,e){WS(t),Pp(t)?(t.Ra.ha(e),Vp(t)):t.Ra.set("Unknown")}async function j4(t,e,n){if(t.Ra.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(t,e)}catch(r){ce(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof kh?t.Va.Ze(e):e instanceof VS?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await $S(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const v=l.Ia.get(g);if(!v)return;l.Ia.set(g,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),XS(l,g);const E=new hs(v.target,g,p,v.sequenceNumber);Op(l,E)})),l.remoteSyncer.applyRemoteEvent(m)})(t,n)}catch(r){ce(pa,"Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!jo(e))throw e;t.Ea.add(1),await Mu(t),t.Ra.set("Offline"),n||(n=()=>$S(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ce(pa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xf(t)}))}function ZS(t,e){return e().catch((n=>rf(t,n,e)))}async function Nf(t){const e=Ae(t),n=bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;U4(e);)try{const o=await T4(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,z4(e,o)}catch(o){await rf(e,o)}JS(e)&&eb(e)}function U4(t){return Sa(t)&&t.Ta.length<10}function z4(t,e){t.Ta.push(e);const n=bs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return Sa(t)&&!bs(t).x_()&&t.Ta.length>0}function eb(t){bs(t).start()}async function B4(t){bs(t).ra()}async function H4(t){const e=bs(t);for(const n of t.Ta)e.ea(n.mutations)}async function F4(t,e,n){const r=t.Ta.shift(),o=Rp.from(r,e,n);await ZS(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Nf(t)}async function q4(t,e){e&&bs(t).X_&&await(async function(r,o){if((function(c){return RD(c)&&c!==ne.ABORTED})(o.code)){const l=r.Ta.shift();bs(r).B_(),await ZS(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Nf(r)}})(t,e),JS(t)&&eb(t)}async function nE(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ce(pa,"RemoteStore received new credentials");const r=Sa(n);n.Ea.add(3),await Mu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xf(n)}async function G4(t,e){const n=Ae(t);e?(n.Ea.delete(2),await xf(n)):e||(n.Ea.add(2),await Mu(n),n.Ra.set("Unknown"))}function zo(t){return t.ma||(t.ma=(function(n,r,o){const l=Ae(n);return l.sa(),new N4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:P4.bind(null,t),t_:k4.bind(null,t),r_:L4.bind(null,t),H_:j4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Pp(t)?Vp(t):t.Ra.set("Unknown")):(await t.ma.stop(),WS(t))}))),t.ma}function bs(t){return t.fa||(t.fa=(function(n,r,o){const l=Ae(n);return l.sa(),new I4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:B4.bind(null,t),r_:q4.bind(null,t),ta:H4.bind(null,t),na:F4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Nf(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(pa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class kp{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,m=new kp(e,n,c,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),jo(t))return new ue(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class iE{constructor(){this.ga=new ft(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Do{constructor(e,n,r,o,l,c,m,g,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Do(e,n,bo.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class $4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class K4{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),l=o.queries;o.queries=rE(),l.forEach(((c,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function rE(){return new Ea((t=>ES(t)),Sf)}async function Y4(t,e){const n=Ae(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new $4,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Lp(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&jp(n)}async function Q4(t,e){const n=Ae(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function X4(t,e){const n=Ae(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(r=!0);c.wa=o}}r&&jp(n)}function W4(t,e,n){const r=Ae(t),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);r.queries.delete(e)}function jp(t){t.Ca.forEach((e=>{e.next()}))}var Lg,sE;(sE=Lg||(Lg={})).Ma="default",sE.Cache="cache";class Z4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lg.Cache}}class tb{constructor(e){this.key=e}}class nb{constructor(e){this.key=e}}class J4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=SS(e),this.tu=new bo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new iE,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,E)=>{const b=o.get(v),R=bf(this.query,E)?E:null,I=!!b&&this.mutatedKeys.has(b.key),z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;b&&R?b.data.isEqual(R.data)?I!==z&&(r.track({type:3,doc:R}),N=!0):this.su(b,R)||(r.track({type:2,doc:R}),N=!0,(g&&this.eu(R,g)>0||p&&this.eu(R,p)<0)&&(m=!0)):!b&&R?(r.track({type:0,doc:R}),N=!0):b&&!R&&(r.track({type:1,doc:b}),N=!0,(g||p)&&(m=!0)),N&&(R?(c=c.add(R),l=z?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:m,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(R,I){const z=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:N})}};return z(R)-z(I)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,c.length!==0||p?{snapshot:new Do(this.query,e.tu,l,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Up="SyncEngine";class eM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tM{constructor(e){this.key=e,this.hu=!1}}class nM{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ea((m=>ES(m)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new xp,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iM(t,e,n=!0){const r=lb(t);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await ib(r,e,n,!0),o}async function rM(t,e){const n=lb(t);await ib(n,e,!0,!1)}async function ib(t,e,n,r){const o=await E4(t.localStore,zi(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let m;return r&&(m=await sM(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&QS(t.remoteStore,o),m}async function sM(t,e,n,r,o){t.pu=(E,b,R)=>(async function(z,N,B,$){let X=N.view.ru(B);X.Cs&&(X=await WT(z.localStore,N.query,!1).then((({documents:O})=>N.view.ru(O,X))));const le=$&&$.targetChanges.get(N.targetId),oe=$&&$.targetMismatches.get(N.targetId)!=null,me=N.view.applyChanges(X,z.isPrimaryClient,le,oe);return oE(z,N.targetId,me.au),me.snapshot})(t,E,b,R);const l=await WT(t.localStore,e,!0),c=new J4(e,l.Qs),m=c.ru(l.documents),g=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(m,t.isPrimaryClient,g);oE(t,n,p.au);const v=new eM(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function aM(t,e,n){const r=Ae(t),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter((c=>!Sf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Pg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Mp(r.remoteStore,o.targetId),jg(r,o.targetId)})).catch(Lo)):(jg(r,o.targetId),await Pg(r.localStore,o.targetId,!0))}async function oM(t,e){const n=Ae(t),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mp(n.remoteStore,r.targetId))}async function lM(t,e,n){const r=gM(t);try{const o=await(function(c,m){const g=Ae(c),p=ot.now(),v=m.reduce(((R,I)=>R.add(I.key)),je());let E,b;return g.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let I=br(),z=je();return g.Ns.getEntries(R,v).next((N=>{I=N,I.forEach(((B,$)=>{$.isValidDocument()||(z=z.add(B))}))})).next((()=>g.localDocuments.getOverlayedDocuments(R,I))).next((N=>{E=N;const B=[];for(const $ of m){const X=TD($,E.get($.key).overlayedDocument);X!=null&&B.push(new xs($.key,X,dS(X.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(R,p,B,m)})).next((N=>{b=N;const B=N.applyToLocalDocumentSet(E,z);return g.documentOverlayCache.saveOverlays(R,N.batchId,B)}))})).then((()=>({batchId:b.batchId,changes:wS(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,m,g){let p=c.Vu[c.currentUser.toKey()];p||(p=new ft(Le)),p=p.insert(m,g),c.Vu[c.currentUser.toKey()]=p})(r,o.batchId,n),await Ou(r,o.changes),await Nf(r.remoteStore)}catch(o){const l=Lp(o,"Failed to persist write");n.reject(l)}}async function rb(t,e){const n=Ae(t);try{const r=await _4(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Au.get(l);c&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ye(c.hu,14607):o.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await Ou(n,r,e)}catch(r){await Lo(r)}}function aE(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const g=Ae(c);g.onlineState=m;let p=!1;g.queries.forEach(((v,E)=>{for(const b of E.Sa)b.va(m)&&(p=!0)})),p&&jp(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uM(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),l=o&&o.key;if(l){let c=new ft(pe.comparator);c=c.insert(l,sn.newNoDocument(l,we.min()));const m=je().add(l),g=new Af(we.min(),new Map,new ft(Le),c,m);await rb(r,g),r.du=r.du.remove(l),r.Au.delete(e),zp(r)}else await Pg(r.localStore,e,!1).then((()=>jg(r,e,n))).catch(Lo)}async function cM(t,e){const n=Ae(t),r=e.batch.batchId;try{const o=await y4(n.localStore,e);ab(n,r,null),sb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(n,o)}catch(o){await Lo(o)}}async function hM(t,e,n){const r=Ae(t);try{const o=await(function(c,m){const g=Ae(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next((E=>(Ye(E!==null,37113),v=E.keys(),g.mutationQueue.removeMutationBatch(p,E)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>g.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);ab(r,e,n),sb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ou(r,o)}catch(o){await Lo(o)}}function sb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ab(t,e,n){const r=Ae(t);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ob(t,r)}))}function ob(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Mp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zp(t))}function oE(t,e,n){for(const r of n)r instanceof tb?(t.Ru.addReference(r.key,e),fM(t,r)):r instanceof nb?(ce(Up,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ob(t,r.key)):Se(19791,{wu:r})}function fM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Up,"New document in limbo: "+n),t.Eu.add(r),zp(t))}function zp(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new pe(rt.fromString(e)),r=t.fu.next();t.Au.set(r,new tM(n)),t.du=t.du.insert(n,r),QS(t.remoteStore,new hs(zi(Sp(n.path)),r,"TargetPurposeLimboResolution",vf.ce))}}async function Ou(t,e,n){const r=Ae(t),o=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Ip.As(g.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(g,p){const v=Ae(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(p,(b=>ie.forEach(b.Es,(R=>v.persistence.referenceDelegate.addReference(E,b.targetId,R))).next((()=>ie.forEach(b.ds,(R=>v.persistence.referenceDelegate.removeReference(E,b.targetId,R)))))))))}catch(E){if(!jo(E))throw E;ce(Dp,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const R=v.Ms.get(b),I=R.snapshotVersion,z=R.withLastLimboFreeSnapshotVersion(I);v.Ms=v.Ms.insert(b,z)}}})(r.localStore,l))}async function dM(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ce(Up,"User change. New user:",e.toKey());const r=await GS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new ue(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(n,r.Ls)}}function mM(t,e){const n=Ae(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function lb(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.Pu.H_=X4.bind(null,e.eventManager),e.Pu.yu=W4.bind(null,e.eventManager),e}function gM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hM.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p4(this.persistence,new d4,e.initialUser,this.serializer)}Cu(e){return new qS(Np.mi,this.serializer)}Du(e){return new b4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class pM extends sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new qS((r=>nf.mi(r,n)),this.serializer)}}class Ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K4})()}createDatastore(e){const n=Cf(e.databaseInfo.databaseId),r=(function(l){return new x4(l)})(e.databaseInfo);return(function(l,c,m,g){return new M4(l,c,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,m){return new V4(r,o,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>aE(this.syncEngine,n,0)),(function(){return eE.v()?new eE:new w4})())}createSyncEngine(e,n){return(function(o,l,c,m,g,p,v){const E=new nM(o,l,c,m,g,p);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ae(n);ce(pa,"RemoteStore shutting down."),r.Ea.add(5),await Mu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ug.provider={build:()=>new Ug};class yM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class _M{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ce(ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ce(ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ng(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await GS(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vM(t);ce(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>nE(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>nE(e.remoteStore,o))),t._onlineComponents=e}async function vM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ws,"Using user provided OfflineComponentProvider");try{await ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await ng(t,new sf)}}else ce(ws,"Using default OfflineComponentProvider"),await ng(t,new pM(void 0));return t._offlineComponents}async function ub(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ws,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(ce(ws,"Using default OnlineComponentProvider"),await lE(t,new Ug))),t._onlineComponents}function TM(t){return ub(t).then((e=>e.syncEngine))}async function uE(t){const e=await ub(t),n=e.eventManager;return n.onListen=iM.bind(null,e.syncEngine),n.onUnlisten=aM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),n}function cb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const cE=new Map;const hb="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XD)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wI;switch(r.type){case"firstParty":return new xI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=cE.get(n);r&&(ce("ComponentProvider","Removing Datastore"),cE.delete(n),r.terminate())})(this),Promise.resolve()}}function EM(t,e,n,r={}){t=Ui(t,If);const o=_a(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},m=`${e}:${n}`;o&&(np(`https://${m}`),ip("Firestore",!0)),l.host!==hb&&l.host!==m&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:o,emulatorOptions:r};if(!fa(g,c)&&(t._setSettings(g),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=rn.MOCK_USER;else{p=u1(r.mockUserToken,t._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rn(E)}t._authCredentials=new RI(new tS(p,v))}}class ba{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nu(n,Tt._jsonSchema))return new Tt(e,r||null,new pe(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Mt("string",Tt._jsonSchemaVersion),referencePath:Mt("string")};class ys extends ba{constructor(e,n,r){super(e,n,Sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new pe(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function fb(t,e,...n){if(t=Ot(t),nS("collection","path",e),t instanceof If){const r=rt.fromString(e,...n);return wT(r),new ys(t,null,r)}{if(!(t instanceof Tt||t instanceof ys))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return wT(r),new ys(t.firestore,null,r)}}function Vu(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=pp.newId()),nS("doc","path",e),t instanceof If){const r=rt.fromString(e,...n);return bT(r),new Tt(t,null,new pe(r))}{if(!(t instanceof Tt||t instanceof ys))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return bT(r),new Tt(t.firestore,t instanceof ys?t.converter:null,new pe(r))}}const dE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KS(this,"async_queue_retry"),this._c=()=>{const r=tg();r&&ce(dE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=tg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;ce(dE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",gE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=kp.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function pE(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of r)if(l in o&&typeof o[l]=="function")return!0;return!1})(t,["next","error","complete"])}class ya extends If{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new mE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function SM(t,e){const n=typeof t=="object"?t:ap(),r=typeof t=="string"?t:Xh,o=df(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=a1("firestore");l&&EM(o,...l)}return o}function db(t){if(t._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bM(t),t._firestoreClient}function bM(t){const e=t._freezeSettings(),n=(function(o,l,c,m){return new GI(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _M(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Jt.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Mt("string",Gn._jsonSchemaVersion),bytes:Mt("string")};class Df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Mt("string",Hi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Mt("string",Fi._jsonSchemaVersion),vectorValues:Mt("object")};const wM=/^__.*__$/;class RM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Hp{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gb(this.Ac)&&wM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cf(e)}Cc(e,n,r,o=!1){return new Hp({Ac:e,methodName:n,Dc:r,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(t){const e=t._freezeSettings(),n=Cf(t._databaseId);return new AM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pb(t,e,n,r,o,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",c,r);const m=yb(r,c);let g,p;if(l.merge)g=new xn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const b=zg(e,E,n);if(!c.contains(b))throw new ue(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vb(v,b)||v.push(b)}g=new xn(v),p=c.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,p=c.fieldTransforms;return new RM(new _n(m),g,p)}class Of extends Bp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Of}}function CM(t,e,n,r){const o=t.Cc(1,e,n);Fp("Data must be an object, but it was:",o,r);const l=[],c=_n.empty();Cs(r,((g,p)=>{const v=qp(e,g,n);p=Ot(p);const E=o.yc(v);if(p instanceof Of)l.push(v);else{const b=Pu(p,E);b!=null&&(l.push(v),c.set(v,b))}}));const m=new xn(l);return new mb(c,m,o.fieldTransforms)}function xM(t,e,n,r,o,l){const c=t.Cc(1,e,n),m=[zg(e,r,n)],g=[o];if(l.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(zg(e,l[b])),g.push(l[b+1]);const p=[],v=_n.empty();for(let b=m.length-1;b>=0;--b)if(!vb(p,m[b])){const R=m[b];let I=g[b];I=Ot(I);const z=c.yc(R);if(I instanceof Of)p.push(R);else{const N=Pu(I,z);N!=null&&(p.push(R),v.set(R,N))}}const E=new xn(p);return new mb(v,E,c.fieldTransforms)}function NM(t,e,n,r=!1){return Pu(n,t.Cc(r?4:3,e))}function Pu(t,e){if(_b(t=Ot(t)))return Fp("Unsupported field value:",e,t),yb(t,e);if(t instanceof Bp)return(function(r,o){if(!gb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const m of r){let g=Pu(m,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ot.fromDate(r);return{timestampValue:tf(o.serializer,l)}}if(r instanceof ot){const l=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tf(o.serializer,l)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:kS(o.serializer,r._byteString)};if(r instanceof Tt){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,m){return{mapValue:{fields:{[hS]:{stringValue:fS},[Wh]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return bp(m.serializer,p)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${_f(r)}`)})(t,e)}function yb(t,e){const n={};return sS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,((r,o)=>{const l=Pu(o,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function _b(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Hi||t instanceof Gn||t instanceof Tt||t instanceof Bp||t instanceof Fi)}function Fp(t,e,n){if(!_b(n)||!iS(n)){const r=_f(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zg(t,e,n){if((e=Ot(e))instanceof Df)return e._internalPath;if(typeof e=="string")return qp(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,n)}const IM=new RegExp("[~\\*/\\[\\]]");function qp(t,e,n){if(e.search(IM)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Df(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function af(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${o}`),g+=")"),new ue(ne.INVALID_ARGUMENT,m+t+g)}function vb(t,e){return t.some((n=>n.isEqual(e)))}class Tb{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DM extends Tb{data(){return super.data()}}function Gp(t,e){return typeof e=="string"?qp(t,e):e instanceof Df?e._internalPath:e._delegate._internalPath}function MM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class Eb extends $p{}function OM(t,e,...n){let r=[];e instanceof $p&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((g=>g instanceof Yp)).length,m=l.filter((g=>g instanceof Kp)).length;if(c>1||c>0&&m>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Kp extends Eb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kp(e,n,r)}_apply(e){const n=this._parse(e);return Sb(e._query,n),new ba(e.firestore,e.converter,Ng(e._query,n))}_parse(e){const n=Mf(e.firestore);return(function(l,c,m,g,p,v,E){let b;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){_E(E,v);const I=[];for(const z of E)I.push(yE(g,l,z));b={arrayValue:{values:I}}}else b=yE(g,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||_E(E,v),b=NM(m,c,E,v==="in"||v==="not-in");return Dt.create(p,v,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const m=l.getFlattenedFilters();for(const g of m)Sb(c,g),c=Ng(c,g)})(e._query,n),new ba(e.firestore,e.converter,Ng(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qp extends Eb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qp(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(l,c)})(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Uo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function VM(t,e="asc"){const n=e,r=Gp("orderBy",t);return Qp._create(r,n)}function yE(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!pe.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return MT(t,new pe(r))}if(n instanceof Tt)return MT(t,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function _E(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sb(t,e){const n=(function(o,l){for(const c of o)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PM{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cs(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[Wh].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new Hi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Ye(HS(r),9688,{name:e});const o=new pu(r.get(1),r.get(3)),l=new pe(r.popFirst(5));return o.isEqual(n)||Sr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function bb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends Tb{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Mt("string",ha._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Lh extends ha{data(e={}){return super.data(e)}}class wo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lh(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const g=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new Lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:kM(m.type),doc:g,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Mt("string",wo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class wb extends PM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function LM(t,e,n){t=Ui(t,Tt);const r=Ui(t.firestore,ya),o=bb(t.converter,e,n);return Vf(r,[pb(Mf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,$n.none())])}function jM(t,e,n,...r){t=Ui(t,Tt);const o=Ui(t.firestore,ya),l=Mf(o);let c;return c=typeof(e=Ot(e))=="string"||e instanceof Df?xM(l,"updateDoc",t._key,e,n,r):CM(l,"updateDoc",t._key,e),Vf(o,[c.toMutation(t._key,$n.exists(!0))])}function UM(t){return Vf(Ui(t.firestore,ya),[new wp(t._key,$n.none())])}function zM(t,e){const n=Ui(t.firestore,ya),r=Vu(t),o=bb(t.converter,e);return Vf(n,[pb(Mf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then((()=>r))}function Rb(t,...e){t=Ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||pE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(pE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let l,c,m;if(t instanceof Tt)c=Ui(t.firestore,ya),m=Sp(t._key.path),l={next:g=>{e[r]&&e[r](BM(c,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Ui(t,ba);c=Ui(g.firestore,ya),m=g._query;const p=new wb(c);l={next:v=>{e[r]&&e[r](new wo(c,p,g,v))},error:e[r+1],complete:e[r+2]},MM(t._query)}return(function(p,v,E,b){const R=new yM(b),I=new Z4(v,R,E);return p.asyncQueue.enqueueAndForget((async()=>Y4(await uE(p),I))),()=>{R.Nu(),p.asyncQueue.enqueueAndForget((async()=>Q4(await uE(p),I)))}})(db(c),m,o,l)}function Vf(t,e){return(function(r,o){const l=new ca;return r.asyncQueue.enqueueAndForget((async()=>lM(await TM(r),o,l))),l.promise})(db(t),e)}function BM(t,e,n){const r=n.docs.get(e._key),o=new wb(t);return new ha(t,o,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ko=o})(va),da(new _s("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),m=new ya(new AI(r.getProvider("auth-internal")),new NI(c,r.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(p.options.projectId,v)})(c,o),c);return l={useFetchStreams:n,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),ki(vT,TT,e),ki(vT,TT,"esm2020")})();const Ab="firebasestorage.googleapis.com",HM="storageBucket",FM=120*1e3,qM=600*1e3;class Yi extends Ki{constructor(e,n,r=0){super(ig(e),`Firebase Storage: ${n} (${ig(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gi||(Gi={}));function ig(t){return"storage/"+t}function GM(){const t="An unknown error occurred, please check the error payload for server response.";return new Yi(Gi.UNKNOWN,t)}function $M(){return new Yi(Gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KM(){return new Yi(Gi.CANCELED,"User canceled the upload/download.")}function YM(t){return new Yi(Gi.INVALID_URL,"Invalid URL '"+t+"'.")}function QM(t){return new Yi(Gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vE(t){return new Yi(Gi.INVALID_ARGUMENT,t)}function Cb(){return new Yi(Gi.APP_DELETED,"The Firebase app was deleted.")}function XM(t){return new Yi(Gi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oi.makeFromUrl(e,n)}catch{return new oi(e,"")}if(r.path==="")return r;throw QM(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),g={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${v}/b/${o}/o${b}`,"i"),I={bucket:1,path:3},z=n===Ab?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",B=new RegExp(`^https?://${z}/${o}/${N}`,"i"),X=[{regex:m,indices:g,postModify:l},{regex:R,indices:I,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<X.length;le++){const oe=X[le],me=oe.regex.exec(e);if(me){const O=me[oe.indices.bucket];let x=me[oe.indices.path];x||(x=""),r=new oi(O,x),oe.postModify(r);break}}if(r==null)throw YM(e);return r}}class WM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZM(t,e,n){let r=1,o=null,l=null,c=!1,m=0;function g(){return m===2}let p=!1;function v(...N){p||(p=!0,e.apply(null,N))}function E(N){o=setTimeout(()=>{o=null,t(R,g())},N)}function b(){l&&clearTimeout(l)}function R(N,...B){if(p){b();return}if(N){b(),v.call(null,N,...B);return}if(g()||c){b(),v.call(null,N,...B);return}r<64&&(r*=2);let X;m===1?(m=2,X=0):X=(r+Math.random())*1e3,E(X)}let I=!1;function z(N){I||(I=!0,b(),!p&&(o!==null?(N||(m=2),clearTimeout(o),E(0)):N||(m=1)))}return E(0),l=setTimeout(()=>{c=!0,z(!0)},n),z}function JM(t){t(!1)}function eO(t){return t!==void 0}function TE(t,e,n,r){if(r<e)throw vE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vE(`Invalid value for '${t}'. Expected ${n} or less.`)}function tO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(of||(of={}));function nO(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||o||l}class iO{constructor(e,n,r,o,l,c,m,g,p,v,E,b=!0,R=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=E,this.retry=b,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,z)=>{this.resolve_=I,this.reject_=z,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Eh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const m=l.getErrorCode()===of.NO_ERROR,g=l.getStatus();if(!m||nO(g,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===of.ABORT;r(!1,new Eh(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;r(!0,new Eh(p,l))})},n=(r,o)=>{const l=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());eO(g)?l(g):l()}catch(g){c(g)}else if(m!==null){const g=GM();g.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,g)):c(g)}else if(o.canceled){const g=this.appDelete_?Cb():KM();c(g)}else{const g=$M();c(g)}};this.canceled_?n(!1,new Eh(!1,null,!0)):this.backoffId_=ZM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function rO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lO(t,e,n,r,o,l,c=!0,m=!1){const g=tO(t.urlParams),p=t.url+g,v=Object.assign({},t.headers);return aO(v,e),rO(v,n),sO(v,l),oO(v,r),new iO(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c,m)}function uO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class lf{constructor(e,n){this._service=e,n instanceof oi?this._location=n:this._location=oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cO(this._location.path)}get storage(){return this._service}get parent(){const e=uO(this._location.path);if(e===null)return null;const n=new oi(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XM(e)}}function EE(t,e){const n=e?.[HM];return n==null?null:oi.makeFromBucketSpec(n,t)}function hO(t,e,n,r={}){t.host=`${e}:${n}`;const o=_a(e);o&&(np(`https://${t.host}/b`),ip("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:u1(l,t.app.options.projectId))}class fO{constructor(e,n,r,o,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Ab,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FM,this._maxUploadRetryTime=qM,this._requests=new Set,o!=null?this._bucket=oi.makeFromBucketSpec(o,this._host):this._bucket=EE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oi.makeFromBucketSpec(this._url,e):this._bucket=EE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){TE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,o,l=!0){if(this._deleted)return new WM(Cb());{const c=lO(e,this._appId,r,o,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const SE="@firebase/storage",bE="0.14.0";const xb="storage";function dO(t=ap(),e){t=Ot(t);const r=df(t,xb).getImmediate({identifier:e}),o=a1("storage");return o&&mO(r,...o),r}function mO(t,e,n,r={}){hO(t,e,n,r)}function gO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new fO(n,r,o,e,va)}function pO(){da(new _s(xb,gO,"PUBLIC").setMultipleInstances(!0)),ki(SE,bE,""),ki(SE,bE,"esm2020")}pO();const yO={apiKey:"AIzaSyAtZ2GAFRhbkYKxa6ObUwvKziQvvh7b-AE",authDomain:"pagoda-e927e.firebaseapp.com",projectId:"pagoda-e927e",storageBucket:"pagoda-e927e.firebasestorage.app",messagingSenderId:"755960810296",appId:"1:755960810296:web:317fcaca00f25112058fcd",measurementId:"G-2HD6RG2N5P"},Xp=f1(yO),Bo=SM(Xp),rg=TI(Xp);dO(Xp);const Nb=L.createContext();function ku(){return L.useContext(Nb)}function _O({children:t}){const[e,n]=L.useState(null),[r,o]=L.useState(!0);function l(g,p){return sN(rg,g,p)}function c(){return uN(rg)}L.useEffect(()=>lN(rg,p=>{n(p),o(!1)}),[]);const m={currentUser:e,login:l,logout:c,isAdmin:!!e};return _.jsx(Nb.Provider,{value:m,children:!r&&t})}let vO={data:""},TO=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||vO},EO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SO=/\/\*[^]*?\*\/|  +/g,wE=/\n+/g,cs=(t,e)=>{let n="",r="",o="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":r+=l[1]=="f"?cs(c,l):l+"{"+cs(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=cs(c,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,m):m?m+" "+g:g)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=cs.p?cs.p(l,c):l+":"+c+";")}return n+(e&&o?e+"{"+o+"}":o)+r},mr={},Ib=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Ib(t[n]);return e}return t},bO=(t,e,n,r,o)=>{let l=Ib(t),c=mr[l]||(mr[l]=(g=>{let p=0,v=11;for(;p<g.length;)v=101*v+g.charCodeAt(p++)>>>0;return"go"+v})(l));if(!mr[c]){let g=l!==t?t:(p=>{let v,E,b=[{}];for(;v=EO.exec(p.replace(SO,""));)v[4]?b.shift():v[3]?(E=v[3].replace(wE," ").trim(),b.unshift(b[0][E]=b[0][E]||{})):b[0][v[1]]=v[2].replace(wE," ").trim();return b[0]})(t);mr[c]=cs(o?{["@keyframes "+c]:g}:g,n?"":"."+c)}let m=n&&mr.g?mr.g:null;return n&&(mr.g=mr[c]),((g,p,v,E)=>{E?p.data=p.data.replace(E,g):p.data.indexOf(g)===-1&&(p.data=v?g+p.data:p.data+g)})(mr[c],e,r,m),c},wO=(t,e,n)=>t.reduce((r,o,l)=>{let c=e[l];if(c&&c.call){let m=c(n),g=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=g?"."+g:m&&typeof m=="object"?m.props?"":cs(m,""):m===!1?"":m}return r+o+(c??"")},"");function Pf(t){let e=this||{},n=t.call?t(e.p):t;return bO(n.unshift?n.raw?wO(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,TO(e.target),e.g,e.o,e.k)}let Db,Bg,Hg;Pf.bind({g:1});let wr=Pf.bind({k:1});function RO(t,e,n,r){cs.p=e,Db=t,Bg=n,Hg=r}function Ns(t,e){let n=this||{};return function(){let r=arguments;function o(l,c){let m=Object.assign({},l),g=m.className||o.className;n.p=Object.assign({theme:Bg&&Bg()},m),n.o=/ *go\d+/.test(g),m.className=Pf.apply(n,r)+(g?" "+g:"");let p=t;return t[0]&&(p=m.as||t,delete m.as),Hg&&p[0]&&Hg(m),Db(p,m)}return o}}var AO=t=>typeof t=="function",uf=(t,e)=>AO(t)?t(e):t,CO=(()=>{let t=0;return()=>(++t).toString()})(),Mb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),xO=20,Wp="default",Ob=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return Ob(t,{type:t.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:o}=e;return{...t,toasts:t.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},jh=[],Vb={toasts:[],pausedAt:void 0,settings:{toastLimit:xO}},Pi={},Pb=(t,e=Wp)=>{Pi[e]=Ob(Pi[e]||Vb,t),jh.forEach(([n,r])=>{n===e&&r(Pi[e])})},kb=t=>Object.keys(Pi).forEach(e=>Pb(t,e)),NO=t=>Object.keys(Pi).find(e=>Pi[e].toasts.some(n=>n.id===t)),kf=(t=Wp)=>e=>{Pb(e,t)},IO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DO=(t={},e=Wp)=>{let[n,r]=L.useState(Pi[e]||Vb),o=L.useRef(Pi[e]);L.useEffect(()=>(o.current!==Pi[e]&&r(Pi[e]),jh.push([e,r]),()=>{let c=jh.findIndex(([m])=>m===e);c>-1&&jh.splice(c,1)}),[e]);let l=n.toasts.map(c=>{var m,g,p;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((m=t[c.type])==null?void 0:m.removeDelay)||t?.removeDelay,duration:c.duration||((g=t[c.type])==null?void 0:g.duration)||t?.duration||IO[c.type],style:{...t.style,...(p=t[c.type])==null?void 0:p.style,...c.style}}});return{...n,toasts:l}},MO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||CO()}),Lu=t=>(e,n)=>{let r=MO(e,t,n);return kf(r.toasterId||NO(r.id))({type:2,toast:r}),r.id},jt=(t,e)=>Lu("blank")(t,e);jt.error=Lu("error");jt.success=Lu("success");jt.loading=Lu("loading");jt.custom=Lu("custom");jt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?kf(e)(n):kb(n)};jt.dismissAll=t=>jt.dismiss(void 0,t);jt.remove=(t,e)=>{let n={type:4,toastId:t};e?kf(e)(n):kb(n)};jt.removeAll=t=>jt.remove(void 0,t);jt.promise=(t,e,n)=>{let r=jt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let l=e.success?uf(e.success,o):void 0;return l?jt.success(l,{id:r,...n,...n?.success}):jt.dismiss(r),o}).catch(o=>{let l=e.error?uf(e.error,o):void 0;l?jt.error(l,{id:r,...n,...n?.error}):jt.dismiss(r)}),t};var OO=1e3,VO=(t,e="default")=>{let{toasts:n,pausedAt:r}=DO(t,e),o=L.useRef(new Map).current,l=L.useCallback((E,b=OO)=>{if(o.has(E))return;let R=setTimeout(()=>{o.delete(E),c({type:4,toastId:E})},b);o.set(E,R)},[]);L.useEffect(()=>{if(r)return;let E=Date.now(),b=n.map(R=>{if(R.duration===1/0)return;let I=(R.duration||0)+R.pauseDuration-(E-R.createdAt);if(I<0){R.visible&&jt.dismiss(R.id);return}return setTimeout(()=>jt.dismiss(R.id,e),I)});return()=>{b.forEach(R=>R&&clearTimeout(R))}},[n,r,e]);let c=L.useCallback(kf(e),[e]),m=L.useCallback(()=>{c({type:5,time:Date.now()})},[c]),g=L.useCallback((E,b)=>{c({type:1,toast:{id:E,height:b}})},[c]),p=L.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),v=L.useCallback((E,b)=>{let{reverseOrder:R=!1,gutter:I=8,defaultPosition:z}=b||{},N=n.filter(X=>(X.position||z)===(E.position||z)&&X.height),B=N.findIndex(X=>X.id===E.id),$=N.filter((X,le)=>le<B&&X.visible).length;return N.filter(X=>X.visible).slice(...R?[$+1]:[0,$]).reduce((X,le)=>X+(le.height||0)+I,0)},[n]);return L.useEffect(()=>{n.forEach(E=>{if(E.dismissed)l(E.id,E.removeDelay);else{let b=o.get(E.id);b&&(clearTimeout(b),o.delete(E.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:g,startPause:m,endPause:p,calculateOffset:v}}},PO=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kO=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LO=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jO=Ns("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${LO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UO=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zO=Ns("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UO} 1s linear infinite;
`,BO=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HO=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,FO=Ns("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qO=Ns("div")`
  position: absolute;
`,GO=Ns("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$O=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KO=Ns("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$O} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,YO=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?L.createElement(KO,null,e):e:n==="blank"?null:L.createElement(GO,null,L.createElement(zO,{...r}),n!=="loading"&&L.createElement(qO,null,n==="error"?L.createElement(jO,{...r}):L.createElement(FO,{...r})))},QO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,WO="0%{opacity:0;} 100%{opacity:1;}",ZO="0%{opacity:1;} 100%{opacity:0;}",JO=Ns("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eV=Ns("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tV=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=Mb()?[WO,ZO]:[QO(n),XO(n)];return{animation:e?`${wr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},nV=L.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?tV(t.position||e||"top-center",t.visible):{opacity:0},l=L.createElement(YO,{toast:t}),c=L.createElement(eV,{...t.ariaProps},uf(t.message,t));return L.createElement(JO,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:l,message:c}):L.createElement(L.Fragment,null,l,c))});RO(L.createElement);var iV=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let l=L.useCallback(c=>{if(c){let m=()=>{let g=c.getBoundingClientRect().height;r(t,g)};m(),new MutationObserver(m).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return L.createElement("div",{ref:l,className:e,style:n},o)},rV=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Mb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},sV=Pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sh=16,aV=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,toasterId:l,containerStyle:c,containerClassName:m})=>{let{toasts:g,handlers:p}=VO(n,l);return L.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Sh,left:Sh,right:Sh,bottom:Sh,pointerEvents:"none",...c},className:m,onMouseEnter:p.startPause,onMouseLeave:p.endPause},g.map(v=>{let E=v.position||e,b=p.calculateOffset(v,{reverseOrder:t,gutter:r,defaultPosition:e}),R=rV(E,b);return L.createElement(iV,{id:v.id,key:v.id,onHeightUpdate:p.updateHeight,className:v.visible?sV:"",style:R},v.type==="custom"?uf(v.message,v):o?o(v):L.createElement(nV,{toast:v,position:E}))}))},Ut=jt;const oV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),RE=t=>{const e=lV(t);return e.charAt(0).toUpperCase()+e.slice(1)},Lb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),uV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hV=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...m},g)=>L.createElement("svg",{ref:g,...cV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Lb("lucide",o),...!l&&!uV(m)&&{"aria-hidden":"true"},...m},[...c.map(([p,v])=>L.createElement(p,v)),...Array.isArray(l)?l:[l]]));const Oe=(t,e)=>{const n=L.forwardRef(({className:r,...o},l)=>L.createElement(hV,{ref:l,iconNode:e,className:Lb(`lucide-${oV(RE(t))}`,`lucide-${t}`,r),...o}));return n.displayName=RE(t),n};const fV=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ql=Oe("arrow-up-down",fV);const dV=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],mV=Oe("award",dV);const gV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fg=Oe("bell",gV);const pV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yV=Oe("book-open",pV);const _V=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vV=Oe("briefcase",_V);const TV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],EV=Oe("calendar",TV);const SV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bV=Oe("chevron-left",SV);const wV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jb=Oe("chevron-right",wV);const RV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],AV=Oe("external-link",RV);const CV=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zp=Oe("file-text",CV);const xV=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],NV=Oe("folder",xV);const IV=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],DV=Oe("gamepad-2",IV);const MV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ub=Oe("house",MV);const OV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VV=Oe("image",OV);const PV=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],zb=Oe("link",PV);const kV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],AE=Oe("lock",kV);const LV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Bb=Oe("log-in",LV);const jV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UV=Oe("log-out",jV);const zV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BV=Oe("mail",zV);const HV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],FV=Oe("map-pin",HV);const qV=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Hb=Oe("music",qV);const GV=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Fb=Oe("network",GV);const $V=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],KV=Oe("pencil",$V);const YV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QV=Oe("phone",YV);const XV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qb=Oe("plus",XV);const WV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gb=Oe("search",WV);const ZV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],JV=Oe("settings",ZV);const e3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],t3=Oe("square-pen",e3);const n3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$b=Oe("trash-2",n3);const i3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CE=Oe("triangle-alert",i3);const r3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xE=Oe("user-plus",r3);const s3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kb=Oe("user",s3);const a3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yb=Oe("users",a3);const o3=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],l3=Oe("video",o3);const u3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],c3=Oe("wrench",u3);const h3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jp=Oe("x",h3);const f3=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],d3=Oe("youtube",f3);function m3({alertCount:t=0}){const{currentUser:e,logout:n,isAdmin:r}=ku(),o=Rr(),l=[{path:"/",label:"Trang Ch",icon:Ub},{path:"/org-chart",label:"S  T Chc",icon:Fb},{path:"/members",label:"Danh Sch",icon:Yb},{path:"/documents",label:"Ti Liu",icon:Zp}],c=g=>o.pathname===g,m=async()=>{try{await n()}catch(g){console.error("Logout error:",g)}};return _.jsxs("div",{className:"navbar bg-base-200 shadow-lg sticky top-0 z-50",children:[_.jsxs("div",{className:"navbar-start",children:[_.jsxs("div",{className:"dropdown",children:[_.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),_.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:l.map(g=>_.jsx("li",{children:_.jsxs(Fn,{to:g.path,className:c(g.path)?"active":"",children:[_.jsx(g.icon,{className:"w-4 h-4"}),g.label]})},g.path))})]}),_.jsxs(Fn,{to:"/",className:"btn btn-ghost text-xl",children:[_.jsx("span",{className:"text-primary",children:"GPT"})," Vnh An"]})]}),_.jsx("div",{className:"navbar-center hidden lg:flex",children:_.jsx("ul",{className:"menu menu-horizontal px-1",children:l.map(g=>_.jsx("li",{children:_.jsxs(Fn,{to:g.path,className:c(g.path)?"active bg-primary text-primary-content":"",children:[_.jsx(g.icon,{className:"w-4 h-4"}),g.label]})},g.path))})}),_.jsxs("div",{className:"navbar-end gap-2",children:[t>0&&_.jsx(Fn,{to:"/members?filter=alerts",className:"btn btn-ghost btn-circle",children:_.jsxs("div",{className:"indicator",children:[_.jsx(Fg,{className:"w-5 h-5"}),_.jsx("span",{className:"badge badge-sm badge-warning indicator-item",children:t})]})}),r?_.jsxs("div",{className:"dropdown dropdown-end",children:[_.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar placeholder",children:_.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10",children:_.jsx("span",{className:"text-sm",children:"QT"})})}),_.jsxs("ul",{tabIndex:0,className:"menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[_.jsx("li",{className:"menu-title",children:_.jsx("span",{children:e?.email})}),_.jsx("li",{children:_.jsxs("button",{onClick:m,children:[_.jsx(UV,{className:"w-4 h-4"}),"ng Xut"]})})]})]}):_.jsxs(Fn,{to:"/login",className:"btn btn-primary btn-sm",children:[_.jsx(Bb,{className:"w-4 h-4"}),"Qun Tr"]})]})]})}function ju(t,e=null){const[n,r]=L.useState([]),[o,l]=L.useState(!0),[c,m]=L.useState(null);return L.useEffect(()=>{let g=fb(Bo,t);e&&(g=OM(g,VM(e)));const p=setTimeout(()=>{o&&(m("Kt ni Firebase qu chm. Vui lng kim tra Firestore Rules."),l(!1))},1e4),v=Rb(g,E=>{clearTimeout(p);const b=E.docs.map(R=>({id:R.id,...R.data()}));r(b),l(!1),m(null)},E=>{clearTimeout(p),console.error("Firestore error:",E);let b=E.message;E.code==="permission-denied"&&(b="Khng c quyn truy cp. Vui lng kim tra Firestore Rules trong Firebase Console."),m(b),l(!1)});return()=>{clearTimeout(p),v()}},[t,e]),{documents:n,loading:o,error:c}}function g3(t,e){const[n,r]=L.useState(null),[o,l]=L.useState(!0),[c,m]=L.useState(null);return L.useEffect(()=>{const g=Vu(Bo,t,e),p=Rb(g,v=>{v.exists()?r({id:v.id,...v.data()}):r(null),l(!1)},v=>{console.error("Firestore error:",v),m(v.message),l(!1)});return()=>p()},[t,e]),{document:n,loading:o,error:c}}async function ey(t,e){return(await zM(fb(Bo,t),{...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})).id}async function NE(t,e,n){const r=Vu(Bo,t,e);await LM(r,{...n,updatedAt:new Date().toISOString()},{merge:!0})}async function p3(t,e,n){const r=Vu(Bo,t,e);await jM(r,{...n,updatedAt:new Date().toISOString()})}async function Qb(t,e){const n=Vu(Bo,t,e);await UM(n)}function ty(t){return new Date().getFullYear()-t}function y3(t){const e=ty(t);return e<7?{branch:"Cha  tui",code:"none",ageRange:"Di 7 tui"}:e>=7&&e<=12?{branch:"Ngnh Oanh",code:"oanh",ageRange:"7-12 tui"}:e>=13&&e<=17?{branch:"Ngnh Thiu",code:"thieu",ageRange:"13-17 tui"}:{branch:"Ngnh Thanh",code:"thanh",ageRange:"18+ tui"}}function Uh(t,e){if(e==="ban_huynh_truong"||e==="thanh_nam"||e==="thanh_nu")return null;const n=y3(t);return!e||e===n.code||e.replace(/_nam|_nu/g,"")===n.code?null:{from:e,to:n.code,toBranchName:n.branch,age:ty(t)}}function Xb(t){return t.map(e=>{if(e.nganh==="ban_huynh_truong"||e.nganh==="thanh_nam"||e.nganh==="thanh_nu")return null;const n=Uh(e.birthYear,e.nganh);return n?{...e,transition:n}:null}).filter(Boolean)}const Wb={oanh_nam:"Oanh Nam",oanh_nu:"Oanh N",thieu_nam:"Thiu Nam",thieu_nu:"Thiu N",thanh_nam:"Thanh Nam",thanh_nu:"Thanh N",ban_huynh_truong:"Ban Huynh Trng"};function _3(){const{documents:t}=ju("members"),e=Xb(t).length;return _.jsxs("div",{className:"min-h-screen bg-base-100",children:[_.jsx(m3,{alertCount:e}),_.jsx("main",{className:"container mx-auto px-4 py-6",children:_.jsx(GA,{})}),_.jsx("footer",{className:"footer footer-center p-4 bg-base-200 text-base-content mt-auto",children:_.jsx("div",{children:_.jsx("p",{children:"Gia nh Pht T Vnh An - Cha Vnh An"})})}),_.jsx(aV,{position:"top-right",toastOptions:{duration:4e3,style:{background:"oklch(var(--b1))",color:"oklch(var(--bc))"}}})]})}const sg="/vinhan/assets/logo-gdpt-viet-nam.png-BxIM9NSI.webp";function v3(){const{documents:t,loading:e,error:n}=ju("members"),r=Xb(t),o=t.reduce((l,c)=>(l[c.nganh]=(l[c.nganh]||0)+1,l),{});return _.jsxs("div",{className:"space-y-8",children:[_.jsx("div",{className:"hero bg-base-200 rounded-box py-12",children:_.jsx("div",{className:"hero-content text-center",children:_.jsxs("div",{children:[_.jsx("img",{src:sg,alt:"Logo GPT Vit Nam",className:"w-24 h-24 mx-auto mb-4"}),_.jsxs("h1",{className:"text-4xl md:text-5xl font-bold",children:[_.jsx("span",{className:"text-primary",children:"Gia nh Pht T"})," Vnh An"]}),_.jsx("p",{className:"py-4 text-lg opacity-80",children:"Cha Vnh An - H thng qun l on sinh"}),_.jsx("p",{className:"opacity-60",children:"Qun l on sinh v ti liu sinh hot"})]})})}),n&&_.jsxs("div",{className:"alert alert-error",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold",children:"Li kt ni Firebase"}),_.jsx("p",{className:"text-sm",children:n}),_.jsx("p",{className:"text-sm mt-2",children:"Vui lng vo Firebase Console  Firestore Database  Rules v t rules cho php c."})]})]}),e?_.jsxs("div",{className:"flex flex-col items-center justify-center py-8 gap-2",children:[_.jsx("span",{className:"loading loading-spinner loading-lg"}),_.jsx("p",{className:"text-sm opacity-70",children:"ang kt ni Firebase..."})]}):!n&&_.jsxs("div",{className:"stats stats-vertical md:stats-horizontal shadow w-full",children:[_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-figure",children:_.jsx("img",{src:sg,alt:"GPT",className:"w-12 h-12"})}),_.jsx("div",{className:"stat-title",children:"Tng on Sinh"}),_.jsx("div",{className:"stat-value text-primary",children:t.length})]}),_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-figure text-warning",children:_.jsx("span",{className:"text-2xl",children:"Oanh"})}),_.jsx("div",{className:"stat-title",children:"Ngnh Oanh"}),_.jsx("div",{className:"stat-value",children:(o.oanh_nam||0)+(o.oanh_nu||0)})]}),_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-figure text-info",children:_.jsx("span",{className:"text-2xl",children:"Thiu"})}),_.jsx("div",{className:"stat-title",children:"Ngnh Thiu"}),_.jsx("div",{className:"stat-value",children:(o.thieu_nam||0)+(o.thieu_nu||0)})]}),_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-figure text-success",children:_.jsx("span",{className:"text-2xl",children:"Thanh"})}),_.jsx("div",{className:"stat-title",children:"Ngnh Thanh"}),_.jsx("div",{className:"stat-value",children:(o.thanh_nam||0)+(o.thanh_nu||0)})]})]}),r.length>0&&_.jsxs("div",{className:"alert alert-warning",children:[_.jsx(Fg,{className:"w-5 h-5"}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold",children:"Cnh Bo Chuyn Ngnh"}),_.jsxs("p",{className:"text-sm",children:["C ",r.length," on sinh cn chuyn ngnh theo  tui"]})]}),_.jsx(Fn,{to:"/members?filter=alerts",className:"btn btn-sm btn-warning",children:"Xem Danh Sch"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx(Fn,{to:"/org-chart",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:_.jsxs("div",{className:"card-body items-center text-center",children:[_.jsx(Fb,{className:"w-12 h-12 text-primary"}),_.jsx("h2",{className:"card-title",children:"S  T Chc"}),_.jsx("p",{className:"opacity-70",children:"Xem cu trc t chc GPT"})]})}),_.jsx(Fn,{to:"/members",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:_.jsxs("div",{className:"card-body items-center text-center",children:[_.jsx("img",{src:sg,alt:"GPT",className:"w-12 h-12"}),_.jsx("h2",{className:"card-title",children:"Danh Sch on Sinh"}),_.jsx("p",{className:"opacity-70",children:"Qun l thng tin on sinh"})]})}),_.jsx(Fn,{to:"/documents",className:"card bg-base-200 hover:bg-base-300 transition-colors",children:_.jsxs("div",{className:"card-body items-center text-center",children:[_.jsx(Zp,{className:"w-12 h-12 text-accent"}),_.jsx("h2",{className:"card-title",children:"Ti Liu"}),_.jsx("p",{className:"opacity-70",children:"Pht php, bi ht, tr chi"})]})})]}),r.length>0&&_.jsx("div",{className:"card bg-base-200",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("h3",{className:"card-title text-warning",children:[_.jsx(Fg,{className:"w-5 h-5"}),"on Sinh Cn Chuyn Ngnh"]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"table table-sm",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"H Tn"}),_.jsx("th",{children:"Tui"}),_.jsx("th",{children:"Ngnh Hin Ti"}),_.jsx("th",{children:"Nn Chuyn Sang"})]})}),_.jsx("tbody",{children:r.slice(0,5).map(l=>_.jsxs("tr",{children:[_.jsx("td",{children:l.hoTen}),_.jsx("td",{children:l.transition.age}),_.jsx("td",{children:_.jsx("span",{className:"badge badge-outline",children:Wb[l.nganh]})}),_.jsx("td",{children:_.jsx("span",{className:"badge badge-warning",children:l.transition.toBranchName})})]},l.id))})]})}),r.length>5&&_.jsx("div",{className:"card-actions justify-end",children:_.jsxs(Fn,{to:"/members?filter=alerts",className:"btn btn-sm btn-outline",children:["Xem tt c (",r.length,")"]})})]})})]})}const T3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20100%20100'%3e%3c!--%20Lotus%20flower%20for%20GDPT%20--%3e%3c!--%20Center%20petal%20--%3e%3cellipse%20cx='50'%20cy='45'%20rx='8'%20ry='25'%20fill='%23f472b6'/%3e%3c!--%20Left%20petals%20--%3e%3cellipse%20cx='35'%20cy='50'%20rx='8'%20ry='22'%20fill='%23f472b6'%20transform='rotate(-25%2035%2050)'/%3e%3cellipse%20cx='22'%20cy='58'%20rx='7'%20ry='18'%20fill='%23ec4899'%20transform='rotate(-45%2022%2058)'/%3e%3c!--%20Right%20petals%20--%3e%3cellipse%20cx='65'%20cy='50'%20rx='8'%20ry='22'%20fill='%23f472b6'%20transform='rotate(25%2065%2050)'/%3e%3cellipse%20cx='78'%20cy='58'%20rx='7'%20ry='18'%20fill='%23ec4899'%20transform='rotate(45%2078%2058)'/%3e%3c!--%20Inner%20petals%20--%3e%3cellipse%20cx='42'%20cy='48'%20rx='6'%20ry='18'%20fill='%23fb7185'%20transform='rotate(-12%2042%2048)'/%3e%3cellipse%20cx='58'%20cy='48'%20rx='6'%20ry='18'%20fill='%23fb7185'%20transform='rotate(12%2058%2048)'/%3e%3c!--%20Center%20--%3e%3ccircle%20cx='50'%20cy='55'%20r='8'%20fill='%23fbbf24'/%3e%3ccircle%20cx='50'%20cy='55'%20r='5'%20fill='%23f59e0b'/%3e%3c!--%20Base%20leaves%20--%3e%3cellipse%20cx='30'%20cy='78'%20rx='18'%20ry='8'%20fill='%2322c55e'%20transform='rotate(-15%2030%2078)'/%3e%3cellipse%20cx='70'%20cy='78'%20rx='18'%20ry='8'%20fill='%2322c55e'%20transform='rotate(15%2070%2078)'/%3e%3cellipse%20cx='50'%20cy='82'%20rx='20'%20ry='6'%20fill='%2316a34a'/%3e%3c/svg%3e";function E3({node:t,onClick:e,isSelected:n}){const r=o=>({gia_truong:"bg-gradient-to-br from-amber-500 to-amber-600",lien_doan_truong:"bg-gradient-to-br from-purple-500 to-purple-600",lien_doan_pho:"bg-gradient-to-br from-indigo-500 to-indigo-600",thu_ky:"bg-gradient-to-br from-blue-500 to-blue-600",thu_quy:"bg-gradient-to-br from-emerald-500 to-emerald-600",doan_truong:"bg-gradient-to-br from-cyan-500 to-cyan-600",doan_pho:"bg-gradient-to-br from-teal-500 to-teal-600"})[o]||"bg-gradient-to-br from-gray-500 to-gray-600";return _.jsx("div",{className:`
        cursor-pointer transition-all duration-200
        hover:scale-105 hover:shadow-lg inline-block
        ${n?"ring-2 ring-primary ring-offset-2":""}
      `,onClick:()=>e(t),children:_.jsx("div",{className:`
        ${r(t.roleCode)}
        text-white rounded-lg p-4 shadow-md w-[200px] min-h-[220px]
      `,children:_.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 h-full",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:t.photoUrl?_.jsx("img",{src:t.photoUrl,alt:t.name,className:"w-full h-full rounded-full object-cover"}):_.jsx("img",{src:T3,alt:"Hoa Sen",className:"w-10 h-10"})}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"font-semibold text-base leading-tight",children:t.name||"Cha c"}),_.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.role}),t.phapDanh&&_.jsx("p",{className:"text-sm opacity-80 italic",children:t.phapDanh})]})]})})})}const S3={ban_huynh_truong:"Ban Huynh Trng",nganh_thanh:"Ngnh Thanh",nganh_thieu:"Ngnh Thiu",nganh_oanh:"Ngnh Oanh"};function b3({member:t,isOpen:e,onClose:n,isAdmin:r,onEdit:o}){return!e||!t?null:_.jsxs("dialog",{className:"modal modal-open",children:[_.jsxs("div",{className:"modal-box",children:[_.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:n,children:_.jsx(Jp,{className:"w-4 h-4"})}),_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"avatar placeholder",children:_.jsx("div",{className:"bg-primary text-primary-content rounded-full w-24",children:t.photoUrl?_.jsx("img",{src:t.photoUrl,alt:t.name}):_.jsx(Kb,{className:"w-12 h-12"})})}),_.jsxs("div",{className:"text-center",children:[_.jsx("h3",{className:"font-bold text-xl",children:t.name}),_.jsx("p",{className:"text-primary font-medium",children:t.role}),t.phapDanh&&_.jsxs("p",{className:"text-sm opacity-70 italic",children:["Php danh: ",t.phapDanh]})]}),_.jsxs("div",{className:"w-full space-y-3 mt-4",children:[t.birthYear&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(EV,{className:"w-5 h-5 text-primary"}),_.jsxs("span",{children:["Nm sinh: ",t.birthYear]})]}),t.phone&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(QV,{className:"w-5 h-5 text-primary"}),_.jsx("span",{children:t.phone})]}),t.address&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(FV,{className:"w-5 h-5 text-primary"}),_.jsx("span",{children:t.address})]}),t.capBac&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(mV,{className:"w-5 h-5 text-primary"}),_.jsxs("span",{children:["Cp bc: ",t.capBac]})]}),t.chucVu&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(vV,{className:"w-5 h-5 text-primary"}),_.jsxs("span",{children:["Chc v: ",t.chucVu]})]}),t.nganhChinh&&_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Yb,{className:"w-5 h-5 text-primary"}),_.jsxs("span",{children:["Ngnh: ",S3[t.nganhChinh]||t.nganhChinh]})]}),t.quaTrinhSinhHoat&&_.jsxs("div",{className:"mt-4",children:[_.jsx("h4",{className:"font-semibold mb-2",children:"Qu trnh sinh hot:"}),_.jsx("p",{className:"text-sm bg-base-200 p-3 rounded-lg whitespace-pre-wrap",children:t.quaTrinhSinhHoat})]})]})]}),_.jsxs("div",{className:"modal-action",children:[r&&o&&_.jsxs("button",{className:"btn btn-primary",onClick:()=>o(t),children:[_.jsx(KV,{className:"w-4 h-4"}),"Chnh Sa"]}),_.jsx("button",{className:"btn",onClick:n,children:"ng"})]})]}),_.jsx("form",{method:"dialog",className:"modal-backdrop",children:_.jsx("button",{onClick:n,children:"close"})})]})}function w3({position:t,isOpen:e,onClose:n,members:r,onAssign:o}){const[l,c]=L.useState(""),[m,g]=L.useState("");if(!e||!t)return null;const p=r?.filter(E=>{const b=l.toLowerCase();return E.hoTen?.toLowerCase().includes(b)||E.phapDanh?.toLowerCase().includes(b)})||[],v=()=>{m&&(o(m),g(""),c(""))};return _.jsxs("dialog",{className:"modal modal-open",children:[_.jsxs("div",{className:"modal-box",children:[_.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>{n(),g(""),c("")},children:_.jsx(Jp,{className:"w-4 h-4"})}),_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:_.jsx(xE,{className:"w-6 h-6 text-primary"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-lg",children:"Phn Cng Chc V"}),_.jsx("p",{className:"text-sm text-base-content/70",children:t.role})]})]}),_.jsx("div",{className:"form-control mb-4",children:_.jsxs("div",{className:"input input-bordered flex items-center gap-2",children:[_.jsx(Gb,{className:"w-4 h-4 opacity-50"}),_.jsx("input",{type:"text",placeholder:"Tm kim thnh vin...",className:"grow bg-transparent outline-none",value:l,onChange:E=>c(E.target.value)})]})}),_.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:p.length===0?_.jsx("p",{className:"text-center text-base-content/50 py-4",children:"Khng tm thy thnh vin"}):p.map(E=>_.jsxs("label",{className:`
                  flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors
                  ${m===E.id?"bg-primary/10 ring-2 ring-primary":"bg-base-200 hover:bg-base-300"}
                `,children:[_.jsx("input",{type:"radio",name:"member",className:"radio radio-primary",checked:m===E.id,onChange:()=>g(E.id)}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-medium",children:E.hoTen}),E.phapDanh&&_.jsx("p",{className:"text-sm text-base-content/60 italic",children:E.phapDanh})]}),E.photoUrl&&_.jsx("img",{src:E.photoUrl,alt:E.hoTen,className:"w-10 h-10 rounded-full object-cover"})]},E.id))}),_.jsxs("div",{className:"modal-action",children:[_.jsx("button",{className:"btn",onClick:()=>{n(),g(""),c("")},children:"Hy"}),_.jsxs("button",{className:"btn btn-primary",disabled:!m,onClick:v,children:[_.jsx(xE,{className:"w-4 h-4"}),"Phn Cng"]})]})]}),_.jsx("form",{method:"dialog",className:"modal-backdrop",children:_.jsx("button",{onClick:n,children:"close"})})]})}function R3({organization:t,isAdmin:e,onEditMember:n,onAssignMember:r,members:o}){const[l,c]=L.useState(null),[m,g]=L.useState(null),p=b=>{b.memberId?c(b):e&&b.positionKey&&g(b)},v=(b,R,I,z)=>_.jsx(E3,{node:{...b,name:b?.name||"Cha c",role:R,roleCode:I,phapDanh:b?.phapDanh,photoUrl:b?.photoUrl,memberId:b?.id,positionKey:z},onClick:p,isSelected:l?.memberId===b?.id}),E=b=>{const R=t.branches?.[b]||{},I={thanh_nam:{truong:"doanTruongThanhNamId",pho1:"doanPho1ThanhNamId",pho2:"doanPho2ThanhNamId"},thanh_nu:{truong:"doanTruongThanhNuId",pho1:"doanPho1ThanhNuId",pho2:"doanPho2ThanhNuId"},thieu_nam:{truong:"doanTruongThieuNamId",pho1:"doanPho1ThieuNamId",pho2:"doanPho2ThieuNamId"},thieu_nu:{truong:"doanTruongThieuNuId",pho1:"doanPho1ThieuNuId",pho2:"doanPho2ThieuNuId"},oanh_nam:{truong:"doanTruongOanhNamId",pho1:"doanPho1OanhNamId",pho2:"doanPho2OanhNamId"},oanh_nu:{truong:"doanTruongOanhNuId",pho1:"doanPho1OanhNuId",pho2:"doanPho2OanhNuId"}};return _.jsxs("div",{className:"flex flex-col items-center",children:[v(R.doanTruong,"on Trng","doan_truong",I[b].truong),_.jsxs("svg",{width:"220",height:"32",className:"overflow-visible",children:[_.jsx("line",{x1:"110",y1:"0",x2:"110",y2:"16",stroke:"currentColor",strokeWidth:"2",className:"text-base-content/50"}),_.jsx("line",{x1:"6",y1:"16",x2:"214",y2:"16",stroke:"currentColor",strokeWidth:"2",className:"text-base-content/50"}),_.jsx("line",{x1:"6",y1:"16",x2:"6",y2:"32",stroke:"currentColor",strokeWidth:"2",className:"text-base-content/50"}),_.jsx("line",{x1:"214",y1:"16",x2:"214",y2:"32",stroke:"currentColor",strokeWidth:"2",className:"text-base-content/50"})]}),_.jsxs("div",{className:"flex flex-row gap-4 justify-center",children:[v(R.doanPho1,"on Ph 1","doan_pho",I[b].pho1),v(R.doanPho2,"on Ph 2","doan_pho",I[b].pho2)]})]})};return _.jsxs("div",{className:"overflow-x-auto py-8",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("div",{className:"bg-amber-100 dark:bg-amber-900/30 rounded-xl p-6 border-2 border-amber-500/50",children:[_.jsx("h3",{className:"text-2xl font-bold text-center mb-6 text-amber-700 dark:text-amber-400",children:"Ban Huynh Trng"}),_.jsxs("div",{className:"flex flex-col items-center",children:[v(t.giaTruong,"Gia Trng","gia_truong","giaTruongId"),_.jsx("div",{className:"w-0.5 h-4 bg-amber-600"})]}),_.jsxs("div",{className:"flex flex-col items-center",children:[v(t.lienDoanTruong,"Lin on Trng","lien_doan_truong","lienDoanTruongId"),_.jsx("div",{className:"w-0.5 h-4 bg-amber-600"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-80px)] h-0.5 bg-amber-600"}),_.jsxs("div",{className:"flex flex-row justify-center gap-8 pt-0",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-amber-600"}),v(t.lienDoanPho,"Lin on Ph","lien_doan_pho","lienDoanPhoId")]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-amber-600"}),v(t.thuKy,"Th K","thu_ky","thuKyId")]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-amber-600"}),v(t.thuQuy,"Th Qu","thu_quy","thuQuyId")]})]})]})]}),_.jsx("div",{className:"w-0.5 h-6 bg-base-content/40"}),_.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 rounded-xl p-6 border-2 border-yellow-500/50",children:[_.jsx("h3",{className:"text-2xl font-bold text-center mb-4 text-yellow-700 dark:text-yellow-400",children:"Ngnh Thanh"}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-yellow-600"}),_.jsxs("div",{className:"relative w-full",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-100px)] h-0.5 bg-yellow-600"}),_.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-yellow-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Thanh Nam"}),E("thanh_nam")]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-yellow-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Thanh N"}),E("thanh_nu")]})]})]})]})]}),_.jsx("div",{className:"w-0.5 h-6 bg-base-content/40"}),_.jsxs("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-xl p-6 border-2 border-blue-500/50",children:[_.jsx("h3",{className:"text-2xl font-bold text-center mb-4 text-blue-700 dark:text-blue-400",children:"Ngnh Thiu"}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-blue-600"}),_.jsxs("div",{className:"relative w-full",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-100px)] h-0.5 bg-blue-600"}),_.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-blue-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Thiu Nam"}),E("thieu_nam")]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-blue-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Thiu N"}),E("thieu_nu")]})]})]})]})]}),_.jsx("div",{className:"w-0.5 h-6 bg-base-content/40"}),_.jsxs("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-xl p-6 border-2 border-red-500/50",children:[_.jsx("h3",{className:"text-2xl font-bold text-center mb-4 text-red-700 dark:text-red-400",children:"Ngnh Oanh"}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-red-600"}),_.jsxs("div",{className:"relative w-full",children:[_.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[calc(100%-100px)] h-0.5 bg-red-600"}),_.jsxs("div",{className:"flex flex-row gap-8 justify-center",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-red-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Oanh Nam"}),E("oanh_nam")]}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-0.5 h-4 bg-red-600"}),_.jsx("p",{className:"text-base font-semibold mb-2 opacity-70",children:"Oanh N"}),E("oanh_nu")]})]})]})]})]})]}),_.jsx(b3,{member:l,isOpen:!!l,onClose:()=>c(null),isAdmin:e,onEdit:b=>{c(null),n?.(b)}}),_.jsx(w3,{position:m,isOpen:!!m,onClose:()=>g(null),members:o,onAssign:b=>{r?.(m.positionKey,b),g(null)}})]})}const IE=t=>{if(!t)return"";if(!t.includes("drive.google.com"))return t;let e=null;const n=t.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);n&&(e=n[1]);const r=t.match(/[?&]id=([a-zA-Z0-9_-]+)/);!e&&r&&(e=r[1]);const o=t.match(/\/uc\?.*id=([a-zA-Z0-9_-]+)/);return!e&&o&&(e=o[1]),e?`https://drive.google.com/thumbnail?id=${e}&sz=w400`:t},A3=[{value:"ban_huynh_truong",label:"Ban Huynh Trng"},{value:"nganh_thanh",label:"Ngnh Thanh"},{value:"nganh_thieu",label:"Ngnh Thiu"},{value:"nganh_oanh",label:"Ngnh Oanh"}],C3=[{value:"oanh_nam",label:"Oanh Nam"},{value:"oanh_nu",label:"Oanh N"},{value:"thieu_nam",label:"Thiu Nam"},{value:"thieu_nu",label:"Thiu N"},{value:"thanh_nam",label:"Thanh Nam"},{value:"thanh_nu",label:"Thanh N"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"}],x3=[{value:"doan_sinh",label:"on Sinh"},{value:"doan_pho",label:"on Ph"},{value:"doan_truong",label:"on Trng"},{value:"thu_quy",label:"Th Qu"},{value:"thu_ky",label:"Th K"},{value:"lien_doan_pho",label:"Lin on Ph"},{value:"lien_doan_truong",label:"Lin on Trng"},{value:"gia_truong",label:"Gia Trng"}],DE={hoTen:"",phapDanh:"",birthYear:"",address:"",chucVu:"doan_sinh",capBac:"",nganhChinh:"nganh_oanh",nganh:"oanh_nam",phone:"",quaTrinhSinhHoat:"",photoUrl:""};function Zb({member:t,isOpen:e,onClose:n,onSuccess:r}){const[o,l]=L.useState(DE),[c,m]=L.useState(!1),[g,p]=L.useState(!1);L.useEffect(()=>{l(t?{hoTen:t.hoTen||"",phapDanh:t.phapDanh||"",birthYear:t.birthYear||"",address:t.address||"",chucVu:t.chucVu||"doan_sinh",capBac:t.capBac||"",nganhChinh:t.nganhChinh||"nganh_oanh",nganh:t.nganh||"oanh_nam",phone:t.phone||"",quaTrinhSinhHoat:t.quaTrinhSinhHoat||"",photoUrl:t.photoUrl||""}:DE),p(!1)},[t]);const v=b=>{const{name:R,value:I}=b.target;l(z=>({...z,[R]:I})),R==="photoUrl"&&p(!1)},E=async b=>{b.preventDefault(),m(!0);try{const R={...o,birthYear:parseInt(o.birthYear,10),photoUrl:IE(o.photoUrl)};t?(await p3("members",t.id,R),Ut.success("Cp nht thnh cng!")):(await ey("members",R),Ut.success("Thm thnh vin thnh cng!")),r?.(),n()}catch(R){console.error("Error saving member:",R),Ut.error("Li: "+R.message)}finally{m(!1)}};return e?_.jsxs("dialog",{className:"modal modal-open",children:[_.jsxs("div",{className:"modal-box max-w-2xl",children:[_.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:n,children:_.jsx(Jp,{className:"w-4 h-4"})}),_.jsx("h3",{className:"font-bold text-lg mb-4",children:t?"Chnh Sa Thnh Vin":"Thm Thnh Vin Mi"}),_.jsxs("form",{onSubmit:E,className:"space-y-4",children:[_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"nh i Din (Link Google Drive hoc URL)"})}),_.jsxs("div",{className:"flex gap-4 items-start",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-base-300 flex items-center justify-center overflow-hidden bg-base-200",children:o.photoUrl&&!g?_.jsx("img",{src:IE(o.photoUrl),alt:"Preview",className:"w-full h-full object-cover",onError:()=>p(!0)}):_.jsx(Kb,{className:"w-10 h-10 text-base-content/30"})})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("input",{type:"url",name:"photoUrl",value:o.photoUrl,onChange:v,className:"input input-bordered w-full",placeholder:"https://drive.google.com/file/d/xxx/view"}),_.jsx("p",{className:"text-xs text-base-content/60 mt-1",children:"Dn link chia s t Google Drive (m bo quyn xem cho mi ngi)"}),g&&_.jsx("p",{className:"text-xs text-error mt-1",children:"Khng th ti nh. Kim tra li link v quyn chia s."})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"H v Tn *"})}),_.jsx("input",{type:"text",name:"hoTen",value:o.hoTen,onChange:v,className:"input input-bordered",required:!0})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Php Danh"})}),_.jsx("input",{type:"text",name:"phapDanh",value:o.phapDanh,onChange:v,className:"input input-bordered"})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Nm Sinh *"})}),_.jsx("input",{type:"number",name:"birthYear",value:o.birthYear,onChange:v,className:"input input-bordered",min:"1900",max:new Date().getFullYear(),required:!0})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"S in Thoi"})}),_.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:v,className:"input input-bordered"})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Ngnh *"})}),_.jsx("select",{name:"nganhChinh",value:o.nganhChinh,onChange:v,className:"select select-bordered",required:!0,children:A3.map(b=>_.jsx("option",{value:b.value,children:b.label},b.value))})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"n V Sinh Hot *"})}),_.jsx("select",{name:"nganh",value:o.nganh,onChange:v,className:"select select-bordered",required:!0,children:C3.map(b=>_.jsx("option",{value:b.value,children:b.label},b.value))})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Chc V"})}),_.jsx("select",{name:"chucVu",value:o.chucVu,onChange:v,className:"select select-bordered",children:x3.map(b=>_.jsx("option",{value:b.value,children:b.label},b.value))})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Cp Bc"})}),_.jsx("input",{type:"text",name:"capBac",value:o.capBac,onChange:v,className:"input input-bordered"})]})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"a Ch"})}),_.jsx("input",{type:"text",name:"address",value:o.address,onChange:v,className:"input input-bordered"})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Qu Trnh Sinh Hot"})}),_.jsx("textarea",{name:"quaTrinhSinhHoat",value:o.quaTrinhSinhHoat,onChange:v,className:"textarea textarea-bordered h-24",placeholder:"Nhp qu trnh sinh hot..."})]}),_.jsxs("div",{className:"modal-action",children:[_.jsx("button",{type:"button",className:"btn",onClick:n,children:"Hy"}),_.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?_.jsx("span",{className:"loading loading-spinner loading-sm"}):t?"Cp Nht":"Thm"})]})]})]}),_.jsx("form",{method:"dialog",className:"modal-backdrop",children:_.jsx("button",{onClick:n,children:"close"})})]}):null}function N3(){const{isAdmin:t}=ku(),{document:e,loading:n}=g3("settings","organization"),{documents:r}=ju("members"),[o,l]=L.useState(!1),[c,m]=L.useState({}),[g,p]=L.useState(null);L.useEffect(()=>{e&&m(e)},[e]);const v=async()=>{try{const{id:B,...$}=c;console.log("Saving organization data:",$),await NE("settings","organization",$),console.log("Save successful!"),Ut.success(" lu cu hnh!"),l(!1)}catch(B){console.error("Save error:",B),Ut.error("Li: "+B.message)}},E=async(B,$)=>{try{const X=e||{},{id:le,...oe}=X,me={...oe,[B]:$};await NE("settings","organization",me),Ut.success(" phn cng thnh cng!")}catch(X){console.error("Assign error:",X),Ut.error("Li: "+X.message)}},b=r.map(B=>({value:B.id,label:`${B.hoTen}${B.phapDanh?` (${B.phapDanh})`:""}`,...B})),R=B=>{if(!B)return null;const $=r.find(X=>X.id===B);return $?{id:$.id,name:$.hoTen,phapDanh:$.phapDanh,phone:$.phone,address:$.address,birthYear:$.birthYear,capBac:$.capBac,chucVu:$.chucVu,nganh:$.nganh,quaTrinhSinhHoat:$.quaTrinhSinhHoat,photoUrl:$.photoUrl}:null},I=e||{},z={giaTruong:R(I.giaTruongId),lienDoanTruong:R(I.lienDoanTruongId),lienDoanPho:R(I.lienDoanPhoId),thuKy:R(I.thuKyId),thuQuy:R(I.thuQuyId),branches:{thanh_nam:{doanTruong:R(I.doanTruongThanhNamId),doanPho1:R(I.doanPho1ThanhNamId),doanPho2:R(I.doanPho2ThanhNamId)},thanh_nu:{doanTruong:R(I.doanTruongThanhNuId),doanPho1:R(I.doanPho1ThanhNuId),doanPho2:R(I.doanPho2ThanhNuId)},thieu_nam:{doanTruong:R(I.doanTruongThieuNamId),doanPho1:R(I.doanPho1ThieuNamId),doanPho2:R(I.doanPho2ThieuNamId)},thieu_nu:{doanTruong:R(I.doanTruongThieuNuId),doanPho1:R(I.doanPho1ThieuNuId),doanPho2:R(I.doanPho2ThieuNuId)},oanh_nam:{doanTruong:R(I.doanTruongOanhNamId),doanPho1:R(I.doanPho1OanhNamId),doanPho2:R(I.doanPho2OanhNamId)},oanh_nu:{doanTruong:R(I.doanTruongOanhNuId),doanPho1:R(I.doanPho1OanhNuId),doanPho2:R(I.doanPho2OanhNuId)}}};if(n)return _.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("span",{className:"loading loading-spinner loading-lg"})});const N=(B,$)=>_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:B})}),_.jsxs("select",{className:"select select-bordered select-sm",value:c[$]||"",onChange:X=>m({...c,[$]:X.target.value}),children:[_.jsx("option",{value:"",children:"-- Chn --"}),b.map(X=>_.jsx("option",{value:X.value,children:X.label},X.value))]})]});return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"S  T Chc GPT Vnh An"}),t&&_.jsx("button",{className:`btn ${o?"btn-success":"btn-outline"}`,onClick:()=>o?v():l(!0),children:o?"Lu":_.jsxs(_.Fragment,{children:[_.jsx(JV,{className:"w-4 h-4"})," Chnh Sa"]})})]}),o&&t&&_.jsx("div",{className:"card bg-base-200",children:_.jsxs("div",{className:"card-body",children:[_.jsx("h3",{className:"card-title",children:"Cu Hnh T Chc"}),_.jsx("p",{className:"text-sm opacity-70 mb-4",children:"Chn thnh vin cho tng chc v. Thnh vin phi c thm vo danh sch trc."}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[_.jsx("div",{className:"col-span-full",children:_.jsx("h4",{className:"font-semibold mb-2",children:"Ban Huynh Trng"})}),N("Gia Trng","giaTruongId"),N("Lin on Trng","lienDoanTruongId"),N("Lin on Ph","lienDoanPhoId"),N("Th K","thuKyId"),N("Th Qu","thuQuyId"),_.jsx("div",{className:"col-span-full mt-4",children:_.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Thanh"})}),N("on Trng Thanh Nam","doanTruongThanhNamId"),N("on Ph 1 Thanh Nam","doanPho1ThanhNamId"),N("on Ph 2 Thanh Nam","doanPho2ThanhNamId"),N("on Trng Thanh N","doanTruongThanhNuId"),N("on Ph 1 Thanh N","doanPho1ThanhNuId"),N("on Ph 2 Thanh N","doanPho2ThanhNuId"),_.jsx("div",{className:"col-span-full mt-4",children:_.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Thiu"})}),N("on Trng Thiu Nam","doanTruongThieuNamId"),N("on Ph 1 Thiu Nam","doanPho1ThieuNamId"),N("on Ph 2 Thiu Nam","doanPho2ThieuNamId"),N("on Trng Thiu N","doanTruongThieuNuId"),N("on Ph 1 Thiu N","doanPho1ThieuNuId"),N("on Ph 2 Thiu N","doanPho2ThieuNuId"),_.jsx("div",{className:"col-span-full mt-4",children:_.jsx("h4",{className:"font-semibold mb-2",children:"Ngnh Oanh"})}),N("on Trng Oanh Nam","doanTruongOanhNamId"),N("on Ph 1 Oanh Nam","doanPho1OanhNamId"),N("on Ph 2 Oanh Nam","doanPho2OanhNamId"),N("on Trng Oanh N","doanTruongOanhNuId"),N("on Ph 1 Oanh N","doanPho1OanhNuId"),N("on Ph 2 Oanh N","doanPho2OanhNuId")]}),_.jsxs("div",{className:"card-actions justify-end mt-4",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>l(!1),children:"Hy"}),_.jsx("button",{className:"btn btn-primary",onClick:v,children:"Lu Thay i"})]})]})}),_.jsx("div",{className:"card bg-base-200",children:_.jsx("div",{className:"card-body",children:_.jsx(R3,{organization:z,isAdmin:t,members:r,onEditMember:B=>{const $=r.find(X=>X.id===B.memberId);$&&p($)},onAssignMember:E})})}),_.jsx(Zb,{member:g,isOpen:!!g,onClose:()=>p(null),onSuccess:()=>p(null)}),_.jsx("div",{className:"text-center text-sm opacity-60",children:t?"Nhn vo   xem chi tit hoc phn cng chc v":"Nhn vo cc   xem thng tin chi tit"})]})}function fs(t,e){return typeof t=="function"?t(e):t}function Nn(t,e){return n=>{e.setState(r=>({...r,[t]:fs(n,r[t])}))}}function Lf(t){return t instanceof Function}function I3(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function D3(t,e){const n=[],r=o=>{o.forEach(l=>{n.push(l);const c=e(l);c!=null&&c.length&&r(c)})};return r(t),n}function ve(t,e,n){let r=[],o;return l=>{let c;n.key&&n.debug&&(c=Date.now());const m=t(l);if(!(m.length!==r.length||m.some((v,E)=>r[E]!==v)))return o;r=m;let p;if(n.key&&n.debug&&(p=Date.now()),o=e(...m),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const v=Math.round((Date.now()-c)*100)/100,E=Math.round((Date.now()-p)*100)/100,b=E/16,R=(I,z)=>{for(I=String(I);I.length<z;)I=" "+I;return I};console.info(`%c ${R(E,5)} /${R(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return o}}function Te(t,e,n,r){return{debug:()=>{var o;return(o=t?.debugAll)!=null?o:t[e]},key:!1,onChange:r}}function M3(t,e,n,r){const o=()=>{var c;return(c=l.getValue())!=null?c:t.options.renderFallbackValue},l={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:o,getContext:ve(()=>[t,n,e,l],(c,m,g,p)=>({table:c,column:m,row:g,cell:p,getValue:p.getValue,renderValue:p.renderValue}),Te(t.options,"debugCells"))};return t._features.forEach(c=>{c.createCell==null||c.createCell(l,n,e,t)},{}),l}function O3(t,e,n,r){var o,l;const m={...t._getDefaultColumnDef(),...e},g=m.accessorKey;let p=(o=(l=m.id)!=null?l:g?typeof String.prototype.replaceAll=="function"?g.replaceAll(".","_"):g.replace(/\./g,"_"):void 0)!=null?o:typeof m.header=="string"?m.header:void 0,v;if(m.accessorFn?v=m.accessorFn:g&&(g.includes(".")?v=b=>{let R=b;for(const z of g.split(".")){var I;R=(I=R)==null?void 0:I[z]}return R}:v=b=>b[m.accessorKey]),!p)throw new Error;let E={id:`${String(p)}`,accessorFn:v,parent:r,depth:n,columnDef:m,columns:[],getFlatColumns:ve(()=>[!0],()=>{var b;return[E,...(b=E.columns)==null?void 0:b.flatMap(R=>R.getFlatColumns())]},Te(t.options,"debugColumns")),getLeafColumns:ve(()=>[t._getOrderColumnsFn()],b=>{var R;if((R=E.columns)!=null&&R.length){let I=E.columns.flatMap(z=>z.getLeafColumns());return b(I)}return[E]},Te(t.options,"debugColumns"))};for(const b of t._features)b.createColumn==null||b.createColumn(E,t);return E}const nn="debugHeaders";function ME(t,e,n){var r;let l={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const c=[],m=g=>{g.subHeaders&&g.subHeaders.length&&g.subHeaders.map(m),c.push(g)};return m(l),c},getContext:()=>({table:t,header:l,column:e})};return t._features.forEach(c=>{c.createHeader==null||c.createHeader(l,t)}),l}const V3={createTable:t=>{t.getHeaderGroups=ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,o)=>{var l,c;const m=(l=r?.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?l:[],g=(c=o?.map(E=>n.find(b=>b.id===E)).filter(Boolean))!=null?c:[],p=n.filter(E=>!(r!=null&&r.includes(E.id))&&!(o!=null&&o.includes(E.id)));return bh(e,[...m,...p,...g],t)},Te(t.options,nn)),t.getCenterHeaderGroups=ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,o)=>(n=n.filter(l=>!(r!=null&&r.includes(l.id))&&!(o!=null&&o.includes(l.id))),bh(e,n,t,"center")),Te(t.options,nn)),t.getLeftHeaderGroups=ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var o;const l=(o=r?.map(c=>n.find(m=>m.id===c)).filter(Boolean))!=null?o:[];return bh(e,l,t,"left")},Te(t.options,nn)),t.getRightHeaderGroups=ve(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var o;const l=(o=r?.map(c=>n.find(m=>m.id===c)).filter(Boolean))!=null?o:[];return bh(e,l,t,"right")},Te(t.options,nn)),t.getFooterGroups=ve(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Te(t.options,nn)),t.getLeftFooterGroups=ve(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Te(t.options,nn)),t.getCenterFooterGroups=ve(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Te(t.options,nn)),t.getRightFooterGroups=ve(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Te(t.options,nn)),t.getFlatHeaders=ve(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Te(t.options,nn)),t.getLeftFlatHeaders=ve(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Te(t.options,nn)),t.getCenterFlatHeaders=ve(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Te(t.options,nn)),t.getRightFlatHeaders=ve(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Te(t.options,nn)),t.getCenterLeafHeaders=ve(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Te(t.options,nn)),t.getLeftLeafHeaders=ve(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Te(t.options,nn)),t.getRightLeafHeaders=ve(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Te(t.options,nn)),t.getLeafHeaders=ve(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var o,l,c,m,g,p;return[...(o=(l=e[0])==null?void 0:l.headers)!=null?o:[],...(c=(m=n[0])==null?void 0:m.headers)!=null?c:[],...(g=(p=r[0])==null?void 0:p.headers)!=null?g:[]].map(v=>v.getLeafHeaders()).flat()},Te(t.options,nn))}};function bh(t,e,n,r){var o,l;let c=0;const m=function(b,R){R===void 0&&(R=1),c=Math.max(c,R),b.filter(I=>I.getIsVisible()).forEach(I=>{var z;(z=I.columns)!=null&&z.length&&m(I.columns,R+1)},0)};m(t);let g=[];const p=(b,R)=>{const I={depth:R,id:[r,`${R}`].filter(Boolean).join("_"),headers:[]},z=[];b.forEach(N=>{const B=[...z].reverse()[0],$=N.column.depth===I.depth;let X,le=!1;if($&&N.column.parent?X=N.column.parent:(X=N.column,le=!0),B&&B?.column===X)B.subHeaders.push(N);else{const oe=ME(n,X,{id:[r,R,X.id,N?.id].filter(Boolean).join("_"),isPlaceholder:le,placeholderId:le?`${z.filter(me=>me.column===X).length}`:void 0,depth:R,index:z.length});oe.subHeaders.push(N),z.push(oe)}I.headers.push(N),N.headerGroup=I}),g.push(I),R>0&&p(z,R-1)},v=e.map((b,R)=>ME(n,b,{depth:c,index:R}));p(v,c-1),g.reverse();const E=b=>b.filter(I=>I.column.getIsVisible()).map(I=>{let z=0,N=0,B=[0];I.subHeaders&&I.subHeaders.length?(B=[],E(I.subHeaders).forEach(X=>{let{colSpan:le,rowSpan:oe}=X;z+=le,B.push(oe)})):z=1;const $=Math.min(...B);return N=N+$,I.colSpan=z,I.rowSpan=N,{colSpan:z,rowSpan:N}});return E((o=(l=g[0])==null?void 0:l.headers)!=null?o:[]),g}const P3=(t,e,n,r,o,l,c)=>{let m={id:e,index:r,original:n,depth:o,parentId:c,_valuesCache:{},_uniqueValuesCache:{},getValue:g=>{if(m._valuesCache.hasOwnProperty(g))return m._valuesCache[g];const p=t.getColumn(g);if(p!=null&&p.accessorFn)return m._valuesCache[g]=p.accessorFn(m.original,r),m._valuesCache[g]},getUniqueValues:g=>{if(m._uniqueValuesCache.hasOwnProperty(g))return m._uniqueValuesCache[g];const p=t.getColumn(g);if(p!=null&&p.accessorFn)return p.columnDef.getUniqueValues?(m._uniqueValuesCache[g]=p.columnDef.getUniqueValues(m.original,r),m._uniqueValuesCache[g]):(m._uniqueValuesCache[g]=[m.getValue(g)],m._uniqueValuesCache[g])},renderValue:g=>{var p;return(p=m.getValue(g))!=null?p:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>D3(m.subRows,g=>g.subRows),getParentRow:()=>m.parentId?t.getRow(m.parentId,!0):void 0,getParentRows:()=>{let g=[],p=m;for(;;){const v=p.getParentRow();if(!v)break;g.push(v),p=v}return g.reverse()},getAllCells:ve(()=>[t.getAllLeafColumns()],g=>g.map(p=>M3(t,m,p,p.id)),Te(t.options,"debugRows")),_getAllCellsByColumnId:ve(()=>[m.getAllCells()],g=>g.reduce((p,v)=>(p[v.column.id]=v,p),{}),Te(t.options,"debugRows"))};for(let g=0;g<t._features.length;g++){const p=t._features[g];p==null||p.createRow==null||p.createRow(m,t)}return m},k3={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Jb=(t,e,n)=>{var r,o;const l=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=t.getValue(e))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(l))};Jb.autoRemove=t=>li(t);const ew=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};ew.autoRemove=t=>li(t);const tw=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};tw.autoRemove=t=>li(t);const nw=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};nw.autoRemove=t=>li(t);const iw=(t,e,n)=>!n.some(r=>{var o;return!((o=t.getValue(e))!=null&&o.includes(r))});iw.autoRemove=t=>li(t)||!(t!=null&&t.length);const rw=(t,e,n)=>n.some(r=>{var o;return(o=t.getValue(e))==null?void 0:o.includes(r)});rw.autoRemove=t=>li(t)||!(t!=null&&t.length);const sw=(t,e,n)=>t.getValue(e)===n;sw.autoRemove=t=>li(t);const aw=(t,e,n)=>t.getValue(e)==n;aw.autoRemove=t=>li(t);const ny=(t,e,n)=>{let[r,o]=n;const l=t.getValue(e);return l>=r&&l<=o};ny.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,o=typeof n!="number"?parseFloat(n):n,l=e===null||Number.isNaN(r)?-1/0:r,c=n===null||Number.isNaN(o)?1/0:o;if(l>c){const m=l;l=c,c=m}return[l,c]};ny.autoRemove=t=>li(t)||li(t[0])&&li(t[1]);const gr={includesString:Jb,includesStringSensitive:ew,equalsString:tw,arrIncludes:nw,arrIncludesAll:iw,arrIncludesSome:rw,equals:sw,weakEquals:aw,inNumberRange:ny};function li(t){return t==null||t===""}const L3={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Nn("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?gr.includesString:typeof r=="number"?gr.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?gr.equals:Array.isArray(r)?gr.arrIncludes:gr.weakEquals},t.getFilterFn=()=>{var n,r;return Lf(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:gr[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,o;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((o=e.options.enableFilters)!=null?o:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const o=t.getFilterFn(),l=r?.find(v=>v.id===t.id),c=fs(n,l?l.value:void 0);if(OE(o,c,t)){var m;return(m=r?.filter(v=>v.id!==t.id))!=null?m:[]}const g={id:t.id,value:c};if(l){var p;return(p=r?.map(v=>v.id===t.id?g:v))!=null?p:[]}return r!=null&&r.length?[...r,g]:[g]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=o=>{var l;return(l=fs(e,o))==null?void 0:l.filter(c=>{const m=n.find(g=>g.id===c.id);if(m){const g=m.getFilterFn();if(OE(g,c.value,m))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function OE(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const j3=(t,e,n)=>n.reduce((r,o)=>{const l=o.getValue(t);return r+(typeof l=="number"?l:0)},0),U3=(t,e,n)=>{let r;return n.forEach(o=>{const l=o.getValue(t);l!=null&&(r>l||r===void 0&&l>=l)&&(r=l)}),r},z3=(t,e,n)=>{let r;return n.forEach(o=>{const l=o.getValue(t);l!=null&&(r<l||r===void 0&&l>=l)&&(r=l)}),r},B3=(t,e,n)=>{let r,o;return n.forEach(l=>{const c=l.getValue(t);c!=null&&(r===void 0?c>=c&&(r=o=c):(r>c&&(r=c),o<c&&(o=c)))}),[r,o]},H3=(t,e)=>{let n=0,r=0;if(e.forEach(o=>{let l=o.getValue(t);l!=null&&(l=+l)>=l&&(++n,r+=l)}),n)return r/n},F3=(t,e)=>{if(!e.length)return;const n=e.map(l=>l.getValue(t));if(!I3(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((l,c)=>l-c);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},q3=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),G3=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,$3=(t,e)=>e.length,ag={sum:j3,min:U3,max:z3,extent:B3,mean:H3,median:F3,unique:q3,uniqueCount:G3,count:$3},K3={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Nn("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return ag.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ag.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Lf(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:ag[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var o;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Y3(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(l=>!e.includes(l.id));return n==="remove"?r:[...e.map(l=>t.find(c=>c.id===l)).filter(Boolean),...r]}const Q3={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Nn("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=ve(n=>[uu(e,n)],n=>n.findIndex(r=>r.id===t.id),Te(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=uu(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const o=uu(e,n);return((r=o[o.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=ve(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>o=>{let l=[];if(!(e!=null&&e.length))l=o;else{const c=[...e],m=[...o];for(;m.length&&c.length;){const g=c.shift(),p=m.findIndex(v=>v.id===g);p>-1&&l.push(m.splice(p,1)[0])}l=[...l,...m]}return Y3(l,n,r)},Te(t.options,"debugTable"))}},og=()=>({left:[],right:[]}),X3={getInitialState:t=>({columnPinning:og(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Nn("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(o=>o.id).filter(Boolean);e.setColumnPinning(o=>{var l,c;if(n==="right"){var m,g;return{left:((m=o?.left)!=null?m:[]).filter(E=>!(r!=null&&r.includes(E))),right:[...((g=o?.right)!=null?g:[]).filter(E=>!(r!=null&&r.includes(E))),...r]}}if(n==="left"){var p,v;return{left:[...((p=o?.left)!=null?p:[]).filter(E=>!(r!=null&&r.includes(E))),...r],right:((v=o?.right)!=null?v:[]).filter(E=>!(r!=null&&r.includes(E)))}}return{left:((l=o?.left)!=null?l:[]).filter(E=>!(r!=null&&r.includes(E))),right:((c=o?.right)!=null?c:[]).filter(E=>!(r!=null&&r.includes(E)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var o,l,c;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((l=(c=e.options.enableColumnPinning)!=null?c:e.options.enablePinning)!=null?l:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(m=>m.id),{left:r,right:o}=e.getState().columnPinning,l=n.some(m=>r?.includes(m)),c=n.some(m=>o?.includes(m));return l?"left":c?"right":!1},t.getPinnedIndex=()=>{var n,r;const o=t.getIsPinned();return o?(n=(r=e.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,o)=>{const l=[...r??[],...o??[]];return n.filter(c=>!l.includes(c.column.id))},Te(e.options,"debugRows")),t.getLeftVisibleCells=ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"left"})),Te(e.options,"debugRows")),t.getRightVisibleCells=ve(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(l=>n.find(c=>c.column.id===l)).filter(Boolean).map(l=>({...l,position:"right"})),Te(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?og():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:og())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var o,l;return!!((o=r.left)!=null&&o.length||(l=r.right)!=null&&l.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(o=>o.id===r)).filter(Boolean),Te(t.options,"debugColumns")),t.getRightLeafColumns=ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(o=>o.id===r)).filter(Boolean),Te(t.options,"debugColumns")),t.getCenterLeafColumns=ve(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const o=[...n??[],...r??[]];return e.filter(l=>!o.includes(l.id))},Te(t.options,"debugColumns"))}};function W3(t){return t||(typeof document<"u"?document:null)}const wh={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},lg=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Z3={getDefaultColumnDef:()=>wh,getInitialState:t=>({columnSizing:{},columnSizingInfo:lg(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Nn("columnSizing",t),onColumnSizingInfoChange:Nn("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,o;const l=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:wh.minSize,(r=l??t.columnDef.size)!=null?r:wh.size),(o=t.columnDef.maxSize)!=null?o:wh.maxSize)},t.getStart=ve(n=>[n,uu(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((o,l)=>o+l.getSize(),0),Te(e.options,"debugColumns")),t.getAfter=ve(n=>[n,uu(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((o,l)=>o+l.getSize(),0),Te(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...o}=n;return o})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var l;n+=(l=o.column.getSize())!=null?l:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),o=r?.getCanResize();return l=>{if(!r||!o||(l.persist==null||l.persist(),ug(l)&&l.touches&&l.touches.length>1))return;const c=t.getSize(),m=t?t.getLeafHeaders().map(B=>[B.column.id,B.column.getSize()]):[[r.id,r.getSize()]],g=ug(l)?Math.round(l.touches[0].clientX):l.clientX,p={},v=(B,$)=>{typeof $=="number"&&(e.setColumnSizingInfo(X=>{var le,oe;const me=e.options.columnResizeDirection==="rtl"?-1:1,O=($-((le=X?.startOffset)!=null?le:0))*me,x=Math.max(O/((oe=X?.startSize)!=null?oe:0),-.999999);return X.columnSizingStart.forEach(M=>{let[U,P]=M;p[U]=Math.round(Math.max(P+P*x,0)*100)/100}),{...X,deltaOffset:O,deltaPercentage:x}}),(e.options.columnResizeMode==="onChange"||B==="end")&&e.setColumnSizing(X=>({...X,...p})))},E=B=>v("move",B),b=B=>{v("end",B),e.setColumnSizingInfo($=>({...$,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},R=W3(n),I={moveHandler:B=>E(B.clientX),upHandler:B=>{R?.removeEventListener("mousemove",I.moveHandler),R?.removeEventListener("mouseup",I.upHandler),b(B.clientX)}},z={moveHandler:B=>(B.cancelable&&(B.preventDefault(),B.stopPropagation()),E(B.touches[0].clientX),!1),upHandler:B=>{var $;R?.removeEventListener("touchmove",z.moveHandler),R?.removeEventListener("touchend",z.upHandler),B.cancelable&&(B.preventDefault(),B.stopPropagation()),b(($=B.touches[0])==null?void 0:$.clientX)}},N=J3()?{passive:!1}:!1;ug(l)?(R?.addEventListener("touchmove",z.moveHandler,N),R?.addEventListener("touchend",z.upHandler,N)):(R?.addEventListener("mousemove",I.moveHandler,N),R?.addEventListener("mouseup",I.upHandler,N)),e.setColumnSizingInfo(B=>({...B,startOffset:g,startSize:c,deltaOffset:0,deltaPercentage:0,columnSizingStart:m,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?lg():(n=t.initialState.columnSizingInfo)!=null?n:lg())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?e:0}}};let Rh=null;function J3(){if(typeof Rh=="boolean")return Rh;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Rh=t,Rh}function ug(t){return t.type==="touchstart"}const eP={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Nn("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const o=t.columns;return(n=o.length?o.some(l=>l.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=ve(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Te(e.options,"debugRows")),t.getVisibleCells=ve(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Te(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>ve(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(l=>l.getIsVisible==null?void 0:l.getIsVisible()),Te(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((o,l)=>({...o,[l.id]:n||!(l.getCanHide!=null&&l.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function uu(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const tP={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},nP={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Nn("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,o,l;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((o=e.options.enableFilters)!=null?o:!0)&&((l=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?l:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>gr.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Lf(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:gr[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},iP={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Nn("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,o;if(!e){t._queue(()=>{e=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var o,l;t.setExpanded(r?{}:(o=(l=t.initialState)==null?void 0:l.expanded)!=null?o:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(l=>{const c=l.split(".");r=Math.max(r,c.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var o;const l=r===!0?!0:!!(r!=null&&r[t.id]);let c={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(m=>{c[m]=!0}):c=r,n=(o=n)!=null?o:!l,!l&&n)return{...c,[t.id]:!0};if(l&&!n){const{[t.id]:m,...g}=c;return g}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,o;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((o=t.subRows)!=null&&o.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},qg=0,Gg=10,cg=()=>({pageIndex:qg,pageSize:Gg}),rP={getInitialState:t=>({...t,pagination:{...cg(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:Nn("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,o;if(!e){t._queue(()=>{e=!0});return}if((r=(o=t.options.autoResetAll)!=null?o:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const o=l=>fs(r,l);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(o)},t.resetPagination=r=>{var o;t.setPagination(r?cg():(o=t.initialState.pagination)!=null?o:cg())},t.setPageIndex=r=>{t.setPagination(o=>{let l=fs(r,o.pageIndex);const c=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return l=Math.max(0,Math.min(l,c)),{...o,pageIndex:l}})},t.resetPageIndex=r=>{var o,l;t.setPageIndex(r?qg:(o=(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.pageIndex)!=null?o:qg)},t.resetPageSize=r=>{var o,l;t.setPageSize(r?Gg:(o=(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.pageSize)!=null?o:Gg)},t.setPageSize=r=>{t.setPagination(o=>{const l=Math.max(1,fs(r,o.pageSize)),c=o.pageSize*o.pageIndex,m=Math.floor(c/l);return{...o,pageIndex:m,pageSize:l}})},t.setPageCount=r=>t.setPagination(o=>{var l;let c=fs(r,(l=t.options.pageCount)!=null?l:-1);return typeof c=="number"&&(c=Math.max(-1,c)),{...o,pageCount:c}}),t.getPageOptions=ve(()=>[t.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((l,c)=>c)),o},Te(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,o=t.getPageCount();return o===-1?!0:o===0?!1:r<o-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},hg=()=>({top:[],bottom:[]}),sP={getInitialState:t=>({rowPinning:hg(),...t}),getDefaultOptions:t=>({onRowPinningChange:Nn("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,o)=>{const l=r?t.getLeafRows().map(g=>{let{id:p}=g;return p}):[],c=o?t.getParentRows().map(g=>{let{id:p}=g;return p}):[],m=new Set([...c,t.id,...l]);e.setRowPinning(g=>{var p,v;if(n==="bottom"){var E,b;return{top:((E=g?.top)!=null?E:[]).filter(z=>!(m!=null&&m.has(z))),bottom:[...((b=g?.bottom)!=null?b:[]).filter(z=>!(m!=null&&m.has(z))),...Array.from(m)]}}if(n==="top"){var R,I;return{top:[...((R=g?.top)!=null?R:[]).filter(z=>!(m!=null&&m.has(z))),...Array.from(m)],bottom:((I=g?.bottom)!=null?I:[]).filter(z=>!(m!=null&&m.has(z)))}}return{top:((p=g?.top)!=null?p:[]).filter(z=>!(m!=null&&m.has(z))),bottom:((v=g?.bottom)!=null?v:[]).filter(z=>!(m!=null&&m.has(z)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=e.options;return typeof r=="function"?r(t):(n=r??o)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:o}=e.getState().rowPinning,l=n.some(m=>r?.includes(m)),c=n.some(m=>o?.includes(m));return l?"top":c?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const o=t.getIsPinned();if(!o)return-1;const l=(n=o==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(c=>{let{id:m}=c;return m});return(r=l?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?hg():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:hg())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var o,l;return!!((o=r.top)!=null&&o.length||(l=r.bottom)!=null&&l.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var o;return((o=t.options.keepPinnedRows)==null||o?(n??[]).map(c=>{const m=t.getRow(c,!0);return m.getIsAllParentsExpanded()?m:null}):(n??[]).map(c=>e.find(m=>m.id===c))).filter(Boolean).map(c=>({...c,position:r}))},t.getTopRows=ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Te(t.options,"debugRows")),t.getBottomRows=ve(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Te(t.options,"debugRows")),t.getCenterRows=ve(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const o=new Set([...n??[],...r??[]]);return e.filter(l=>!o.has(l.id))},Te(t.options,"debugRows"))}},aP={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Nn("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},o=t.getPreGroupedRowModel().flatRows;return e?o.forEach(l=>{l.getCanSelect()&&(r[l.id]=!0)}):o.forEach(l=>{delete r[l.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),o={...n};return t.getRowModel().rows.forEach(l=>{$g(o,l.id,r,!0,t)}),o}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=ve(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?fg(t,n):{rows:[],flatRows:[],rowsById:{}},Te(t.options,"debugTable")),t.getFilteredSelectedRowModel=ve(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?fg(t,n):{rows:[],flatRows:[],rowsById:{}},Te(t.options,"debugTable")),t.getGroupedSelectedRowModel=ve(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?fg(t,n):{rows:[],flatRows:[],rowsById:{}},Te(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(o=>!n[o.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const o=t.getIsSelected();e.setRowSelection(l=>{var c;if(n=typeof n<"u"?n:!o,t.getCanSelect()&&o===n)return l;const m={...l};return $g(m,t.id,n,(c=r?.selectChildren)!=null?c:!0,e),m})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return iy(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Kg(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Kg(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var o;n&&t.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},$g=(t,e,n,r,o)=>{var l;const c=o.getRow(e,!0);n?(c.getCanMultiSelect()||Object.keys(t).forEach(m=>delete t[m]),c.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(l=c.subRows)!=null&&l.length&&c.getCanSelectSubRows()&&c.subRows.forEach(m=>$g(t,m.id,n,r,o))};function fg(t,e){const n=t.getState().rowSelection,r=[],o={},l=function(c,m){return c.map(g=>{var p;const v=iy(g,n);if(v&&(r.push(g),o[g.id]=g),(p=g.subRows)!=null&&p.length&&(g={...g,subRows:l(g.subRows)}),v)return g}).filter(Boolean)};return{rows:l(e.rows),flatRows:r,rowsById:o}}function iy(t,e){var n;return(n=e[t.id])!=null?n:!1}function Kg(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let o=!0,l=!1;return t.subRows.forEach(c=>{if(!(l&&!o)&&(c.getCanSelect()&&(iy(c,e)?l=!0:o=!1),c.subRows&&c.subRows.length)){const m=Kg(c,e);m==="all"?l=!0:(m==="some"&&(l=!0),o=!1)}}),o?"all":l?"some":!1}const Yg=/([0-9]+)/gm,oP=(t,e,n)=>ow(Rs(t.getValue(n)).toLowerCase(),Rs(e.getValue(n)).toLowerCase()),lP=(t,e,n)=>ow(Rs(t.getValue(n)),Rs(e.getValue(n))),uP=(t,e,n)=>ry(Rs(t.getValue(n)).toLowerCase(),Rs(e.getValue(n)).toLowerCase()),cP=(t,e,n)=>ry(Rs(t.getValue(n)),Rs(e.getValue(n))),hP=(t,e,n)=>{const r=t.getValue(n),o=e.getValue(n);return r>o?1:r<o?-1:0},fP=(t,e,n)=>ry(t.getValue(n),e.getValue(n));function ry(t,e){return t===e?0:t>e?1:-1}function Rs(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function ow(t,e){const n=t.split(Yg).filter(Boolean),r=e.split(Yg).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),l=r.shift(),c=parseInt(o,10),m=parseInt(l,10),g=[c,m].sort();if(isNaN(g[0])){if(o>l)return 1;if(l>o)return-1;continue}if(isNaN(g[1]))return isNaN(c)?-1:1;if(c>m)return 1;if(m>c)return-1}return n.length-r.length}const Xl={alphanumeric:oP,alphanumericCaseSensitive:lP,text:uP,textCaseSensitive:cP,datetime:hP,basic:fP},dP={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Nn("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const l=o?.getValue(t.id);if(Object.prototype.toString.call(l)==="[object Date]")return Xl.datetime;if(typeof l=="string"&&(r=!0,l.split(Yg).length>1))return Xl.alphanumeric}return r?Xl.text:Xl.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Lf(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Xl[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const o=t.getNextSortingOrder(),l=typeof n<"u"&&n!==null;e.setSorting(c=>{const m=c?.find(R=>R.id===t.id),g=c?.findIndex(R=>R.id===t.id);let p=[],v,E=l?n:o==="desc";if(c!=null&&c.length&&t.getCanMultiSort()&&r?m?v="toggle":v="add":c!=null&&c.length&&g!==c.length-1?v="replace":m?v="toggle":v="replace",v==="toggle"&&(l||o||(v="remove")),v==="add"){var b;p=[...c,{id:t.id,desc:E}],p.splice(0,p.length-((b=e.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else v==="toggle"?p=c.map(R=>R.id===t.id?{...R,desc:E}:R):v==="remove"?p=c.filter(R=>R.id!==t.id):p=[{id:t.id,desc:E}];return p})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,o;const l=t.getFirstSortDir(),c=t.getIsSorted();return c?c!==l&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(o=e.options.enableMultiRemove)!=null)||o)?!1:c==="desc"?"asc":"desc":l},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(o=>o.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(o=>o.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},mP=[V3,eP,Q3,X3,k3,L3,tP,nP,dP,K3,iP,rP,sP,aP,Z3];function gP(t){var e,n;const r=[...mP,...(e=t._features)!=null?e:[]];let o={_features:r};const l=o._features.reduce((b,R)=>Object.assign(b,R.getDefaultOptions==null?void 0:R.getDefaultOptions(o)),{}),c=b=>o.options.mergeOptions?o.options.mergeOptions(l,b):{...l,...b};let g={...{},...(n=t.initialState)!=null?n:{}};o._features.forEach(b=>{var R;g=(R=b.getInitialState==null?void 0:b.getInitialState(g))!=null?R:g});const p=[];let v=!1;const E={_features:r,options:{...l,...t},initialState:g,_queue:b=>{p.push(b),v||(v=!0,Promise.resolve().then(()=>{for(;p.length;)p.shift()();v=!1}).catch(R=>setTimeout(()=>{throw R})))},reset:()=>{o.setState(o.initialState)},setOptions:b=>{const R=fs(b,o.options);o.options=c(R)},getState:()=>o.options.state,setState:b=>{o.options.onStateChange==null||o.options.onStateChange(b)},_getRowId:(b,R,I)=>{var z;return(z=o.options.getRowId==null?void 0:o.options.getRowId(b,R,I))!=null?z:`${I?[I.id,R].join("."):R}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(b,R)=>{let I=(R?o.getPrePaginationRowModel():o.getRowModel()).rowsById[b];if(!I&&(I=o.getCoreRowModel().rowsById[b],!I))throw new Error;return I},_getDefaultColumnDef:ve(()=>[o.options.defaultColumn],b=>{var R;return b=(R=b)!=null?R:{},{header:I=>{const z=I.header.column.columnDef;return z.accessorKey?z.accessorKey:z.accessorFn?z.id:null},cell:I=>{var z,N;return(z=(N=I.renderValue())==null||N.toString==null?void 0:N.toString())!=null?z:null},...o._features.reduce((I,z)=>Object.assign(I,z.getDefaultColumnDef==null?void 0:z.getDefaultColumnDef()),{}),...b}},Te(t,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:ve(()=>[o._getColumnDefs()],b=>{const R=function(I,z,N){return N===void 0&&(N=0),I.map(B=>{const $=O3(o,B,N,z),X=B;return $.columns=X.columns?R(X.columns,$,N+1):[],$})};return R(b)},Te(t,"debugColumns")),getAllFlatColumns:ve(()=>[o.getAllColumns()],b=>b.flatMap(R=>R.getFlatColumns()),Te(t,"debugColumns")),_getAllFlatColumnsById:ve(()=>[o.getAllFlatColumns()],b=>b.reduce((R,I)=>(R[I.id]=I,R),{}),Te(t,"debugColumns")),getAllLeafColumns:ve(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(b,R)=>{let I=b.flatMap(z=>z.getLeafColumns());return R(I)},Te(t,"debugColumns")),getColumn:b=>o._getAllFlatColumnsById()[b]};Object.assign(o,E);for(let b=0;b<o._features.length;b++){const R=o._features[b];R==null||R.createTable==null||R.createTable(o)}return o}function pP(){return t=>ve(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,l,c){l===void 0&&(l=0);const m=[];for(let p=0;p<o.length;p++){const v=P3(t,t._getRowId(o[p],p,c),o[p],p,l,void 0,c?.id);if(n.flatRows.push(v),n.rowsById[v.id]=v,m.push(v),t.options.getSubRows){var g;v.originalSubRows=t.options.getSubRows(o[p],p),(g=v.originalSubRows)!=null&&g.length&&(v.subRows=r(v.originalSubRows,l+1,v))}}return m};return n.rows=r(e),n},Te(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function yP(t){const e=[],n=r=>{var o;e.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function _P(t){return e=>ve(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:l}=n;let{rows:c,flatRows:m,rowsById:g}=r;const p=o*l,v=p+o;c=c.slice(p,v);let E;e.options.paginateExpandedRows?E={rows:c,flatRows:m,rowsById:g}:E=yP({rows:c,flatRows:m,rowsById:g}),E.flatRows=[];const b=R=>{E.flatRows.push(R),R.subRows.length&&R.subRows.forEach(b)};return E.rows.forEach(b),E},Te(e.options,"debugTable"))}function vP(){return t=>ve(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,o=[],l=r.filter(g=>{var p;return(p=t.getColumn(g.id))==null?void 0:p.getCanSort()}),c={};l.forEach(g=>{const p=t.getColumn(g.id);p&&(c[g.id]={sortUndefined:p.columnDef.sortUndefined,invertSorting:p.columnDef.invertSorting,sortingFn:p.getSortingFn()})});const m=g=>{const p=g.map(v=>({...v}));return p.sort((v,E)=>{for(let R=0;R<l.length;R+=1){var b;const I=l[R],z=c[I.id],N=z.sortUndefined,B=(b=I?.desc)!=null?b:!1;let $=0;if(N){const X=v.getValue(I.id),le=E.getValue(I.id),oe=X===void 0,me=le===void 0;if(oe||me){if(N==="first")return oe?-1:1;if(N==="last")return oe?1:-1;$=oe&&me?0:oe?N:-N}}if($===0&&($=z.sortingFn(v,E,I.id)),$!==0)return B&&($*=-1),z.invertSorting&&($*=-1),$}return v.index-E.index}),p.forEach(v=>{var E;o.push(v),(E=v.subRows)!=null&&E.length&&(v.subRows=m(v.subRows))}),p};return{rows:m(n.rows),flatRows:o,rowsById:n.rowsById}},Te(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function VE(t,e){return t?TP(t)?L.createElement(t,e):t:null}function TP(t){return EP(t)||typeof t=="function"||SP(t)}function EP(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function SP(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function bP(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=L.useState(()=>({current:gP(e)})),[r,o]=L.useState(()=>n.current.initialState);return n.current.setOptions(l=>({...l,...t,state:{...r,...t.state},onStateChange:c=>{o(c),t.onStateChange==null||t.onStateChange(c)}})),n.current}const wP=[{hoTen:"Nguyn Vn An",phapDanh:"Tm An",birthYear:2015,nganhChinh:"nganh_oanh",nganh:"oanh_nam",chucVu:"doan_sinh",phone:"0901234567",address:"Qun 1, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2022"},{hoTen:"Trn Th Bnh",phapDanh:"Tm Bnh",birthYear:2016,nganhChinh:"nganh_oanh",nganh:"oanh_nu",chucVu:"doan_sinh",phone:"0901234568",address:"Qun 3, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2023"},{hoTen:"L Minh Chu",phapDanh:"Tm Chu",birthYear:2014,nganhChinh:"nganh_oanh",nganh:"oanh_nam",chucVu:"doan_sinh",phone:"0901234569",address:"Qun 5, TP.HCM",capBac:"",quaTrinhSinhHoat:"Gia nhp GPT nm 2021"},{hoTen:"Phm Vn Dng",phapDanh:"Tm Dng",birthYear:2010,nganhChinh:"nganh_thieu",nganh:"thieu_nam",chucVu:"doan_sinh",phone:"0901234570",address:"Qun 7, TP.HCM",capBac:"Hng Thin",quaTrinhSinhHoat:`Gia nhp GPT nm 2018
Chuyn ngnh Thiu nm 2023`},{hoTen:"Hong Th Em",phapDanh:"Tm Em",birthYear:2009,nganhChinh:"nganh_thieu",nganh:"thieu_nu",chucVu:"doan_sinh",phone:"0901234571",address:"Qun 10, TP.HCM",capBac:"S Thin",quaTrinhSinhHoat:"Gia nhp GPT nm 2017"},{hoTen:"V Minh Pht",phapDanh:"Tm Pht",birthYear:2011,nganhChinh:"nganh_thieu",nganh:"thieu_nam",chucVu:"doan_sinh",phone:"0901234572",address:"Qun Bnh Thnh, TP.HCM",capBac:"Trung Thin",quaTrinhSinhHoat:"Gia nhp GPT nm 2019"},{hoTen:"ng Vn Giang",phapDanh:"Tm Giang",birthYear:2004,nganhChinh:"nganh_thanh",nganh:"thanh_nam",chucVu:"doan_truong",phone:"0901234573",address:"Qun Tn Bnh, TP.HCM",capBac:"Kin Tr",quaTrinhSinhHoat:`Gia nhp GPT nm 2012
on Trng Thanh Nam t 2023`},{hoTen:"Ng Th Hng",phapDanh:"Tm Hng",birthYear:2003,nganhChinh:"nganh_thanh",nganh:"thanh_nu",chucVu:"doan_truong",phone:"0901234574",address:"Qun Ph Nhun, TP.HCM",capBac:"Kin Tr",quaTrinhSinhHoat:`Gia nhp GPT nm 2011
on Trng Thanh N t 2022`},{hoTen:"Bi Vn Khoa",phapDanh:"Tm Khoa",birthYear:2005,nganhChinh:"nganh_thanh",nganh:"thanh_nam",chucVu:"doan_pho",phone:"0901234575",address:"Qun G Vp, TP.HCM",capBac:"Dng Tin",quaTrinhSinhHoat:`Gia nhp GPT nm 2013
on Ph Thanh Nam t 2024`},{hoTen:"Trng Vn Lm",phapDanh:"Tm Lm",birthYear:1985,nganhChinh:"ban_huynh_truong",nganh:"thanh_nam",chucVu:"lien_doan_truong",phone:"0901234576",address:"Qun 1, TP.HCM",capBac:"Cp Tn",quaTrinhSinhHoat:`Gia nhp GPT nm 1995
Lin on Trng t 2020`},{hoTen:"L Th Mai",phapDanh:"Tm Mai",birthYear:1988,nganhChinh:"ban_huynh_truong",nganh:"thanh_nu",chucVu:"lien_doan_pho",phone:"0901234577",address:"Qun 3, TP.HCM",capBac:"Cp Tn",quaTrinhSinhHoat:`Gia nhp GPT nm 1998
Lin on Ph t 2021`},{hoTen:"inh Vn Nam",phapDanh:"Tm Nam",birthYear:1980,nganhChinh:"ban_huynh_truong",nganh:"thanh_nam",chucVu:"gia_truong",phone:"0901234578",address:"Qun 5, TP.HCM",capBac:"Cp Dng",quaTrinhSinhHoat:`Gia nhp GPT nm 1990
Gia Trng t 2018`}];async function RP(){const t=[];for(const e of wP)try{const n=await ey("members",e);t.push({success:!0,name:e.hoTen,id:n})}catch(n){t.push({success:!1,name:e.hoTen,error:n.message})}return t}const AP=[{value:"",label:"Tt c Ngnh"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"},{value:"nganh_thanh",label:"Ngnh Thanh"},{value:"nganh_thieu",label:"Ngnh Thiu"},{value:"nganh_oanh",label:"Ngnh Oanh"}],CP={ban_huynh_truong:"Ban Huynh Trng",nganh_thanh:"Ngnh Thanh",nganh_thieu:"Ngnh Thiu",nganh_oanh:"Ngnh Oanh"},xP=[{value:"",label:"Tt c n V"},{value:"oanh_nam",label:"Oanh Nam"},{value:"oanh_nu",label:"Oanh N"},{value:"thieu_nam",label:"Thiu Nam"},{value:"thieu_nu",label:"Thiu N"},{value:"thanh_nam",label:"Thanh Nam"},{value:"thanh_nu",label:"Thanh N"},{value:"ban_huynh_truong",label:"Ban Huynh Trng"}];function NP(){const{isAdmin:t}=ku(),{documents:e,loading:n}=ju("members","hoTen"),[r,o]=L.useState(""),[l,c]=L.useState(""),[m,g]=L.useState(""),[p,v]=L.useState(!1),[E,b]=L.useState(!1),[R,I]=L.useState(null),[z,N]=L.useState([]),[B,$]=L.useState(!1),X=L.useMemo(()=>{let D=e;if(r){const C=r.toLowerCase();D=D.filter(Ke=>Ke.hoTen?.toLowerCase().includes(C)||Ke.phapDanh?.toLowerCase().includes(C)||Ke.phone?.includes(C))}return l&&(D=D.filter(C=>C.nganhChinh===l)),m&&(D=D.filter(C=>C.nganh===m)),p&&(D=D.filter(C=>Uh(C.birthYear,C.nganh))),D},[e,r,l,m,p]),le=L.useMemo(()=>[{accessorKey:"hoTen",header:({column:D})=>_.jsxs("button",{className:"flex items-center gap-1",onClick:()=>D.toggleSorting(),children:["H Tn",_.jsx(Ql,{className:"w-4 h-4"})]}),cell:({row:D})=>_.jsxs("div",{children:[_.jsx("p",{className:"font-medium",children:D.original.hoTen}),D.original.phapDanh&&_.jsx("p",{className:"text-sm opacity-70 italic",children:D.original.phapDanh})]})},{accessorKey:"birthYear",header:({column:D})=>_.jsxs("button",{className:"flex items-center gap-1",onClick:()=>D.toggleSorting(),children:["Nm Sinh",_.jsx(Ql,{className:"w-4 h-4"})]}),cell:({row:D})=>{const C=ty(D.original.birthYear);return _.jsxs("div",{children:[_.jsx("span",{children:D.original.birthYear}),_.jsxs("span",{className:"text-sm opacity-70 ml-1",children:["(",C," tui)"]})]})}},{accessorKey:"nganhChinh",header:({column:D})=>_.jsxs("button",{className:"flex items-center gap-1",onClick:()=>D.toggleSorting(),children:["Ngnh",_.jsx(Ql,{className:"w-4 h-4"})]}),cell:({row:D})=>{const C=D.original.nganhChinh;return _.jsx("span",{className:"badge badge-primary badge-outline",children:CP[C]||C||"-"})}},{accessorKey:"nganh",header:({column:D})=>_.jsxs("button",{className:"flex items-center gap-1",onClick:()=>D.toggleSorting(),children:["n V",_.jsx(Ql,{className:"w-4 h-4"})]}),cell:({row:D})=>{const C=Uh(D.original.birthYear,D.original.nganh);return _.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"badge badge-outline",children:Wb[D.original.nganh]||D.original.nganh}),C&&_.jsx("div",{className:"tooltip","data-tip":`Nn chuyn sang ${C.toBranchName}`,children:_.jsx(CE,{className:"w-4 h-4 text-warning"})})]})}},{accessorKey:"chucVu",header:({column:D})=>_.jsxs("button",{className:"flex items-center gap-1",onClick:()=>D.toggleSorting(),children:["Chc V",_.jsx(Ql,{className:"w-4 h-4"})]}),cell:({row:D})=>D.original.chucVu||"-"},{accessorKey:"phone",header:"ST",cell:({row:D})=>D.original.phone||"-"},{id:"actions",header:"",cell:({row:D})=>t?_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>me(D.original),children:_.jsx(t3,{className:"w-4 h-4"})}),_.jsx("button",{className:"btn btn-ghost btn-sm text-error",onClick:()=>O(D.original),children:_.jsx($b,{className:"w-4 h-4"})})]}):null}],[t]),oe=bP({data:X,columns:le,state:{sorting:z},onSortingChange:N,getCoreRowModel:pP(),getSortedRowModel:vP(),getPaginationRowModel:_P(),initialState:{pagination:{pageSize:10}}}),me=D=>{I(D),b(!0)},O=async D=>{if(confirm(`Bn c chc mun xa ${D.hoTen}?`))try{await Qb("members",D.id),Ut.success(" xa thnh vin")}catch(C){Ut.error("Li khi xa: "+C.message)}},x=()=>{I(null),b(!0)},M=()=>{b(!1),I(null)},U=async()=>{if(confirm("Thm d liu demo (12 thnh vin mu)?")){$(!0);try{const C=(await RP()).filter(Ke=>Ke.success).length;Ut.success(` thm ${C} thnh vin demo!`)}catch(D){Ut.error("Li: "+D.message)}finally{$(!1)}}},P=e.filter(D=>Uh(D.birthYear,D.nganh)).length;return n?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("span",{className:"loading loading-spinner loading-lg"})}):_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[_.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[_.jsx("div",{className:"form-control",children:_.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[_.jsx(Gb,{className:"w-4 h-4 opacity-50"}),_.jsx("input",{type:"text",placeholder:"Tm kim...",className:"grow",value:r,onChange:D=>o(D.target.value)})]})}),_.jsx("select",{className:"select select-bordered",value:l,onChange:D=>c(D.target.value),children:AP.map(D=>_.jsx("option",{value:D.value,children:D.label},D.value))}),_.jsx("select",{className:"select select-bordered",value:m,onChange:D=>g(D.target.value),children:xP.map(D=>_.jsx("option",{value:D.value,children:D.label},D.value))}),P>0&&_.jsxs("button",{className:`btn ${p?"btn-warning":"btn-outline btn-warning"}`,onClick:()=>v(!p),children:[_.jsx(CE,{className:"w-4 h-4"}),"Cnh bo (",P,")"]})]}),t&&_.jsxs("div",{className:"flex gap-2",children:[e.length===0&&_.jsx("button",{className:"btn btn-outline btn-secondary",onClick:U,disabled:B,children:B?_.jsx("span",{className:"loading loading-spinner loading-sm"}):"Thm Demo"}),_.jsxs("button",{className:"btn btn-primary",onClick:x,children:[_.jsx(qb,{className:"w-4 h-4"}),"Thm Thnh Vin"]})]})]}),_.jsxs("div",{className:"stats shadow",children:[_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-title",children:"Tng Thnh Vin"}),_.jsx("div",{className:"stat-value text-primary",children:e.length})]}),_.jsxs("div",{className:"stat",children:[_.jsx("div",{className:"stat-title",children:"ang Hin Th"}),_.jsx("div",{className:"stat-value",children:X.length})]})]}),_.jsx("div",{className:"overflow-x-auto bg-base-100 rounded-lg shadow",children:_.jsxs("table",{className:"table table-zebra",children:[_.jsx("thead",{children:oe.getHeaderGroups().map(D=>_.jsx("tr",{children:D.headers.map(C=>_.jsx("th",{children:C.isPlaceholder?null:VE(C.column.columnDef.header,C.getContext())},C.id))},D.id))}),_.jsx("tbody",{children:oe.getRowModel().rows.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:le.length,className:"text-center py-8",children:"Khng c d liu"})}):oe.getRowModel().rows.map(D=>_.jsx("tr",{className:"hover",children:D.getVisibleCells().map(C=>_.jsx("td",{children:VE(C.column.columnDef.cell,C.getContext())},C.id))},D.id))})]})}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"text-sm opacity-70",children:["Trang ",oe.getState().pagination.pageIndex+1," / ",oe.getPageCount()]}),_.jsxs("div",{className:"join",children:[_.jsx("button",{className:"join-item btn btn-sm",onClick:()=>oe.previousPage(),disabled:!oe.getCanPreviousPage(),children:_.jsx(bV,{className:"w-4 h-4"})}),_.jsx("button",{className:"join-item btn btn-sm",onClick:()=>oe.nextPage(),disabled:!oe.getCanNextPage(),children:_.jsx(jb,{className:"w-4 h-4"})})]})]}),_.jsx(Zb,{member:R,isOpen:E,onClose:M})]})}function IP(){return _.jsxs("div",{className:"space-y-4",children:[_.jsx("h1",{className:"text-2xl font-bold",children:"Danh Sch on Sinh GPT Vnh An"}),_.jsx(NP,{})]})}const DP=[{id:"phat-phap",name:"Pht Php",icon:yV,color:"text-amber-500"},{id:"ky-nang",name:"K Nng Chuyn Mn",icon:c3,color:"text-blue-500"},{id:"bai-hat",name:"Bi Ht Sinh Hot",icon:Hb,color:"text-pink-500"},{id:"tro-choi",name:"Tng Hp Tr Chi",icon:DV,color:"text-green-500"}],PE=[{value:"document",label:"Ti liu (PDF, Word)",icon:Zp},{value:"audio",label:"m thanh (MP3)",icon:Hb},{value:"video",label:"Video",icon:l3},{value:"youtube",label:"YouTube",icon:d3},{value:"image",label:"Hnh nh",icon:VV},{value:"other",label:"Link khc",icon:zb}];function MP(){const{isAdmin:t}=ku(),{documents:e,loading:n}=ju("documents"),[r,o]=L.useState(null),[l,c]=L.useState(!1),[m,g]=L.useState({title:"",url:"",type:"document",description:""}),p=L.useMemo(()=>r?e.filter(N=>N.category===r.id):[],[e,r]),v=L.useMemo(()=>e.reduce((N,B)=>(N[B.category]=(N[B.category]||0)+1,N),{}),[e]),E=async N=>{if(N.preventDefault(),!m.title.trim()||!m.url.trim()){Ut.error("Vui lng nhp  thng tin");return}try{new URL(m.url)}catch{Ut.error("URL khng hp l");return}try{await ey("documents",{...m,category:r.id}),Ut.success(" thm ti liu!"),c(!1),g({title:"",url:"",type:"document",description:""})}catch(B){Ut.error("Li: "+B.message)}},b=async N=>{if(confirm(`Bn c chc mun xa "${N.title}"?`))try{await Qb("documents",N.id),Ut.success(" xa ti liu")}catch(B){Ut.error("Li: "+B.message)}},R=N=>PE.find($=>$.value===N)?.icon||zb,I=N=>{const B=N.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);return B?B[1]:null};if(!r)return _.jsxs("div",{className:"space-y-6",children:[_.jsx("h2",{className:"text-2xl font-bold",children:"Ti Liu"}),_.jsx("p",{className:"opacity-70",children:"Chn danh mc  xem ti liu"}),n?_.jsx("div",{className:"flex justify-center py-8",children:_.jsx("span",{className:"loading loading-spinner loading-lg"})}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:DP.map(N=>{const B=N.icon,$=v[N.id]||0;return _.jsx("div",{className:"card bg-base-200 hover:bg-base-300 cursor-pointer transition-colors",onClick:()=>o(N),children:_.jsxs("div",{className:"card-body flex-row items-center gap-4",children:[_.jsx("div",{className:`p-3 rounded-lg bg-base-100 ${N.color}`,children:_.jsx(B,{className:"w-8 h-8"})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"card-title",children:N.name}),_.jsxs("p",{className:"text-sm opacity-70",children:[$," ti liu"]})]}),_.jsx(jb,{className:"w-5 h-5 opacity-50"})]})},N.id)})}),_.jsx("div",{className:"alert alert-info",children:_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold",children:"Hng dn thm ti liu:"}),_.jsxs("ol",{className:"list-decimal list-inside text-sm mt-2 space-y-1",children:[_.jsxs("li",{children:["Upload file ln ",_.jsx("strong",{children:"Google Drive"})," v copy link chia s"]}),_.jsxs("li",{children:["Hoc copy link t ",_.jsx("strong",{children:"YouTube"}),", ",_.jsx("strong",{children:"SoundCloud"})]}),_.jsx("li",{children:"Vo danh mc  Thm Ti Liu  Dn link"})]})]})})]});const z=r.icon;return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"breadcrumbs text-sm",children:_.jsxs("ul",{children:[_.jsx("li",{children:_.jsxs("button",{className:"flex items-center gap-1 hover:text-primary",onClick:()=>o(null),children:[_.jsx(Ub,{className:"w-4 h-4"}),"Ti Liu"]})}),_.jsx("li",{children:_.jsxs("span",{className:`flex items-center gap-1 ${r.color}`,children:[_.jsx(z,{className:"w-4 h-4"}),r.name]})})]})}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[_.jsx(z,{className:`w-6 h-6 ${r.color}`}),r.name]}),t&&_.jsxs("button",{className:"btn btn-primary",onClick:()=>c(!0),children:[_.jsx(qb,{className:"w-4 h-4"}),"Thm Ti Liu"]})]}),n&&_.jsx("div",{className:"flex justify-center py-8",children:_.jsx("span",{className:"loading loading-spinner loading-lg"})}),!n&&p.length===0&&_.jsxs("div",{className:"text-center py-12 opacity-70",children:[_.jsx(NV,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),_.jsx("p",{children:"Cha c ti liu no"}),t&&_.jsx("p",{className:"text-sm mt-2",children:'Nhn "Thm Ti Liu"  thm link'})]}),!n&&p.length>0&&_.jsx("div",{className:"grid gap-3",children:p.map(N=>{const B=R(N.type),$=N.type==="youtube"?I(N.url):null;return _.jsx("div",{className:"card bg-base-200",children:_.jsx("div",{className:"card-body p-4",children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:`p-2 rounded-lg bg-base-300 ${r.color}`,children:_.jsx(B,{className:"w-5 h-5"})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"font-semibold",children:N.title}),N.description&&_.jsx("p",{className:"text-sm opacity-70 mt-1",children:N.description}),$&&_.jsx("div",{className:"mt-3 aspect-video max-w-md",children:_.jsx("iframe",{className:"w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${$}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-ghost btn-sm",children:[_.jsx(AV,{className:"w-4 h-4"}),"M"]}),t&&_.jsx("button",{className:"btn btn-ghost btn-sm text-error",onClick:()=>b(N),children:_.jsx($b,{className:"w-4 h-4"})})]})]})})},N.id)})}),_.jsxs("dialog",{className:`modal ${l?"modal-open":""}`,children:[_.jsxs("div",{className:"modal-box",children:[_.jsx("h3",{className:"font-bold text-lg mb-4",children:"Thm Ti Liu"}),_.jsxs("form",{onSubmit:E,className:"space-y-4",children:[_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Tiu  *"})}),_.jsx("input",{type:"text",className:"input input-bordered",placeholder:"VD: Bi Ca Sen Trng",value:m.title,onChange:N=>g({...m,title:N.target.value}),required:!0})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Loi ti liu"})}),_.jsx("select",{className:"select select-bordered",value:m.type,onChange:N=>g({...m,type:N.target.value}),children:PE.map(N=>_.jsx("option",{value:N.value,children:N.label},N.value))})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Link URL *"})}),_.jsx("input",{type:"url",className:"input input-bordered",placeholder:"https://drive.google.com/... hoc https://youtube.com/...",value:m.url,onChange:N=>g({...m,url:N.target.value}),required:!0}),_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text-alt opacity-70",children:"Dn link t Google Drive, YouTube, SoundCloud, v.v."})})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"M t (ty chn)"})}),_.jsx("textarea",{className:"textarea textarea-bordered",placeholder:"M t ngn v ti liu...",rows:2,value:m.description,onChange:N=>g({...m,description:N.target.value})})]}),_.jsxs("div",{className:"modal-action",children:[_.jsx("button",{type:"button",className:"btn",onClick:()=>c(!1),children:"Hy"}),_.jsx("button",{type:"submit",className:"btn btn-primary",children:"Thm"})]})]})]}),_.jsx("form",{method:"dialog",className:"modal-backdrop",children:_.jsx("button",{onClick:()=>c(!1),children:"close"})})]})]})}function OP(){return _.jsx("div",{className:"space-y-4",children:_.jsx(MP,{})})}function VP(){const[t,e]=L.useState(""),[n,r]=L.useState(""),[o,l]=L.useState(!1),{login:c}=ku(),m=Wg(),g=async p=>{p.preventDefault(),l(!0);try{await c(t,n),Ut.success("ng nhp thnh cng!"),m("/")}catch(v){console.error("Login error:",v);let E="ng nhp tht bi";v.code==="auth/user-not-found"?E="Khng tm thy ti khon":v.code==="auth/wrong-password"?E="Sai mt khu":v.code==="auth/invalid-email"?E="Email khng hp l":v.code==="auth/invalid-credential"&&(E="Email hoc mt khu khng ng"),Ut.error(E)}finally{l(!1)}};return _.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:_.jsx("div",{className:"card w-full max-w-md bg-base-200 shadow-xl",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("h2",{className:"card-title justify-center text-2xl mb-4",children:[_.jsx(AE,{className:"w-6 h-6"}),"ng Nhp Qun Tr"]}),_.jsxs("form",{onSubmit:g,className:"space-y-4",children:[_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Email"})}),_.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[_.jsx(BV,{className:"w-4 h-4 opacity-70"}),_.jsx("input",{type:"email",className:"grow",placeholder:"admin@example.com",value:t,onChange:p=>e(p.target.value),required:!0})]})]}),_.jsxs("div",{className:"form-control",children:[_.jsx("label",{className:"label",children:_.jsx("span",{className:"label-text",children:"Mt Khu"})}),_.jsxs("label",{className:"input input-bordered flex items-center gap-2",children:[_.jsx(AE,{className:"w-4 h-4 opacity-70"}),_.jsx("input",{type:"password",className:"grow",placeholder:"********",value:n,onChange:p=>r(p.target.value),required:!0})]})]}),_.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:o,children:o?_.jsx("span",{className:"loading loading-spinner loading-sm"}):_.jsxs(_.Fragment,{children:[_.jsx(Bb,{className:"w-4 h-4"}),"ng Nhp"]})})]}),_.jsx("div",{className:"divider",children:"Lu "}),_.jsxs("p",{className:"text-sm opacity-70 text-center",children:["Ch qun tr vin mi c quyn ng nhp.",_.jsx("br",{}),"Lin h ban qun tr  c cp ti khon."]})]})})})}function PP(){const t=Wg(),e=Rr();return L.useEffect(()=>{const n=e.search;if(n.startsWith("?/")){const r=n.slice(2).split("&")[0].replace(/~and~/g,"&");t("/"+r,{replace:!0})}},[e,t]),null}function kP(){return _.jsx(_O,{children:_.jsxs(yC,{basename:"/vinhan",children:[_.jsx(PP,{}),_.jsx(KA,{children:_.jsxs(oa,{path:"/",element:_.jsx(_3,{}),children:[_.jsx(oa,{index:!0,element:_.jsx(v3,{})}),_.jsx(oa,{path:"org-chart",element:_.jsx(N3,{})}),_.jsx(oa,{path:"members",element:_.jsx(IP,{})}),_.jsx(oa,{path:"documents",element:_.jsx(OP,{})}),_.jsx(oa,{path:"login",element:_.jsx(VP,{})})]})})]})})}KR.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(kP,{})}));
